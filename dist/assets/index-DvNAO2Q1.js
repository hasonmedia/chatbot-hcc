function Dz(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ly={exports:{}},iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function Pz(){if(AE)return iu;AE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return iu.Fragment=t,iu.jsx=n,iu.jsxs=n,iu}var ME;function Rz(){return ME||(ME=1,Ly.exports=Pz()),Ly.exports}var h=Rz(),By={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function Lz(){if(_E)return Ie;_E=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(P){return P===null||typeof P!="object"?null:(P=m&&P[m]||P["@@iterator"],typeof P=="function"?P:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function S(P,X,Z){this.props=P,this.context=X,this.refs=w,this.updater=Z||v}S.prototype.isReactComponent={},S.prototype.setState=function(P,X){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,X,"setState")},S.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function k(){}k.prototype=S.prototype;function E(P,X,Z){this.props=P,this.context=X,this.refs=w,this.updater=Z||v}var O=E.prototype=new k;O.constructor=E,b(O,S.prototype),O.isPureReactComponent=!0;var _=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function D(P,X,Z,de,ve,Oe){return Z=Oe.ref,{$$typeof:e,type:P,key:X,ref:Z!==void 0?Z:null,props:Oe}}function B(P,X){return D(P.type,X,void 0,void 0,void 0,P.props)}function q(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function L(P){var X={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Z){return X[Z]})}var K=/\/+/g;function V(P,X){return typeof P=="object"&&P!==null&&P.key!=null?L(""+P.key):X.toString(36)}function te(){}function oe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(te,te):(P.status="pending",P.then(function(X){P.status==="pending"&&(P.status="fulfilled",P.value=X)},function(X){P.status==="pending"&&(P.status="rejected",P.reason=X)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ue(P,X,Z,de,ve){var Oe=typeof P;(Oe==="undefined"||Oe==="boolean")&&(P=null);var Ee=!1;if(P===null)Ee=!0;else switch(Oe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(P.$$typeof){case e:case t:Ee=!0;break;case p:return Ee=P._init,ue(Ee(P._payload),X,Z,de,ve)}}if(Ee)return ve=ve(P),Ee=de===""?"."+V(P,0):de,_(ve)?(Z="",Ee!=null&&(Z=Ee.replace(K,"$&/")+"/"),ue(ve,X,Z,"",function(Q){return Q})):ve!=null&&(q(ve)&&(ve=B(ve,Z+(ve.key==null||P&&P.key===ve.key?"":(""+ve.key).replace(K,"$&/")+"/")+Ee)),X.push(ve)),1;Ee=0;var je=de===""?".":de+":";if(_(P))for(var ae=0;ae<P.length;ae++)de=P[ae],Oe=je+V(de,ae),Ee+=ue(de,X,Z,Oe,ve);else if(ae=y(P),typeof ae=="function")for(P=ae.call(P),ae=0;!(de=P.next()).done;)de=de.value,Oe=je+V(de,ae++),Ee+=ue(de,X,Z,Oe,ve);else if(Oe==="object"){if(typeof P.then=="function")return ue(oe(P),X,Z,de,ve);throw X=String(P),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function $(P,X,Z){if(P==null)return P;var de=[],ve=0;return ue(P,de,"","",function(Oe){return X.call(Z,Oe,ve++)}),de}function J(P){if(P._status===-1){var X=P._result;X=X(),X.then(function(Z){(P._status===0||P._status===-1)&&(P._status=1,P._result=Z)},function(Z){(P._status===0||P._status===-1)&&(P._status=2,P._result=Z)}),P._status===-1&&(P._status=0,P._result=X)}if(P._status===1)return P._result.default;throw P._result}var he=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function be(){}return Ie.Children={map:$,forEach:function(P,X,Z){$(P,function(){X.apply(this,arguments)},Z)},count:function(P){var X=0;return $(P,function(){X++}),X},toArray:function(P){return $(P,function(X){return X})||[]},only:function(P){if(!q(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ie.Component=S,Ie.Fragment=n,Ie.Profiler=i,Ie.PureComponent=E,Ie.StrictMode=r,Ie.Suspense=u,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(P){return T.H.useMemoCache(P)}},Ie.cache=function(P){return function(){return P.apply(null,arguments)}},Ie.cloneElement=function(P,X,Z){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var de=b({},P.props),ve=P.key,Oe=void 0;if(X!=null)for(Ee in X.ref!==void 0&&(Oe=void 0),X.key!==void 0&&(ve=""+X.key),X)!M.call(X,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&X.ref===void 0||(de[Ee]=X[Ee]);var Ee=arguments.length-2;if(Ee===1)de.children=Z;else if(1<Ee){for(var je=Array(Ee),ae=0;ae<Ee;ae++)je[ae]=arguments[ae+2];de.children=je}return D(P.type,ve,void 0,void 0,Oe,de)},Ie.createContext=function(P){return P={$$typeof:s,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:a,_context:P},P},Ie.createElement=function(P,X,Z){var de,ve={},Oe=null;if(X!=null)for(de in X.key!==void 0&&(Oe=""+X.key),X)M.call(X,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(ve[de]=X[de]);var Ee=arguments.length-2;if(Ee===1)ve.children=Z;else if(1<Ee){for(var je=Array(Ee),ae=0;ae<Ee;ae++)je[ae]=arguments[ae+2];ve.children=je}if(P&&P.defaultProps)for(de in Ee=P.defaultProps,Ee)ve[de]===void 0&&(ve[de]=Ee[de]);return D(P,Oe,void 0,void 0,null,ve)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(P){return{$$typeof:c,render:P}},Ie.isValidElement=q,Ie.lazy=function(P){return{$$typeof:p,_payload:{_status:-1,_result:P},_init:J}},Ie.memo=function(P,X){return{$$typeof:d,type:P,compare:X===void 0?null:X}},Ie.startTransition=function(P){var X=T.T,Z={};T.T=Z;try{var de=P(),ve=T.S;ve!==null&&ve(Z,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(be,he)}catch(Oe){he(Oe)}finally{T.T=X}},Ie.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ie.use=function(P){return T.H.use(P)},Ie.useActionState=function(P,X,Z){return T.H.useActionState(P,X,Z)},Ie.useCallback=function(P,X){return T.H.useCallback(P,X)},Ie.useContext=function(P){return T.H.useContext(P)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(P,X){return T.H.useDeferredValue(P,X)},Ie.useEffect=function(P,X,Z){var de=T.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(P,X)},Ie.useId=function(){return T.H.useId()},Ie.useImperativeHandle=function(P,X,Z){return T.H.useImperativeHandle(P,X,Z)},Ie.useInsertionEffect=function(P,X){return T.H.useInsertionEffect(P,X)},Ie.useLayoutEffect=function(P,X){return T.H.useLayoutEffect(P,X)},Ie.useMemo=function(P,X){return T.H.useMemo(P,X)},Ie.useOptimistic=function(P,X){return T.H.useOptimistic(P,X)},Ie.useReducer=function(P,X,Z){return T.H.useReducer(P,X,Z)},Ie.useRef=function(P){return T.H.useRef(P)},Ie.useState=function(P){return T.H.useState(P)},Ie.useSyncExternalStore=function(P,X,Z){return T.H.useSyncExternalStore(P,X,Z)},Ie.useTransition=function(){return T.H.useTransition()},Ie.version="19.1.1",Ie}var DE;function ql(){return DE||(DE=1,By.exports=Lz()),By.exports}var j=ql();const En=Jr(j),Bz=Dz({__proto__:null,default:En},[j]);var Iy={exports:{}},au={},zy={exports:{}},$y={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function Iz(){return PE||(PE=1,(function(e){function t($,J){var he=$.length;$.push(J);e:for(;0<he;){var be=he-1>>>1,P=$[be];if(0<i(P,J))$[be]=J,$[he]=P,he=be;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var J=$[0],he=$.pop();if(he!==J){$[0]=he;e:for(var be=0,P=$.length,X=P>>>1;be<X;){var Z=2*(be+1)-1,de=$[Z],ve=Z+1,Oe=$[ve];if(0>i(de,he))ve<P&&0>i(Oe,de)?($[be]=Oe,$[ve]=he,be=ve):($[be]=de,$[Z]=he,be=Z);else if(ve<P&&0>i(Oe,he))$[be]=Oe,$[ve]=he,be=ve;else break e}}return J}function i($,J){var he=$.sortIndex-J.sortIndex;return he!==0?he:$.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var u=[],d=[],p=1,m=null,y=3,v=!1,b=!1,w=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function _($){for(var J=n(d);J!==null;){if(J.callback===null)r(d);else if(J.startTime<=$)r(d),J.sortIndex=J.expirationTime,t(u,J);else break;J=n(d)}}function T($){if(w=!1,_($),!b)if(n(u)!==null)b=!0,M||(M=!0,V());else{var J=n(d);J!==null&&ue(T,J.startTime-$)}}var M=!1,D=-1,B=5,q=-1;function L(){return S?!0:!(e.unstable_now()-q<B)}function K(){if(S=!1,M){var $=e.unstable_now();q=$;var J=!0;try{e:{b=!1,w&&(w=!1,E(D),D=-1),v=!0;var he=y;try{t:{for(_($),m=n(u);m!==null&&!(m.expirationTime>$&&L());){var be=m.callback;if(typeof be=="function"){m.callback=null,y=m.priorityLevel;var P=be(m.expirationTime<=$);if($=e.unstable_now(),typeof P=="function"){m.callback=P,_($),J=!0;break t}m===n(u)&&r(u),_($)}else r(u);m=n(u)}if(m!==null)J=!0;else{var X=n(d);X!==null&&ue(T,X.startTime-$),J=!1}}break e}finally{m=null,y=he,v=!1}J=void 0}}finally{J?V():M=!1}}}var V;if(typeof O=="function")V=function(){O(K)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,oe=te.port2;te.port1.onmessage=K,V=function(){oe.postMessage(null)}}else V=function(){k(K,0)};function ue($,J){D=k(function(){$(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function($){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var he=y;y=J;try{return $()}finally{y=he}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function($,J){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var he=y;y=$;try{return J()}finally{y=he}},e.unstable_scheduleCallback=function($,J,he){var be=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?be+he:be):he=be,$){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=he+P,$={id:p++,callback:J,priorityLevel:$,startTime:he,expirationTime:P,sortIndex:-1},he>be?($.sortIndex=he,t(d,$),n(u)===null&&$===n(d)&&(w?(E(D),D=-1):w=!0,ue(T,he-be))):($.sortIndex=P,t(u,$),b||v||(b=!0,M||(M=!0,V()))),$},e.unstable_shouldYield=L,e.unstable_wrapCallback=function($){var J=y;return function(){var he=y;y=J;try{return $.apply(this,arguments)}finally{y=he}}}})($y)),$y}var RE;function zz(){return RE||(RE=1,zy.exports=Iz()),zy.exports}var Uy={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function $z(){if(LE)return wn;LE=1;var e=ql();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,d,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:d,implementation:p}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wn.createPortal=function(u,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(u,d,null,p)},wn.flushSync=function(u){var d=s.T,p=r.p;try{if(s.T=null,r.p=2,u)return u()}finally{s.T=d,r.p=p,r.d.f()}},wn.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},wn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},wn.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:v}):p==="script"&&r.d.X(u,{crossOrigin:m,integrity:y,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},wn.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},wn.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin);r.d.L(u,p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},wn.preloadModule=function(u,d){if(typeof u=="string")if(d){var p=c(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},wn.requestFormReset=function(u){r.d.r(u)},wn.unstable_batchedUpdates=function(u,d){return u(d)},wn.useFormState=function(u,d,p){return s.H.useFormState(u,d,p)},wn.useFormStatus=function(){return s.H.useHostTransitionStatus()},wn.version="19.1.1",wn}var BE;function P_(){if(BE)return Uy.exports;BE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Uy.exports=$z(),Uy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function Uz(){if(IE)return au;IE=1;var e=zz(),t=ql(),n=P_();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function u(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,g=l;;){var x=f.return;if(x===null)break;var N=x.alternate;if(N===null){if(g=x.return,g!==null){f=g;continue}break}if(x.child===N.child){for(N=x.child;N;){if(N===f)return c(x),o;if(N===g)return c(x),l;N=N.sibling}throw Error(r(188))}if(f.return!==g.return)f=x,g=N;else{for(var C=!1,A=x.child;A;){if(A===f){C=!0,f=x,g=N;break}if(A===g){C=!0,g=x,f=N;break}A=A.sibling}if(!C){for(A=N.child;A;){if(A===f){C=!0,f=N,g=x;break}if(A===g){C=!0,g=N,f=x;break}A=A.sibling}if(!C)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function d(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=d(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),O=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function V(o){return o===null||typeof o!="object"?null:(o=K&&o[K]||o["@@iterator"],typeof o=="function"?o:null)}var te=Symbol.for("react.client.reference");function oe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===te?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case T:return"Suspense";case M:return"SuspenseList";case q:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case v:return"Portal";case O:return(o.displayName||"Context")+".Provider";case E:return(o._context.displayName||"Context")+".Consumer";case _:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case D:return l=o.displayName||null,l!==null?l:oe(o.type)||"Memo";case B:l=o._payload,o=o._init;try{return oe(o(l))}catch{}}return null}var ue=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},be=[],P=-1;function X(o){return{current:o}}function Z(o){0>P||(o.current=be[P],be[P]=null,P--)}function de(o,l){P++,be[P]=o.current,o.current=l}var ve=X(null),Oe=X(null),Ee=X(null),je=X(null);function ae(o,l){switch(de(Ee,l),de(Oe,o),de(ve,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?iE(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=iE(l),o=aE(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Z(ve),de(ve,o)}function Q(){Z(ve),Z(Oe),Z(Ee)}function me(o){o.memoizedState!==null&&de(je,o);var l=ve.current,f=aE(l,o.type);l!==f&&(de(Oe,o),de(ve,f))}function pe(o){Oe.current===o&&(Z(ve),Z(Oe)),je.current===o&&(Z(je),Jc._currentValue=he)}var se=Object.prototype.hasOwnProperty,ne=e.unstable_scheduleCallback,fe=e.unstable_cancelCallback,ye=e.unstable_shouldYield,ke=e.unstable_requestPaint,Ve=e.unstable_now,pt=e.unstable_getCurrentPriorityLevel,Mn=e.unstable_ImmediatePriority,ys=e.unstable_UserBlockingPriority,Id=e.unstable_NormalPriority,pB=e.unstable_LowPriority,$N=e.unstable_IdlePriority,mB=e.log,gB=e.unstable_setDisableYieldValue,oc=null,Xn=null;function fa(o){if(typeof mB=="function"&&gB(o),Xn&&typeof Xn.setStrictMode=="function")try{Xn.setStrictMode(oc,o)}catch{}}var Qn=Math.clz32?Math.clz32:xB,yB=Math.log,vB=Math.LN2;function xB(o){return o>>>=0,o===0?32:31-(yB(o)/vB|0)|0}var zd=256,$d=4194304;function vs(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ud(o,l,f){var g=o.pendingLanes;if(g===0)return 0;var x=0,N=o.suspendedLanes,C=o.pingedLanes;o=o.warmLanes;var A=g&134217727;return A!==0?(g=A&~N,g!==0?x=vs(g):(C&=A,C!==0?x=vs(C):f||(f=A&~o,f!==0&&(x=vs(f))))):(A=g&~N,A!==0?x=vs(A):C!==0?x=vs(C):f||(f=g&~o,f!==0&&(x=vs(f)))),x===0?0:l!==0&&l!==x&&(l&N)===0&&(N=x&-x,f=l&-l,N>=f||N===32&&(f&4194048)!==0)?l:x}function lc(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function bB(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UN(){var o=zd;return zd<<=1,(zd&4194048)===0&&(zd=256),o}function HN(){var o=$d;return $d<<=1,($d&62914560)===0&&($d=4194304),o}function kg(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function cc(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function wB(o,l,f,g,x,N){var C=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var A=o.entanglements,R=o.expirationTimes,H=o.hiddenUpdates;for(f=C&~f;0<f;){var ee=31-Qn(f),ie=1<<ee;A[ee]=0,R[ee]=-1;var F=H[ee];if(F!==null)for(H[ee]=null,ee=0;ee<F.length;ee++){var G=F[ee];G!==null&&(G.lane&=-536870913)}f&=~ie}g!==0&&qN(o,g,0),N!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=N&~(C&~l))}function qN(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var g=31-Qn(l);o.entangledLanes|=l,o.entanglements[g]=o.entanglements[g]|1073741824|f&4194090}function KN(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var g=31-Qn(f),x=1<<g;x&l|o[g]&l&&(o[g]|=l),f&=~x}}function Eg(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Cg(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function VN(){var o=J.p;return o!==0?o:(o=window.event,o===void 0?32:jE(o.type))}function SB(o,l){var f=J.p;try{return J.p=o,l()}finally{J.p=f}}var ha=Math.random().toString(36).slice(2),xn="__reactFiber$"+ha,zn="__reactProps$"+ha,ko="__reactContainer$"+ha,Og="__reactEvents$"+ha,NB="__reactListeners$"+ha,jB="__reactHandles$"+ha,FN="__reactResources$"+ha,uc="__reactMarker$"+ha;function Tg(o){delete o[xn],delete o[zn],delete o[Og],delete o[NB],delete o[jB]}function Eo(o){var l=o[xn];if(l)return l;for(var f=o.parentNode;f;){if(l=f[ko]||f[xn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=cE(o);o!==null;){if(f=o[xn])return f;o=cE(o)}return l}o=f,f=o.parentNode}return null}function Co(o){if(o=o[xn]||o[ko]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function dc(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function Oo(o){var l=o[FN];return l||(l=o[FN]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Qt(o){o[uc]=!0}var WN=new Set,GN={};function xs(o,l){To(o,l),To(o+"Capture",l)}function To(o,l){for(GN[o]=l,o=0;o<l.length;o++)WN.add(l[o])}var kB=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),YN={},XN={};function EB(o){return se.call(XN,o)?!0:se.call(YN,o)?!1:kB.test(o)?XN[o]=!0:(YN[o]=!0,!1)}function Hd(o,l,f){if(EB(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function qd(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function bi(o,l,f,g){if(g===null)o.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+g)}}var Ag,QN;function Ao(o){if(Ag===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);Ag=l&&l[1]||"",QN=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ag+o+QN}var Mg=!1;function _g(o,l){if(!o||Mg)return"";Mg=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(G){var F=G}Reflect.construct(o,[],ie)}else{try{ie.call()}catch(G){F=G}o.call(ie.prototype)}}else{try{throw Error()}catch(G){F=G}(ie=o())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=g.DetermineComponentFrameRoot(),C=N[0],A=N[1];if(C&&A){var R=C.split(`
`),H=A.split(`
`);for(x=g=0;g<R.length&&!R[g].includes("DetermineComponentFrameRoot");)g++;for(;x<H.length&&!H[x].includes("DetermineComponentFrameRoot");)x++;if(g===R.length||x===H.length)for(g=R.length-1,x=H.length-1;1<=g&&0<=x&&R[g]!==H[x];)x--;for(;1<=g&&0<=x;g--,x--)if(R[g]!==H[x]){if(g!==1||x!==1)do if(g--,x--,0>x||R[g]!==H[x]){var ee=`
`+R[g].replace(" at new "," at ");return o.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",o.displayName)),ee}while(1<=g&&0<=x);break}}}finally{Mg=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Ao(f):""}function CB(o){switch(o.tag){case 26:case 27:case 5:return Ao(o.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 15:return _g(o.type,!1);case 11:return _g(o.type.render,!1);case 1:return _g(o.type,!0);case 31:return Ao("Activity");default:return""}}function ZN(o){try{var l="";do l+=CB(o),o=o.return;while(o);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function vr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function JN(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function OB(o){var l=JN(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),g=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,N=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function(C){g=""+C,N.call(this,C)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(C){g=""+C},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Kd(o){o._valueTracker||(o._valueTracker=OB(o))}function e2(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return o&&(g=JN(o)?o.checked?"true":"false":o.value),o=g,o!==f?(l.setValue(o),!0):!1}function Vd(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var TB=/[\n"\\]/g;function xr(o){return o.replace(TB,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Dg(o,l,f,g,x,N,C,A){o.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?o.type=C:o.removeAttribute("type"),l!=null?C==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+vr(l)):o.value!==""+vr(l)&&(o.value=""+vr(l)):C!=="submit"&&C!=="reset"||o.removeAttribute("value"),l!=null?Pg(o,C,vr(l)):f!=null?Pg(o,C,vr(f)):g!=null&&o.removeAttribute("value"),x==null&&N!=null&&(o.defaultChecked=!!N),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?o.name=""+vr(A):o.removeAttribute("name")}function t2(o,l,f,g,x,N,C,A){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.type=N),l!=null||f!=null){if(!(N!=="submit"&&N!=="reset"||l!=null))return;f=f!=null?""+vr(f):"",l=l!=null?""+vr(l):f,A||l===o.value||(o.value=l),o.defaultValue=l}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=A?o.checked:!!g,o.defaultChecked=!!g,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.name=C)}function Pg(o,l,f){l==="number"&&Vd(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Mo(o,l,f,g){if(o=o.options,l){l={};for(var x=0;x<f.length;x++)l["$"+f[x]]=!0;for(f=0;f<o.length;f++)x=l.hasOwnProperty("$"+o[f].value),o[f].selected!==x&&(o[f].selected=x),x&&g&&(o[f].defaultSelected=!0)}else{for(f=""+vr(f),l=null,x=0;x<o.length;x++){if(o[x].value===f){o[x].selected=!0,g&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function n2(o,l,f){if(l!=null&&(l=""+vr(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+vr(f):""}function r2(o,l,f,g){if(l==null){if(g!=null){if(f!=null)throw Error(r(92));if(ue(g)){if(1<g.length)throw Error(r(93));g=g[0]}f=g}f==null&&(f=""),l=f}f=vr(l),o.defaultValue=f,g=o.textContent,g===f&&g!==""&&g!==null&&(o.value=g)}function _o(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var AB=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function i2(o,l,f){var g=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":g?o.setProperty(l,f):typeof f!="number"||f===0||AB.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function a2(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var x in l)g=l[x],l.hasOwnProperty(x)&&f[x]!==g&&i2(o,x,g)}else for(var N in l)l.hasOwnProperty(N)&&i2(o,N,l[N])}function Rg(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MB=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_B=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fd(o){return _B.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Lg=null;function Bg(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Do=null,Po=null;function s2(o){var l=Co(o);if(l&&(o=l.stateNode)){var f=o[zn]||null;e:switch(o=l.stateNode,l.type){case"input":if(Dg(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+xr(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==o&&g.form===o.form){var x=g[zn]||null;if(!x)throw Error(r(90));Dg(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<f.length;l++)g=f[l],g.form===o.form&&e2(g)}break e;case"textarea":n2(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&Mo(o,!!f.multiple,l,!1)}}}var Ig=!1;function o2(o,l,f){if(Ig)return o(l,f);Ig=!0;try{var g=o(l);return g}finally{if(Ig=!1,(Do!==null||Po!==null)&&(_f(),Do&&(l=Do,o=Po,Po=Do=null,s2(l),o)))for(l=0;l<o.length;l++)s2(o[l])}}function fc(o,l){var f=o.stateNode;if(f===null)return null;var g=f[zn]||null;if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zg=!1;if(wi)try{var hc={};Object.defineProperty(hc,"passive",{get:function(){zg=!0}}),window.addEventListener("test",hc,hc),window.removeEventListener("test",hc,hc)}catch{zg=!1}var pa=null,$g=null,Wd=null;function l2(){if(Wd)return Wd;var o,l=$g,f=l.length,g,x="value"in pa?pa.value:pa.textContent,N=x.length;for(o=0;o<f&&l[o]===x[o];o++);var C=f-o;for(g=1;g<=C&&l[f-g]===x[N-g];g++);return Wd=x.slice(o,1<g?1-g:void 0)}function Gd(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Yd(){return!0}function c2(){return!1}function $n(o){function l(f,g,x,N,C){this._reactName=f,this._targetInst=x,this.type=g,this.nativeEvent=N,this.target=C,this.currentTarget=null;for(var A in o)o.hasOwnProperty(A)&&(f=o[A],this[A]=f?f(N):N[A]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Yd:c2,this.isPropagationStopped=c2,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Yd)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Yd)},persist:function(){},isPersistent:Yd}),l}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xd=$n(bs),pc=p({},bs,{view:0,detail:0}),DB=$n(pc),Ug,Hg,mc,Qd=p({},pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kg,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==mc&&(mc&&o.type==="mousemove"?(Ug=o.screenX-mc.screenX,Hg=o.screenY-mc.screenY):Hg=Ug=0,mc=o),Ug)},movementY:function(o){return"movementY"in o?o.movementY:Hg}}),u2=$n(Qd),PB=p({},Qd,{dataTransfer:0}),RB=$n(PB),LB=p({},pc,{relatedTarget:0}),qg=$n(LB),BB=p({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),IB=$n(BB),zB=p({},bs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),$B=$n(zB),UB=p({},bs,{data:0}),d2=$n(UB),HB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VB(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=KB[o])?!!l[o]:!1}function Kg(){return VB}var FB=p({},pc,{key:function(o){if(o.key){var l=HB[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Gd(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?qB[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kg,charCode:function(o){return o.type==="keypress"?Gd(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Gd(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),WB=$n(FB),GB=p({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f2=$n(GB),YB=p({},pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kg}),XB=$n(YB),QB=p({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZB=$n(QB),JB=p({},Qd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),eI=$n(JB),tI=p({},bs,{newState:0,oldState:0}),nI=$n(tI),rI=[9,13,27,32],Vg=wi&&"CompositionEvent"in window,gc=null;wi&&"documentMode"in document&&(gc=document.documentMode);var iI=wi&&"TextEvent"in window&&!gc,h2=wi&&(!Vg||gc&&8<gc&&11>=gc),p2=" ",m2=!1;function g2(o,l){switch(o){case"keyup":return rI.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y2(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ro=!1;function aI(o,l){switch(o){case"compositionend":return y2(l);case"keypress":return l.which!==32?null:(m2=!0,p2);case"textInput":return o=l.data,o===p2&&m2?null:o;default:return null}}function sI(o,l){if(Ro)return o==="compositionend"||!Vg&&g2(o,l)?(o=l2(),Wd=$g=pa=null,Ro=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return h2&&l.locale!=="ko"?null:l.data;default:return null}}var oI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v2(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!oI[o.type]:l==="textarea"}function x2(o,l,f,g){Do?Po?Po.push(g):Po=[g]:Do=g,l=If(l,"onChange"),0<l.length&&(f=new Xd("onChange","change",null,f,g),o.push({event:f,listeners:l}))}var yc=null,vc=null;function lI(o){Jk(o,0)}function Zd(o){var l=dc(o);if(e2(l))return o}function b2(o,l){if(o==="change")return l}var w2=!1;if(wi){var Fg;if(wi){var Wg="oninput"in document;if(!Wg){var S2=document.createElement("div");S2.setAttribute("oninput","return;"),Wg=typeof S2.oninput=="function"}Fg=Wg}else Fg=!1;w2=Fg&&(!document.documentMode||9<document.documentMode)}function N2(){yc&&(yc.detachEvent("onpropertychange",j2),vc=yc=null)}function j2(o){if(o.propertyName==="value"&&Zd(vc)){var l=[];x2(l,vc,o,Bg(o)),o2(lI,l)}}function cI(o,l,f){o==="focusin"?(N2(),yc=l,vc=f,yc.attachEvent("onpropertychange",j2)):o==="focusout"&&N2()}function uI(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Zd(vc)}function dI(o,l){if(o==="click")return Zd(l)}function fI(o,l){if(o==="input"||o==="change")return Zd(l)}function hI(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Zn=typeof Object.is=="function"?Object.is:hI;function xc(o,l){if(Zn(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var x=f[g];if(!se.call(l,x)||!Zn(o[x],l[x]))return!1}return!0}function k2(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function E2(o,l){var f=k2(o);o=0;for(var g;f;){if(f.nodeType===3){if(g=o+f.textContent.length,o<=l&&g>=l)return{node:f,offset:l-o};o=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=k2(f)}}function C2(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?C2(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function O2(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Vd(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=Vd(o.document)}return l}function Gg(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var pI=wi&&"documentMode"in document&&11>=document.documentMode,Lo=null,Yg=null,bc=null,Xg=!1;function T2(o,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Xg||Lo==null||Lo!==Vd(g)||(g=Lo,"selectionStart"in g&&Gg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),bc&&xc(bc,g)||(bc=g,g=If(Yg,"onSelect"),0<g.length&&(l=new Xd("onSelect","select",null,l,f),o.push({event:l,listeners:g}),l.target=Lo)))}function ws(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var Bo={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},Qg={},A2={};wi&&(A2=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Ss(o){if(Qg[o])return Qg[o];if(!Bo[o])return o;var l=Bo[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in A2)return Qg[o]=l[f];return o}var M2=Ss("animationend"),_2=Ss("animationiteration"),D2=Ss("animationstart"),mI=Ss("transitionrun"),gI=Ss("transitionstart"),yI=Ss("transitioncancel"),P2=Ss("transitionend"),R2=new Map,Zg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zg.push("scrollEnd");function Kr(o,l){R2.set(o,l),xs(l,[o])}var L2=new WeakMap;function br(o,l){if(typeof o=="object"&&o!==null){var f=L2.get(o);return f!==void 0?f:(l={value:o,source:l,stack:ZN(l)},L2.set(o,l),l)}return{value:o,source:l,stack:ZN(l)}}var wr=[],Io=0,Jg=0;function Jd(){for(var o=Io,l=Jg=Io=0;l<o;){var f=wr[l];wr[l++]=null;var g=wr[l];wr[l++]=null;var x=wr[l];wr[l++]=null;var N=wr[l];if(wr[l++]=null,g!==null&&x!==null){var C=g.pending;C===null?x.next=x:(x.next=C.next,C.next=x),g.pending=x}N!==0&&B2(f,x,N)}}function ef(o,l,f,g){wr[Io++]=o,wr[Io++]=l,wr[Io++]=f,wr[Io++]=g,Jg|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function e0(o,l,f,g){return ef(o,l,f,g),tf(o)}function zo(o,l){return ef(o,null,null,l),tf(o)}function B2(o,l,f){o.lanes|=f;var g=o.alternate;g!==null&&(g.lanes|=f);for(var x=!1,N=o.return;N!==null;)N.childLanes|=f,g=N.alternate,g!==null&&(g.childLanes|=f),N.tag===22&&(o=N.stateNode,o===null||o._visibility&1||(x=!0)),o=N,N=N.return;return o.tag===3?(N=o.stateNode,x&&l!==null&&(x=31-Qn(f),o=N.hiddenUpdates,g=o[x],g===null?o[x]=[l]:g.push(l),l.lane=f|536870912),N):null}function tf(o){if(50<Vc)throw Vc=0,sy=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var $o={};function vI(o,l,f,g){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(o,l,f,g){return new vI(o,l,f,g)}function t0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Si(o,l){var f=o.alternate;return f===null?(f=Jn(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function I2(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function nf(o,l,f,g,x,N){var C=0;if(g=o,typeof o=="function")t0(o)&&(C=1);else if(typeof o=="string")C=bz(o,f,ve.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case q:return o=Jn(31,f,l,x),o.elementType=q,o.lanes=N,o;case b:return Ns(f.children,x,N,l);case w:C=8,x|=24;break;case S:return o=Jn(12,f,l,x|2),o.elementType=S,o.lanes=N,o;case T:return o=Jn(13,f,l,x),o.elementType=T,o.lanes=N,o;case M:return o=Jn(19,f,l,x),o.elementType=M,o.lanes=N,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case k:case O:C=10;break e;case E:C=9;break e;case _:C=11;break e;case D:C=14;break e;case B:C=16,g=null;break e}C=29,f=Error(r(130,o===null?"null":typeof o,"")),g=null}return l=Jn(C,f,l,x),l.elementType=o,l.type=g,l.lanes=N,l}function Ns(o,l,f,g){return o=Jn(7,o,g,l),o.lanes=f,o}function n0(o,l,f){return o=Jn(6,o,null,l),o.lanes=f,o}function r0(o,l,f){return l=Jn(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var Uo=[],Ho=0,rf=null,af=0,Sr=[],Nr=0,js=null,Ni=1,ji="";function ks(o,l){Uo[Ho++]=af,Uo[Ho++]=rf,rf=o,af=l}function z2(o,l,f){Sr[Nr++]=Ni,Sr[Nr++]=ji,Sr[Nr++]=js,js=o;var g=Ni;o=ji;var x=32-Qn(g)-1;g&=~(1<<x),f+=1;var N=32-Qn(l)+x;if(30<N){var C=x-x%5;N=(g&(1<<C)-1).toString(32),g>>=C,x-=C,Ni=1<<32-Qn(l)+x|f<<x|g,ji=N+o}else Ni=1<<N|f<<x|g,ji=o}function i0(o){o.return!==null&&(ks(o,1),z2(o,1,0))}function a0(o){for(;o===rf;)rf=Uo[--Ho],Uo[Ho]=null,af=Uo[--Ho],Uo[Ho]=null;for(;o===js;)js=Sr[--Nr],Sr[Nr]=null,ji=Sr[--Nr],Sr[Nr]=null,Ni=Sr[--Nr],Sr[Nr]=null}var _n=null,Et=null,Qe=!1,Es=null,ii=!1,s0=Error(r(519));function Cs(o){var l=Error(r(418,""));throw Nc(br(l,o)),s0}function $2(o){var l=o.stateNode,f=o.type,g=o.memoizedProps;switch(l[xn]=o,l[zn]=g,f){case"dialog":Ke("cancel",l),Ke("close",l);break;case"iframe":case"object":case"embed":Ke("load",l);break;case"video":case"audio":for(f=0;f<Wc.length;f++)Ke(Wc[f],l);break;case"source":Ke("error",l);break;case"img":case"image":case"link":Ke("error",l),Ke("load",l);break;case"details":Ke("toggle",l);break;case"input":Ke("invalid",l),t2(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Kd(l);break;case"select":Ke("invalid",l);break;case"textarea":Ke("invalid",l),r2(l,g.value,g.defaultValue,g.children),Kd(l)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||g.suppressHydrationWarning===!0||rE(l.textContent,f)?(g.popover!=null&&(Ke("beforetoggle",l),Ke("toggle",l)),g.onScroll!=null&&Ke("scroll",l),g.onScrollEnd!=null&&Ke("scrollend",l),g.onClick!=null&&(l.onclick=zf),l=!0):l=!1,l||Cs(o)}function U2(o){for(_n=o.return;_n;)switch(_n.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:_n=_n.return}}function wc(o){if(o!==_n)return!1;if(!Qe)return U2(o),Qe=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||Sy(o.type,o.memoizedProps)),f=!f),f&&Et&&Cs(o),U2(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(l===0){Et=Fr(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;o=o.nextSibling}Et=null}}else l===27?(l=Et,Aa(o.type)?(o=Ey,Ey=null,Et=o):Et=l):Et=_n?Fr(o.stateNode.nextSibling):null;return!0}function Sc(){Et=_n=null,Qe=!1}function H2(){var o=Es;return o!==null&&(qn===null?qn=o:qn.push.apply(qn,o),Es=null),o}function Nc(o){Es===null?Es=[o]:Es.push(o)}var o0=X(null),Os=null,ki=null;function ma(o,l,f){de(o0,l._currentValue),l._currentValue=f}function Ei(o){o._currentValue=o0.current,Z(o0)}function l0(o,l,f){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===f)break;o=o.return}}function c0(o,l,f,g){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var N=x.dependencies;if(N!==null){var C=x.child;N=N.firstContext;e:for(;N!==null;){var A=N;N=x;for(var R=0;R<l.length;R++)if(A.context===l[R]){N.lanes|=f,A=N.alternate,A!==null&&(A.lanes|=f),l0(N.return,f,o),g||(C=null);break e}N=A.next}}else if(x.tag===18){if(C=x.return,C===null)throw Error(r(341));C.lanes|=f,N=C.alternate,N!==null&&(N.lanes|=f),l0(C,f,o),C=null}else C=x.child;if(C!==null)C.return=x;else for(C=x;C!==null;){if(C===o){C=null;break}if(x=C.sibling,x!==null){x.return=C.return,C=x;break}C=C.return}x=C}}function jc(o,l,f,g){o=null;for(var x=l,N=!1;x!==null;){if(!N){if((x.flags&524288)!==0)N=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var C=x.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var A=x.type;Zn(x.pendingProps.value,C.value)||(o!==null?o.push(A):o=[A])}}else if(x===je.current){if(C=x.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(Jc):o=[Jc])}x=x.return}o!==null&&c0(l,o,f,g),l.flags|=262144}function sf(o){for(o=o.firstContext;o!==null;){if(!Zn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Ts(o){Os=o,ki=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function bn(o){return q2(Os,o)}function of(o,l){return Os===null&&Ts(o),q2(o,l)}function q2(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},ki===null){if(o===null)throw Error(r(308));ki=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else ki=ki.next=l;return f}var xI=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,g){o.push(g)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},bI=e.unstable_scheduleCallback,wI=e.unstable_NormalPriority,Kt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function u0(){return{controller:new xI,data:new Map,refCount:0}}function kc(o){o.refCount--,o.refCount===0&&bI(wI,function(){o.controller.abort()})}var Ec=null,d0=0,qo=0,Ko=null;function SI(o,l){if(Ec===null){var f=Ec=[];d0=0,qo=hy(),Ko={status:"pending",value:void 0,then:function(g){f.push(g)}}}return d0++,l.then(K2,K2),l}function K2(){if(--d0===0&&Ec!==null){Ko!==null&&(Ko.status="fulfilled");var o=Ec;Ec=null,qo=0,Ko=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function NI(o,l){var f=[],g={status:"pending",value:null,reason:null,then:function(x){f.push(x)}};return o.then(function(){g.status="fulfilled",g.value=l;for(var x=0;x<f.length;x++)(0,f[x])(l)},function(x){for(g.status="rejected",g.reason=x,x=0;x<f.length;x++)(0,f[x])(void 0)}),g}var V2=$.S;$.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&SI(o,l),V2!==null&&V2(o,l)};var As=X(null);function f0(){var o=As.current;return o!==null?o:ct.pooledCache}function lf(o,l){l===null?de(As,As.current):de(As,l.pool)}function F2(){var o=f0();return o===null?null:{parent:Kt._currentValue,pool:o}}var Cc=Error(r(460)),W2=Error(r(474)),cf=Error(r(542)),h0={then:function(){}};function G2(o){return o=o.status,o==="fulfilled"||o==="rejected"}function uf(){}function Y2(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(uf,uf),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,Q2(o),o;default:if(typeof l.status=="string")l.then(uf,uf);else{if(o=ct,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(g){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=g}},function(g){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,Q2(o),o}throw Oc=l,Cc}}var Oc=null;function X2(){if(Oc===null)throw Error(r(459));var o=Oc;return Oc=null,o}function Q2(o){if(o===Cc||o===cf)throw Error(r(483))}var ga=!1;function p0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function m0(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ya(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function va(o,l,f){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Ze&2)!==0){var x=g.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),g.pending=l,l=tf(o),B2(o,null,f),l}return ef(o,g,l,f),tf(o)}function Tc(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var g=l.lanes;g&=o.pendingLanes,f|=g,l.lanes=f,KN(o,f)}}function g0(o,l){var f=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var x=null,N=null;if(f=f.firstBaseUpdate,f!==null){do{var C={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};N===null?x=N=C:N=N.next=C,f=f.next}while(f!==null);N===null?x=N=l:N=N.next=l}else x=N=l;f={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:N,shared:g.shared,callbacks:g.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var y0=!1;function Ac(){if(y0){var o=Ko;if(o!==null)throw o}}function Mc(o,l,f,g){y0=!1;var x=o.updateQueue;ga=!1;var N=x.firstBaseUpdate,C=x.lastBaseUpdate,A=x.shared.pending;if(A!==null){x.shared.pending=null;var R=A,H=R.next;R.next=null,C===null?N=H:C.next=H,C=R;var ee=o.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==C&&(A===null?ee.firstBaseUpdate=H:A.next=H,ee.lastBaseUpdate=R))}if(N!==null){var ie=x.baseState;C=0,ee=H=R=null,A=N;do{var F=A.lane&-536870913,G=F!==A.lane;if(G?(Fe&F)===F:(g&F)===F){F!==0&&F===qo&&(y0=!0),ee!==null&&(ee=ee.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var De=o,Me=A;F=l;var it=f;switch(Me.tag){case 1:if(De=Me.payload,typeof De=="function"){ie=De.call(it,ie,F);break e}ie=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Me.payload,F=typeof De=="function"?De.call(it,ie,F):De,F==null)break e;ie=p({},ie,F);break e;case 2:ga=!0}}F=A.callback,F!==null&&(o.flags|=64,G&&(o.flags|=8192),G=x.callbacks,G===null?x.callbacks=[F]:G.push(F))}else G={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(H=ee=G,R=ie):ee=ee.next=G,C|=F;if(A=A.next,A===null){if(A=x.shared.pending,A===null)break;G=A,A=G.next,G.next=null,x.lastBaseUpdate=G,x.shared.pending=null}}while(!0);ee===null&&(R=ie),x.baseState=R,x.firstBaseUpdate=H,x.lastBaseUpdate=ee,N===null&&(x.shared.lanes=0),Ea|=C,o.lanes=C,o.memoizedState=ie}}function Z2(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function J2(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)Z2(f[o],l)}var Vo=X(null),df=X(0);function ej(o,l){o=Di,de(df,o),de(Vo,l),Di=o|l.baseLanes}function v0(){de(df,Di),de(Vo,Vo.current)}function x0(){Di=df.current,Z(Vo),Z(df)}var xa=0,Ue=null,nt=null,Lt=null,ff=!1,Fo=!1,Ms=!1,hf=0,_c=0,Wo=null,jI=0;function _t(){throw Error(r(321))}function b0(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!Zn(o[f],l[f]))return!1;return!0}function w0(o,l,f,g,x,N){return xa=N,Ue=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$.H=o===null||o.memoizedState===null?Bj:Ij,Ms=!1,N=f(g,x),Ms=!1,Fo&&(N=nj(l,f,g,x)),tj(o),N}function tj(o){$.H=xf;var l=nt!==null&&nt.next!==null;if(xa=0,Lt=nt=Ue=null,ff=!1,_c=0,Wo=null,l)throw Error(r(300));o===null||Zt||(o=o.dependencies,o!==null&&sf(o)&&(Zt=!0))}function nj(o,l,f,g){Ue=o;var x=0;do{if(Fo&&(Wo=null),_c=0,Fo=!1,25<=x)throw Error(r(301));if(x+=1,Lt=nt=null,o.updateQueue!=null){var N=o.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}$.H=MI,N=l(f,g)}while(Fo);return N}function kI(){var o=$.H,l=o.useState()[0];return l=typeof l.then=="function"?Dc(l):l,o=o.useState()[0],(nt!==null?nt.memoizedState:null)!==o&&(Ue.flags|=1024),l}function S0(){var o=hf!==0;return hf=0,o}function N0(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function j0(o){if(ff){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}ff=!1}xa=0,Lt=nt=Ue=null,Fo=!1,_c=hf=0,Wo=null}function Un(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Ue.memoizedState=Lt=o:Lt=Lt.next=o,Lt}function Bt(){if(nt===null){var o=Ue.alternate;o=o!==null?o.memoizedState:null}else o=nt.next;var l=Lt===null?Ue.memoizedState:Lt.next;if(l!==null)Lt=l,nt=o;else{if(o===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));nt=o,o={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Lt===null?Ue.memoizedState=Lt=o:Lt=Lt.next=o}return Lt}function k0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dc(o){var l=_c;return _c+=1,Wo===null&&(Wo=[]),o=Y2(Wo,o,l),l=Ue,(Lt===null?l.memoizedState:Lt.next)===null&&(l=l.alternate,$.H=l===null||l.memoizedState===null?Bj:Ij),o}function pf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Dc(o);if(o.$$typeof===O)return bn(o)}throw Error(r(438,String(o)))}function E0(o){var l=null,f=Ue.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var g=Ue.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=k0(),Ue.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),g=0;g<o;g++)f[g]=L;return l.index++,f}function Ci(o,l){return typeof l=="function"?l(o):l}function mf(o){var l=Bt();return C0(l,nt,o)}function C0(o,l,f){var g=o.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=f;var x=o.baseQueue,N=g.pending;if(N!==null){if(x!==null){var C=x.next;x.next=N.next,N.next=C}l.baseQueue=x=N,g.pending=null}if(N=o.baseState,x===null)o.memoizedState=N;else{l=x.next;var A=C=null,R=null,H=l,ee=!1;do{var ie=H.lane&-536870913;if(ie!==H.lane?(Fe&ie)===ie:(xa&ie)===ie){var F=H.revertLane;if(F===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ie===qo&&(ee=!0);else if((xa&F)===F){H=H.next,F===qo&&(ee=!0);continue}else ie={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},R===null?(A=R=ie,C=N):R=R.next=ie,Ue.lanes|=F,Ea|=F;ie=H.action,Ms&&f(N,ie),N=H.hasEagerState?H.eagerState:f(N,ie)}else F={lane:ie,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},R===null?(A=R=F,C=N):R=R.next=F,Ue.lanes|=ie,Ea|=ie;H=H.next}while(H!==null&&H!==l);if(R===null?C=N:R.next=A,!Zn(N,o.memoizedState)&&(Zt=!0,ee&&(f=Ko,f!==null)))throw f;o.memoizedState=N,o.baseState=C,o.baseQueue=R,g.lastRenderedState=N}return x===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function O0(o){var l=Bt(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var g=f.dispatch,x=f.pending,N=l.memoizedState;if(x!==null){f.pending=null;var C=x=x.next;do N=o(N,C.action),C=C.next;while(C!==x);Zn(N,l.memoizedState)||(Zt=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),f.lastRenderedState=N}return[N,g]}function rj(o,l,f){var g=Ue,x=Bt(),N=Qe;if(N){if(f===void 0)throw Error(r(407));f=f()}else f=l();var C=!Zn((nt||x).memoizedState,f);C&&(x.memoizedState=f,Zt=!0),x=x.queue;var A=sj.bind(null,g,x,o);if(Pc(2048,8,A,[o]),x.getSnapshot!==l||C||Lt!==null&&Lt.memoizedState.tag&1){if(g.flags|=2048,Go(9,gf(),aj.bind(null,g,x,f,l),null),ct===null)throw Error(r(349));N||(xa&124)!==0||ij(g,l,f)}return f}function ij(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=Ue.updateQueue,l===null?(l=k0(),Ue.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function aj(o,l,f,g){l.value=f,l.getSnapshot=g,oj(l)&&lj(o)}function sj(o,l,f){return f(function(){oj(l)&&lj(o)})}function oj(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!Zn(o,f)}catch{return!0}}function lj(o){var l=zo(o,2);l!==null&&ir(l,o,2)}function T0(o){var l=Un();if(typeof o=="function"){var f=o;if(o=f(),Ms){fa(!0);try{f()}finally{fa(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:o},l}function cj(o,l,f,g){return o.baseState=f,C0(o,nt,typeof g=="function"?g:Ci)}function EI(o,l,f,g,x){if(vf(o))throw Error(r(485));if(o=l.action,o!==null){var N={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){N.listeners.push(C)}};$.T!==null?f(!0):N.isTransition=!1,g(N),f=l.pending,f===null?(N.next=l.pending=N,uj(l,N)):(N.next=f.next,l.pending=f.next=N)}}function uj(o,l){var f=l.action,g=l.payload,x=o.state;if(l.isTransition){var N=$.T,C={};$.T=C;try{var A=f(x,g),R=$.S;R!==null&&R(C,A),dj(o,l,A)}catch(H){A0(o,l,H)}finally{$.T=N}}else try{N=f(x,g),dj(o,l,N)}catch(H){A0(o,l,H)}}function dj(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){fj(o,l,g)},function(g){return A0(o,l,g)}):fj(o,l,f)}function fj(o,l,f){l.status="fulfilled",l.value=f,hj(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,uj(o,f)))}function A0(o,l,f){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=f,hj(l),l=l.next;while(l!==g)}o.action=null}function hj(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function pj(o,l){return l}function mj(o,l){if(Qe){var f=ct.formState;if(f!==null){e:{var g=Ue;if(Qe){if(Et){t:{for(var x=Et,N=ii;x.nodeType!==8;){if(!N){x=null;break t}if(x=Fr(x.nextSibling),x===null){x=null;break t}}N=x.data,x=N==="F!"||N==="F"?x:null}if(x){Et=Fr(x.nextSibling),g=x.data==="F!";break e}}Cs(g)}g=!1}g&&(l=f[0])}}return f=Un(),f.memoizedState=f.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pj,lastRenderedState:l},f.queue=g,f=Pj.bind(null,Ue,g),g.dispatch=f,g=T0(!1),N=R0.bind(null,Ue,!1,g.queue),g=Un(),x={state:l,dispatch:null,action:o,pending:null},g.queue=x,f=EI.bind(null,Ue,x,N,f),x.dispatch=f,g.memoizedState=o,[l,f,!1]}function gj(o){var l=Bt();return yj(l,nt,o)}function yj(o,l,f){if(l=C0(o,l,pj)[0],o=mf(Ci)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=Dc(l)}catch(C){throw C===Cc?cf:C}else g=l;l=Bt();var x=l.queue,N=x.dispatch;return f!==l.memoizedState&&(Ue.flags|=2048,Go(9,gf(),CI.bind(null,x,f),null)),[g,N,o]}function CI(o,l){o.action=l}function vj(o){var l=Bt(),f=nt;if(f!==null)return yj(l,f,o);Bt(),l=l.memoizedState,f=Bt();var g=f.queue.dispatch;return f.memoizedState=o,[l,g,!1]}function Go(o,l,f,g){return o={tag:o,create:f,deps:g,inst:l,next:null},l=Ue.updateQueue,l===null&&(l=k0(),Ue.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(g=f.next,f.next=o,o.next=g,l.lastEffect=o),o}function gf(){return{destroy:void 0,resource:void 0}}function xj(){return Bt().memoizedState}function yf(o,l,f,g){var x=Un();g=g===void 0?null:g,Ue.flags|=o,x.memoizedState=Go(1|l,gf(),f,g)}function Pc(o,l,f,g){var x=Bt();g=g===void 0?null:g;var N=x.memoizedState.inst;nt!==null&&g!==null&&b0(g,nt.memoizedState.deps)?x.memoizedState=Go(l,N,f,g):(Ue.flags|=o,x.memoizedState=Go(1|l,N,f,g))}function bj(o,l){yf(8390656,8,o,l)}function wj(o,l){Pc(2048,8,o,l)}function Sj(o,l){return Pc(4,2,o,l)}function Nj(o,l){return Pc(4,4,o,l)}function jj(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function kj(o,l,f){f=f!=null?f.concat([o]):null,Pc(4,4,jj.bind(null,l,o),f)}function M0(){}function Ej(o,l){var f=Bt();l=l===void 0?null:l;var g=f.memoizedState;return l!==null&&b0(l,g[1])?g[0]:(f.memoizedState=[o,l],o)}function Cj(o,l){var f=Bt();l=l===void 0?null:l;var g=f.memoizedState;if(l!==null&&b0(l,g[1]))return g[0];if(g=o(),Ms){fa(!0);try{o()}finally{fa(!1)}}return f.memoizedState=[g,l],g}function _0(o,l,f){return f===void 0||(xa&1073741824)!==0?o.memoizedState=l:(o.memoizedState=f,o=Ak(),Ue.lanes|=o,Ea|=o,f)}function Oj(o,l,f,g){return Zn(f,l)?f:Vo.current!==null?(o=_0(o,f,g),Zn(o,l)||(Zt=!0),o):(xa&42)===0?(Zt=!0,o.memoizedState=f):(o=Ak(),Ue.lanes|=o,Ea|=o,l)}function Tj(o,l,f,g,x){var N=J.p;J.p=N!==0&&8>N?N:8;var C=$.T,A={};$.T=A,R0(o,!1,l,f);try{var R=x(),H=$.S;if(H!==null&&H(A,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var ee=NI(R,g);Rc(o,l,ee,rr(o))}else Rc(o,l,g,rr(o))}catch(ie){Rc(o,l,{then:function(){},status:"rejected",reason:ie},rr())}finally{J.p=N,$.T=C}}function OI(){}function D0(o,l,f,g){if(o.tag!==5)throw Error(r(476));var x=Aj(o).queue;Tj(o,x,l,he,f===null?OI:function(){return Mj(o),f(g)})}function Aj(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:he},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function Mj(o){var l=Aj(o).next.queue;Rc(o,l,{},rr())}function P0(){return bn(Jc)}function _j(){return Bt().memoizedState}function Dj(){return Bt().memoizedState}function TI(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=rr();o=ya(f);var g=va(l,o,f);g!==null&&(ir(g,l,f),Tc(g,l,f)),l={cache:u0()},o.payload=l;return}l=l.return}}function AI(o,l,f){var g=rr();f={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},vf(o)?Rj(l,f):(f=e0(o,l,f,g),f!==null&&(ir(f,o,g),Lj(f,l,g)))}function Pj(o,l,f){var g=rr();Rc(o,l,f,g)}function Rc(o,l,f,g){var x={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(vf(o))Rj(l,x);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var C=l.lastRenderedState,A=N(C,f);if(x.hasEagerState=!0,x.eagerState=A,Zn(A,C))return ef(o,l,x,0),ct===null&&Jd(),!1}catch{}finally{}if(f=e0(o,l,x,g),f!==null)return ir(f,o,g),Lj(f,l,g),!0}return!1}function R0(o,l,f,g){if(g={lane:2,revertLane:hy(),action:g,hasEagerState:!1,eagerState:null,next:null},vf(o)){if(l)throw Error(r(479))}else l=e0(o,f,g,2),l!==null&&ir(l,o,2)}function vf(o){var l=o.alternate;return o===Ue||l!==null&&l===Ue}function Rj(o,l){Fo=ff=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function Lj(o,l,f){if((f&4194048)!==0){var g=l.lanes;g&=o.pendingLanes,f|=g,l.lanes=f,KN(o,f)}}var xf={readContext:bn,use:pf,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},Bj={readContext:bn,use:pf,useCallback:function(o,l){return Un().memoizedState=[o,l===void 0?null:l],o},useContext:bn,useEffect:bj,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,yf(4194308,4,jj.bind(null,l,o),f)},useLayoutEffect:function(o,l){return yf(4194308,4,o,l)},useInsertionEffect:function(o,l){yf(4,2,o,l)},useMemo:function(o,l){var f=Un();l=l===void 0?null:l;var g=o();if(Ms){fa(!0);try{o()}finally{fa(!1)}}return f.memoizedState=[g,l],g},useReducer:function(o,l,f){var g=Un();if(f!==void 0){var x=f(l);if(Ms){fa(!0);try{f(l)}finally{fa(!1)}}}else x=l;return g.memoizedState=g.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},g.queue=o,o=o.dispatch=AI.bind(null,Ue,o),[g.memoizedState,o]},useRef:function(o){var l=Un();return o={current:o},l.memoizedState=o},useState:function(o){o=T0(o);var l=o.queue,f=Pj.bind(null,Ue,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:M0,useDeferredValue:function(o,l){var f=Un();return _0(f,o,l)},useTransition:function(){var o=T0(!1);return o=Tj.bind(null,Ue,o.queue,!0,!1),Un().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var g=Ue,x=Un();if(Qe){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),ct===null)throw Error(r(349));(Fe&124)!==0||ij(g,l,f)}x.memoizedState=f;var N={value:f,getSnapshot:l};return x.queue=N,bj(sj.bind(null,g,N,o),[o]),g.flags|=2048,Go(9,gf(),aj.bind(null,g,N,f,l),null),f},useId:function(){var o=Un(),l=ct.identifierPrefix;if(Qe){var f=ji,g=Ni;f=(g&~(1<<32-Qn(g)-1)).toString(32)+f,l="«"+l+"R"+f,f=hf++,0<f&&(l+="H"+f.toString(32)),l+="»"}else f=jI++,l="«"+l+"r"+f.toString(32)+"»";return o.memoizedState=l},useHostTransitionStatus:P0,useFormState:mj,useActionState:mj,useOptimistic:function(o){var l=Un();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=R0.bind(null,Ue,!0,f),f.dispatch=l,[o,l]},useMemoCache:E0,useCacheRefresh:function(){return Un().memoizedState=TI.bind(null,Ue)}},Ij={readContext:bn,use:pf,useCallback:Ej,useContext:bn,useEffect:wj,useImperativeHandle:kj,useInsertionEffect:Sj,useLayoutEffect:Nj,useMemo:Cj,useReducer:mf,useRef:xj,useState:function(){return mf(Ci)},useDebugValue:M0,useDeferredValue:function(o,l){var f=Bt();return Oj(f,nt.memoizedState,o,l)},useTransition:function(){var o=mf(Ci)[0],l=Bt().memoizedState;return[typeof o=="boolean"?o:Dc(o),l]},useSyncExternalStore:rj,useId:_j,useHostTransitionStatus:P0,useFormState:gj,useActionState:gj,useOptimistic:function(o,l){var f=Bt();return cj(f,nt,o,l)},useMemoCache:E0,useCacheRefresh:Dj},MI={readContext:bn,use:pf,useCallback:Ej,useContext:bn,useEffect:wj,useImperativeHandle:kj,useInsertionEffect:Sj,useLayoutEffect:Nj,useMemo:Cj,useReducer:O0,useRef:xj,useState:function(){return O0(Ci)},useDebugValue:M0,useDeferredValue:function(o,l){var f=Bt();return nt===null?_0(f,o,l):Oj(f,nt.memoizedState,o,l)},useTransition:function(){var o=O0(Ci)[0],l=Bt().memoizedState;return[typeof o=="boolean"?o:Dc(o),l]},useSyncExternalStore:rj,useId:_j,useHostTransitionStatus:P0,useFormState:vj,useActionState:vj,useOptimistic:function(o,l){var f=Bt();return nt!==null?cj(f,nt,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:E0,useCacheRefresh:Dj},Yo=null,Lc=0;function bf(o){var l=Lc;return Lc+=1,Yo===null&&(Yo=[]),Y2(Yo,o,l)}function Bc(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function wf(o,l){throw l.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function zj(o){var l=o._init;return l(o._payload)}function $j(o){function l(z,I){if(o){var U=z.deletions;U===null?(z.deletions=[I],z.flags|=16):U.push(I)}}function f(z,I){if(!o)return null;for(;I!==null;)l(z,I),I=I.sibling;return null}function g(z){for(var I=new Map;z!==null;)z.key!==null?I.set(z.key,z):I.set(z.index,z),z=z.sibling;return I}function x(z,I){return z=Si(z,I),z.index=0,z.sibling=null,z}function N(z,I,U){return z.index=U,o?(U=z.alternate,U!==null?(U=U.index,U<I?(z.flags|=67108866,I):U):(z.flags|=67108866,I)):(z.flags|=1048576,I)}function C(z){return o&&z.alternate===null&&(z.flags|=67108866),z}function A(z,I,U,re){return I===null||I.tag!==6?(I=n0(U,z.mode,re),I.return=z,I):(I=x(I,U),I.return=z,I)}function R(z,I,U,re){var we=U.type;return we===b?ee(z,I,U.props.children,re,U.key):I!==null&&(I.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===B&&zj(we)===I.type)?(I=x(I,U.props),Bc(I,U),I.return=z,I):(I=nf(U.type,U.key,U.props,null,z.mode,re),Bc(I,U),I.return=z,I)}function H(z,I,U,re){return I===null||I.tag!==4||I.stateNode.containerInfo!==U.containerInfo||I.stateNode.implementation!==U.implementation?(I=r0(U,z.mode,re),I.return=z,I):(I=x(I,U.children||[]),I.return=z,I)}function ee(z,I,U,re,we){return I===null||I.tag!==7?(I=Ns(U,z.mode,re,we),I.return=z,I):(I=x(I,U),I.return=z,I)}function ie(z,I,U){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=n0(""+I,z.mode,U),I.return=z,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case y:return U=nf(I.type,I.key,I.props,null,z.mode,U),Bc(U,I),U.return=z,U;case v:return I=r0(I,z.mode,U),I.return=z,I;case B:var re=I._init;return I=re(I._payload),ie(z,I,U)}if(ue(I)||V(I))return I=Ns(I,z.mode,U,null),I.return=z,I;if(typeof I.then=="function")return ie(z,bf(I),U);if(I.$$typeof===O)return ie(z,of(z,I),U);wf(z,I)}return null}function F(z,I,U,re){var we=I!==null?I.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return we!==null?null:A(z,I,""+U,re);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case y:return U.key===we?R(z,I,U,re):null;case v:return U.key===we?H(z,I,U,re):null;case B:return we=U._init,U=we(U._payload),F(z,I,U,re)}if(ue(U)||V(U))return we!==null?null:ee(z,I,U,re,null);if(typeof U.then=="function")return F(z,I,bf(U),re);if(U.$$typeof===O)return F(z,I,of(z,U),re);wf(z,U)}return null}function G(z,I,U,re,we){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return z=z.get(U)||null,A(I,z,""+re,we);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return z=z.get(re.key===null?U:re.key)||null,R(I,z,re,we);case v:return z=z.get(re.key===null?U:re.key)||null,H(I,z,re,we);case B:var He=re._init;return re=He(re._payload),G(z,I,U,re,we)}if(ue(re)||V(re))return z=z.get(U)||null,ee(I,z,re,we,null);if(typeof re.then=="function")return G(z,I,U,bf(re),we);if(re.$$typeof===O)return G(z,I,U,of(I,re),we);wf(I,re)}return null}function De(z,I,U,re){for(var we=null,He=null,Ce=I,_e=I=0,en=null;Ce!==null&&_e<U.length;_e++){Ce.index>_e?(en=Ce,Ce=null):en=Ce.sibling;var Ge=F(z,Ce,U[_e],re);if(Ge===null){Ce===null&&(Ce=en);break}o&&Ce&&Ge.alternate===null&&l(z,Ce),I=N(Ge,I,_e),He===null?we=Ge:He.sibling=Ge,He=Ge,Ce=en}if(_e===U.length)return f(z,Ce),Qe&&ks(z,_e),we;if(Ce===null){for(;_e<U.length;_e++)Ce=ie(z,U[_e],re),Ce!==null&&(I=N(Ce,I,_e),He===null?we=Ce:He.sibling=Ce,He=Ce);return Qe&&ks(z,_e),we}for(Ce=g(Ce);_e<U.length;_e++)en=G(Ce,z,_e,U[_e],re),en!==null&&(o&&en.alternate!==null&&Ce.delete(en.key===null?_e:en.key),I=N(en,I,_e),He===null?we=en:He.sibling=en,He=en);return o&&Ce.forEach(function(Ra){return l(z,Ra)}),Qe&&ks(z,_e),we}function Me(z,I,U,re){if(U==null)throw Error(r(151));for(var we=null,He=null,Ce=I,_e=I=0,en=null,Ge=U.next();Ce!==null&&!Ge.done;_e++,Ge=U.next()){Ce.index>_e?(en=Ce,Ce=null):en=Ce.sibling;var Ra=F(z,Ce,Ge.value,re);if(Ra===null){Ce===null&&(Ce=en);break}o&&Ce&&Ra.alternate===null&&l(z,Ce),I=N(Ra,I,_e),He===null?we=Ra:He.sibling=Ra,He=Ra,Ce=en}if(Ge.done)return f(z,Ce),Qe&&ks(z,_e),we;if(Ce===null){for(;!Ge.done;_e++,Ge=U.next())Ge=ie(z,Ge.value,re),Ge!==null&&(I=N(Ge,I,_e),He===null?we=Ge:He.sibling=Ge,He=Ge);return Qe&&ks(z,_e),we}for(Ce=g(Ce);!Ge.done;_e++,Ge=U.next())Ge=G(Ce,z,_e,Ge.value,re),Ge!==null&&(o&&Ge.alternate!==null&&Ce.delete(Ge.key===null?_e:Ge.key),I=N(Ge,I,_e),He===null?we=Ge:He.sibling=Ge,He=Ge);return o&&Ce.forEach(function(_z){return l(z,_z)}),Qe&&ks(z,_e),we}function it(z,I,U,re){if(typeof U=="object"&&U!==null&&U.type===b&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case y:e:{for(var we=U.key;I!==null;){if(I.key===we){if(we=U.type,we===b){if(I.tag===7){f(z,I.sibling),re=x(I,U.props.children),re.return=z,z=re;break e}}else if(I.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===B&&zj(we)===I.type){f(z,I.sibling),re=x(I,U.props),Bc(re,U),re.return=z,z=re;break e}f(z,I);break}else l(z,I);I=I.sibling}U.type===b?(re=Ns(U.props.children,z.mode,re,U.key),re.return=z,z=re):(re=nf(U.type,U.key,U.props,null,z.mode,re),Bc(re,U),re.return=z,z=re)}return C(z);case v:e:{for(we=U.key;I!==null;){if(I.key===we)if(I.tag===4&&I.stateNode.containerInfo===U.containerInfo&&I.stateNode.implementation===U.implementation){f(z,I.sibling),re=x(I,U.children||[]),re.return=z,z=re;break e}else{f(z,I);break}else l(z,I);I=I.sibling}re=r0(U,z.mode,re),re.return=z,z=re}return C(z);case B:return we=U._init,U=we(U._payload),it(z,I,U,re)}if(ue(U))return De(z,I,U,re);if(V(U)){if(we=V(U),typeof we!="function")throw Error(r(150));return U=we.call(U),Me(z,I,U,re)}if(typeof U.then=="function")return it(z,I,bf(U),re);if(U.$$typeof===O)return it(z,I,of(z,U),re);wf(z,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,I!==null&&I.tag===6?(f(z,I.sibling),re=x(I,U),re.return=z,z=re):(f(z,I),re=n0(U,z.mode,re),re.return=z,z=re),C(z)):f(z,I)}return function(z,I,U,re){try{Lc=0;var we=it(z,I,U,re);return Yo=null,we}catch(Ce){if(Ce===Cc||Ce===cf)throw Ce;var He=Jn(29,Ce,null,z.mode);return He.lanes=re,He.return=z,He}finally{}}}var Xo=$j(!0),Uj=$j(!1),jr=X(null),ai=null;function ba(o){var l=o.alternate;de(Vt,Vt.current&1),de(jr,o),ai===null&&(l===null||Vo.current!==null||l.memoizedState!==null)&&(ai=o)}function Hj(o){if(o.tag===22){if(de(Vt,Vt.current),de(jr,o),ai===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(ai=o)}}else wa()}function wa(){de(Vt,Vt.current),de(jr,jr.current)}function Oi(o){Z(jr),ai===o&&(ai=null),Z(Vt)}var Vt=X(0);function Sf(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||ky(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function L0(o,l,f,g){l=o.memoizedState,f=f(g,l),f=f==null?l:p({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var B0={enqueueSetState:function(o,l,f){o=o._reactInternals;var g=rr(),x=ya(g);x.payload=l,f!=null&&(x.callback=f),l=va(o,x,g),l!==null&&(ir(l,o,g),Tc(l,o,g))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var g=rr(),x=ya(g);x.tag=1,x.payload=l,f!=null&&(x.callback=f),l=va(o,x,g),l!==null&&(ir(l,o,g),Tc(l,o,g))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=rr(),g=ya(f);g.tag=2,l!=null&&(g.callback=l),l=va(o,g,f),l!==null&&(ir(l,o,f),Tc(l,o,f))}};function qj(o,l,f,g,x,N,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,N,C):l.prototype&&l.prototype.isPureReactComponent?!xc(f,g)||!xc(x,N):!0}function Kj(o,l,f,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==o&&B0.enqueueReplaceState(l,l.state,null)}function _s(o,l){var f=l;if("ref"in l){f={};for(var g in l)g!=="ref"&&(f[g]=l[g])}if(o=o.defaultProps){f===l&&(f=p({},f));for(var x in o)f[x]===void 0&&(f[x]=o[x])}return f}var Nf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Vj(o){Nf(o)}function Fj(o){console.error(o)}function Wj(o){Nf(o)}function jf(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function Gj(o,l,f){try{var g=o.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function I0(o,l,f){return f=ya(f),f.tag=3,f.payload={element:null},f.callback=function(){jf(o,l)},f}function Yj(o){return o=ya(o),o.tag=3,o}function Xj(o,l,f,g){var x=f.type.getDerivedStateFromError;if(typeof x=="function"){var N=g.value;o.payload=function(){return x(N)},o.callback=function(){Gj(l,f,g)}}var C=f.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(o.callback=function(){Gj(l,f,g),typeof x!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var A=g.stack;this.componentDidCatch(g.value,{componentStack:A!==null?A:""})})}function _I(o,l,f,g,x){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=f.alternate,l!==null&&jc(l,f,x,!0),f=jr.current,f!==null){switch(f.tag){case 13:return ai===null?ly():f.alternate===null&&Ct===0&&(Ct=3),f.flags&=-257,f.flags|=65536,f.lanes=x,g===h0?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([g]):l.add(g),uy(o,g,x)),!1;case 22:return f.flags|=65536,g===h0?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([g]):f.add(g)),uy(o,g,x)),!1}throw Error(r(435,f.tag))}return uy(o,g,x),ly(),!1}if(Qe)return l=jr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,g!==s0&&(o=Error(r(422),{cause:g}),Nc(br(o,f)))):(g!==s0&&(l=Error(r(423),{cause:g}),Nc(br(l,f))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,g=br(g,f),x=I0(o.stateNode,g,x),g0(o,x),Ct!==4&&(Ct=2)),!1;var N=Error(r(520),{cause:g});if(N=br(N,f),Kc===null?Kc=[N]:Kc.push(N),Ct!==4&&(Ct=2),l===null)return!0;g=br(g,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=x&-x,f.lanes|=o,o=I0(f.stateNode,g,o),g0(f,o),!1;case 1:if(l=f.type,N=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Ca===null||!Ca.has(N))))return f.flags|=65536,x&=-x,f.lanes|=x,x=Yj(x),Xj(x,o,f,g),g0(f,x),!1}f=f.return}while(f!==null);return!1}var Qj=Error(r(461)),Zt=!1;function cn(o,l,f,g){l.child=o===null?Uj(l,null,f,g):Xo(l,o.child,f,g)}function Zj(o,l,f,g,x){f=f.render;var N=l.ref;if("ref"in g){var C={};for(var A in g)A!=="ref"&&(C[A]=g[A])}else C=g;return Ts(l),g=w0(o,l,f,C,N,x),A=S0(),o!==null&&!Zt?(N0(o,l,x),Ti(o,l,x)):(Qe&&A&&i0(l),l.flags|=1,cn(o,l,g,x),l.child)}function Jj(o,l,f,g,x){if(o===null){var N=f.type;return typeof N=="function"&&!t0(N)&&N.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=N,ek(o,l,N,g,x)):(o=nf(f.type,null,g,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(N=o.child,!F0(o,x)){var C=N.memoizedProps;if(f=f.compare,f=f!==null?f:xc,f(C,g)&&o.ref===l.ref)return Ti(o,l,x)}return l.flags|=1,o=Si(N,g),o.ref=l.ref,o.return=l,l.child=o}function ek(o,l,f,g,x){if(o!==null){var N=o.memoizedProps;if(xc(N,g)&&o.ref===l.ref)if(Zt=!1,l.pendingProps=g=N,F0(o,x))(o.flags&131072)!==0&&(Zt=!0);else return l.lanes=o.lanes,Ti(o,l,x)}return z0(o,l,f,g,x)}function tk(o,l,f){var g=l.pendingProps,x=g.children,N=o!==null?o.memoizedState:null;if(g.mode==="hidden"){if((l.flags&128)!==0){if(g=N!==null?N.baseLanes|f:f,o!==null){for(x=l.child=o.child,N=0;x!==null;)N=N|x.lanes|x.childLanes,x=x.sibling;l.childLanes=N&~g}else l.childLanes=0,l.child=null;return nk(o,l,g,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&lf(l,N!==null?N.cachePool:null),N!==null?ej(l,N):v0(),Hj(l);else return l.lanes=l.childLanes=536870912,nk(o,l,N!==null?N.baseLanes|f:f,f)}else N!==null?(lf(l,N.cachePool),ej(l,N),wa(),l.memoizedState=null):(o!==null&&lf(l,null),v0(),wa());return cn(o,l,x,f),l.child}function nk(o,l,f,g){var x=f0();return x=x===null?null:{parent:Kt._currentValue,pool:x},l.memoizedState={baseLanes:f,cachePool:x},o!==null&&lf(l,null),v0(),Hj(l),o!==null&&jc(o,l,g,!0),null}function kf(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function z0(o,l,f,g,x){return Ts(l),f=w0(o,l,f,g,void 0,x),g=S0(),o!==null&&!Zt?(N0(o,l,x),Ti(o,l,x)):(Qe&&g&&i0(l),l.flags|=1,cn(o,l,f,x),l.child)}function rk(o,l,f,g,x,N){return Ts(l),l.updateQueue=null,f=nj(l,g,f,x),tj(o),g=S0(),o!==null&&!Zt?(N0(o,l,N),Ti(o,l,N)):(Qe&&g&&i0(l),l.flags|=1,cn(o,l,f,N),l.child)}function ik(o,l,f,g,x){if(Ts(l),l.stateNode===null){var N=$o,C=f.contextType;typeof C=="object"&&C!==null&&(N=bn(C)),N=new f(g,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=B0,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=g,N.state=l.memoizedState,N.refs={},p0(l),C=f.contextType,N.context=typeof C=="object"&&C!==null?bn(C):$o,N.state=l.memoizedState,C=f.getDerivedStateFromProps,typeof C=="function"&&(L0(l,f,C,g),N.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(C=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),C!==N.state&&B0.enqueueReplaceState(N,N.state,null),Mc(l,g,N,x),Ac(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(o===null){N=l.stateNode;var A=l.memoizedProps,R=_s(f,A);N.props=R;var H=N.context,ee=f.contextType;C=$o,typeof ee=="object"&&ee!==null&&(C=bn(ee));var ie=f.getDerivedStateFromProps;ee=typeof ie=="function"||typeof N.getSnapshotBeforeUpdate=="function",A=l.pendingProps!==A,ee||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(A||H!==C)&&Kj(l,N,g,C),ga=!1;var F=l.memoizedState;N.state=F,Mc(l,g,N,x),Ac(),H=l.memoizedState,A||F!==H||ga?(typeof ie=="function"&&(L0(l,f,ie,g),H=l.memoizedState),(R=ga||qj(l,f,R,g,F,H,C))?(ee||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=H),N.props=g,N.state=H,N.context=C,g=R):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{N=l.stateNode,m0(o,l),C=l.memoizedProps,ee=_s(f,C),N.props=ee,ie=l.pendingProps,F=N.context,H=f.contextType,R=$o,typeof H=="object"&&H!==null&&(R=bn(H)),A=f.getDerivedStateFromProps,(H=typeof A=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(C!==ie||F!==R)&&Kj(l,N,g,R),ga=!1,F=l.memoizedState,N.state=F,Mc(l,g,N,x),Ac();var G=l.memoizedState;C!==ie||F!==G||ga||o!==null&&o.dependencies!==null&&sf(o.dependencies)?(typeof A=="function"&&(L0(l,f,A,g),G=l.memoizedState),(ee=ga||qj(l,f,ee,g,F,G,R)||o!==null&&o.dependencies!==null&&sf(o.dependencies))?(H||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,G,R),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,G,R)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||C===o.memoizedProps&&F===o.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&F===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=G),N.props=g,N.state=G,N.context=R,g=ee):(typeof N.componentDidUpdate!="function"||C===o.memoizedProps&&F===o.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&F===o.memoizedState||(l.flags|=1024),g=!1)}return N=g,kf(o,l),g=(l.flags&128)!==0,N||g?(N=l.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,o!==null&&g?(l.child=Xo(l,o.child,null,x),l.child=Xo(l,null,f,x)):cn(o,l,f,x),l.memoizedState=N.state,o=l.child):o=Ti(o,l,x),o}function ak(o,l,f,g){return Sc(),l.flags|=256,cn(o,l,f,g),l.child}var $0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function U0(o){return{baseLanes:o,cachePool:F2()}}function H0(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=kr),o}function sk(o,l,f){var g=l.pendingProps,x=!1,N=(l.flags&128)!==0,C;if((C=N)||(C=o!==null&&o.memoizedState===null?!1:(Vt.current&2)!==0),C&&(x=!0,l.flags&=-129),C=(l.flags&32)!==0,l.flags&=-33,o===null){if(Qe){if(x?ba(l):wa(),Qe){var A=Et,R;if(R=A){e:{for(R=A,A=ii;R.nodeType!==8;){if(!A){A=null;break e}if(R=Fr(R.nextSibling),R===null){A=null;break e}}A=R}A!==null?(l.memoizedState={dehydrated:A,treeContext:js!==null?{id:Ni,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},R=Jn(18,null,null,0),R.stateNode=A,R.return=l,l.child=R,_n=l,Et=null,R=!0):R=!1}R||Cs(l)}if(A=l.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return ky(A)?l.lanes=32:l.lanes=536870912,null;Oi(l)}return A=g.children,g=g.fallback,x?(wa(),x=l.mode,A=Ef({mode:"hidden",children:A},x),g=Ns(g,x,f,null),A.return=l,g.return=l,A.sibling=g,l.child=A,x=l.child,x.memoizedState=U0(f),x.childLanes=H0(o,C,f),l.memoizedState=$0,g):(ba(l),q0(l,A))}if(R=o.memoizedState,R!==null&&(A=R.dehydrated,A!==null)){if(N)l.flags&256?(ba(l),l.flags&=-257,l=K0(o,l,f)):l.memoizedState!==null?(wa(),l.child=o.child,l.flags|=128,l=null):(wa(),x=g.fallback,A=l.mode,g=Ef({mode:"visible",children:g.children},A),x=Ns(x,A,f,null),x.flags|=2,g.return=l,x.return=l,g.sibling=x,l.child=g,Xo(l,o.child,null,f),g=l.child,g.memoizedState=U0(f),g.childLanes=H0(o,C,f),l.memoizedState=$0,l=x);else if(ba(l),ky(A)){if(C=A.nextSibling&&A.nextSibling.dataset,C)var H=C.dgst;C=H,g=Error(r(419)),g.stack="",g.digest=C,Nc({value:g,source:null,stack:null}),l=K0(o,l,f)}else if(Zt||jc(o,l,f,!1),C=(f&o.childLanes)!==0,Zt||C){if(C=ct,C!==null&&(g=f&-f,g=(g&42)!==0?1:Eg(g),g=(g&(C.suspendedLanes|f))!==0?0:g,g!==0&&g!==R.retryLane))throw R.retryLane=g,zo(o,g),ir(C,o,g),Qj;A.data==="$?"||ly(),l=K0(o,l,f)}else A.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=R.treeContext,Et=Fr(A.nextSibling),_n=l,Qe=!0,Es=null,ii=!1,o!==null&&(Sr[Nr++]=Ni,Sr[Nr++]=ji,Sr[Nr++]=js,Ni=o.id,ji=o.overflow,js=l),l=q0(l,g.children),l.flags|=4096);return l}return x?(wa(),x=g.fallback,A=l.mode,R=o.child,H=R.sibling,g=Si(R,{mode:"hidden",children:g.children}),g.subtreeFlags=R.subtreeFlags&65011712,H!==null?x=Si(H,x):(x=Ns(x,A,f,null),x.flags|=2),x.return=l,g.return=l,g.sibling=x,l.child=g,g=x,x=l.child,A=o.child.memoizedState,A===null?A=U0(f):(R=A.cachePool,R!==null?(H=Kt._currentValue,R=R.parent!==H?{parent:H,pool:H}:R):R=F2(),A={baseLanes:A.baseLanes|f,cachePool:R}),x.memoizedState=A,x.childLanes=H0(o,C,f),l.memoizedState=$0,g):(ba(l),f=o.child,o=f.sibling,f=Si(f,{mode:"visible",children:g.children}),f.return=l,f.sibling=null,o!==null&&(C=l.deletions,C===null?(l.deletions=[o],l.flags|=16):C.push(o)),l.child=f,l.memoizedState=null,f)}function q0(o,l){return l=Ef({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function Ef(o,l){return o=Jn(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function K0(o,l,f){return Xo(l,o.child,null,f),o=q0(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function ok(o,l,f){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),l0(o.return,l,f)}function V0(o,l,f,g,x){var N=o.memoizedState;N===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:x}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=g,N.tail=f,N.tailMode=x)}function lk(o,l,f){var g=l.pendingProps,x=g.revealOrder,N=g.tail;if(cn(o,l,g.children,f),g=Vt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ok(o,f,l);else if(o.tag===19)ok(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}switch(de(Vt,g),x){case"forwards":for(f=l.child,x=null;f!==null;)o=f.alternate,o!==null&&Sf(o)===null&&(x=f),f=f.sibling;f=x,f===null?(x=l.child,l.child=null):(x=f.sibling,f.sibling=null),V0(l,!1,x,f,N);break;case"backwards":for(f=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&Sf(o)===null){l.child=x;break}o=x.sibling,x.sibling=f,f=x,x=o}V0(l,!0,f,null,N);break;case"together":V0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ti(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),Ea|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(jc(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=Si(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=Si(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function F0(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&sf(o)))}function DI(o,l,f){switch(l.tag){case 3:ae(l,l.stateNode.containerInfo),ma(l,Kt,o.memoizedState.cache),Sc();break;case 27:case 5:me(l);break;case 4:ae(l,l.stateNode.containerInfo);break;case 10:ma(l,l.type,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(ba(l),l.flags|=128,null):(f&l.child.childLanes)!==0?sk(o,l,f):(ba(l),o=Ti(o,l,f),o!==null?o.sibling:null);ba(l);break;case 19:var x=(o.flags&128)!==0;if(g=(f&l.childLanes)!==0,g||(jc(o,l,f,!1),g=(f&l.childLanes)!==0),x){if(g)return lk(o,l,f);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),de(Vt,Vt.current),g)break;return null;case 22:case 23:return l.lanes=0,tk(o,l,f);case 24:ma(l,Kt,o.memoizedState.cache)}return Ti(o,l,f)}function ck(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)Zt=!0;else{if(!F0(o,f)&&(l.flags&128)===0)return Zt=!1,DI(o,l,f);Zt=(o.flags&131072)!==0}else Zt=!1,Qe&&(l.flags&1048576)!==0&&z2(l,af,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var g=l.elementType,x=g._init;if(g=x(g._payload),l.type=g,typeof g=="function")t0(g)?(o=_s(g,o),l.tag=1,l=ik(null,l,g,o,f)):(l.tag=0,l=z0(null,l,g,o,f));else{if(g!=null){if(x=g.$$typeof,x===_){l.tag=11,l=Zj(null,l,g,o,f);break e}else if(x===D){l.tag=14,l=Jj(null,l,g,o,f);break e}}throw l=oe(g)||g,Error(r(306,l,""))}}return l;case 0:return z0(o,l,l.type,l.pendingProps,f);case 1:return g=l.type,x=_s(g,l.pendingProps),ik(o,l,g,x,f);case 3:e:{if(ae(l,l.stateNode.containerInfo),o===null)throw Error(r(387));g=l.pendingProps;var N=l.memoizedState;x=N.element,m0(o,l),Mc(l,g,null,f);var C=l.memoizedState;if(g=C.cache,ma(l,Kt,g),g!==N.cache&&c0(l,[Kt],f,!0),Ac(),g=C.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:C.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=ak(o,l,g,f);break e}else if(g!==x){x=br(Error(r(424)),l),Nc(x),l=ak(o,l,g,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Et=Fr(o.firstChild),_n=l,Qe=!0,Es=null,ii=!0,f=Uj(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Sc(),g===x){l=Ti(o,l,f);break e}cn(o,l,g,f)}l=l.child}return l;case 26:return kf(o,l),o===null?(f=hE(l.type,null,l.pendingProps,null))?l.memoizedState=f:Qe||(f=l.type,o=l.pendingProps,g=$f(Ee.current).createElement(f),g[xn]=l,g[zn]=o,dn(g,f,o),Qt(g),l.stateNode=g):l.memoizedState=hE(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return me(l),o===null&&Qe&&(g=l.stateNode=uE(l.type,l.pendingProps,Ee.current),_n=l,ii=!0,x=Et,Aa(l.type)?(Ey=x,Et=Fr(g.firstChild)):Et=x),cn(o,l,l.pendingProps.children,f),kf(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&Qe&&((x=g=Et)&&(g=oz(g,l.type,l.pendingProps,ii),g!==null?(l.stateNode=g,_n=l,Et=Fr(g.firstChild),ii=!1,x=!0):x=!1),x||Cs(l)),me(l),x=l.type,N=l.pendingProps,C=o!==null?o.memoizedProps:null,g=N.children,Sy(x,N)?g=null:C!==null&&Sy(x,C)&&(l.flags|=32),l.memoizedState!==null&&(x=w0(o,l,kI,null,null,f),Jc._currentValue=x),kf(o,l),cn(o,l,g,f),l.child;case 6:return o===null&&Qe&&((o=f=Et)&&(f=lz(f,l.pendingProps,ii),f!==null?(l.stateNode=f,_n=l,Et=null,o=!0):o=!1),o||Cs(l)),null;case 13:return sk(o,l,f);case 4:return ae(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=Xo(l,null,g,f):cn(o,l,g,f),l.child;case 11:return Zj(o,l,l.type,l.pendingProps,f);case 7:return cn(o,l,l.pendingProps,f),l.child;case 8:return cn(o,l,l.pendingProps.children,f),l.child;case 12:return cn(o,l,l.pendingProps.children,f),l.child;case 10:return g=l.pendingProps,ma(l,l.type,g.value),cn(o,l,g.children,f),l.child;case 9:return x=l.type._context,g=l.pendingProps.children,Ts(l),x=bn(x),g=g(x),l.flags|=1,cn(o,l,g,f),l.child;case 14:return Jj(o,l,l.type,l.pendingProps,f);case 15:return ek(o,l,l.type,l.pendingProps,f);case 19:return lk(o,l,f);case 31:return g=l.pendingProps,f=l.mode,g={mode:g.mode,children:g.children},o===null?(f=Ef(g,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=Si(o.child,g),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return tk(o,l,f);case 24:return Ts(l),g=bn(Kt),o===null?(x=f0(),x===null&&(x=ct,N=u0(),x.pooledCache=N,N.refCount++,N!==null&&(x.pooledCacheLanes|=f),x=N),l.memoizedState={parent:g,cache:x},p0(l),ma(l,Kt,x)):((o.lanes&f)!==0&&(m0(o,l),Mc(l,null,null,f),Ac()),x=o.memoizedState,N=l.memoizedState,x.parent!==g?(x={parent:g,cache:g},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),ma(l,Kt,g)):(g=N.cache,ma(l,Kt,g),g!==x.cache&&c0(l,[Kt],f,!0))),cn(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ai(o){o.flags|=4}function uk(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!vE(l)){if(l=jr.current,l!==null&&((Fe&4194048)===Fe?ai!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||l!==ai))throw Oc=h0,W2;o.flags|=8192}}function Cf(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?HN():536870912,o.lanes|=l,el|=l)}function Ic(o,l){if(!Qe)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function St(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,g=0;if(l)for(var x=o.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=g,o.childLanes=f,l}function PI(o,l,f){var g=l.pendingProps;switch(a0(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(l),null;case 1:return St(l),null;case 3:return f=l.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Ei(Kt),Q(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(wc(l)?Ai(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,H2())),St(l),null;case 26:return f=l.memoizedState,o===null?(Ai(l),f!==null?(St(l),uk(l,f)):(St(l),l.flags&=-16777217)):f?f!==o.memoizedState?(Ai(l),St(l),uk(l,f)):(St(l),l.flags&=-16777217):(o.memoizedProps!==g&&Ai(l),St(l),l.flags&=-16777217),null;case 27:pe(l),f=Ee.current;var x=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==g&&Ai(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return St(l),null}o=ve.current,wc(l)?$2(l):(o=uE(x,g,f),l.stateNode=o,Ai(l))}return St(l),null;case 5:if(pe(l),f=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==g&&Ai(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return St(l),null}if(o=ve.current,wc(l))$2(l);else{switch(x=$f(Ee.current),o){case 1:o=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=x.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof g.is=="string"?x.createElement("select",{is:g.is}):x.createElement("select"),g.multiple?o.multiple=!0:g.size&&(o.size=g.size);break;default:o=typeof g.is=="string"?x.createElement(f,{is:g.is}):x.createElement(f)}}o[xn]=l,o[zn]=g;e:for(x=l.child;x!==null;){if(x.tag===5||x.tag===6)o.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===l)break e;for(;x.sibling===null;){if(x.return===null||x.return===l)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}l.stateNode=o;e:switch(dn(o,f,g),f){case"button":case"input":case"select":case"textarea":o=!!g.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ai(l)}}return St(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==g&&Ai(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(o=Ee.current,wc(l)){if(o=l.stateNode,f=l.memoizedProps,g=null,x=_n,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}o[xn]=l,o=!!(o.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||rE(o.nodeValue,f)),o||Cs(l)}else o=$f(o).createTextNode(g),o[xn]=l,l.stateNode=o}return St(l),null;case 13:if(g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=wc(l),g!==null&&g.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[xn]=l}else Sc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;St(l),x=!1}else x=H2(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(Oi(l),l):(Oi(l),null)}if(Oi(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=g!==null,o=o!==null&&o.memoizedState!==null,f){g=l.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool);var N=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(N=g.memoizedState.cachePool.pool),N!==x&&(g.flags|=2048)}return f!==o&&f&&(l.child.flags|=8192),Cf(l,l.updateQueue),St(l),null;case 4:return Q(),o===null&&yy(l.stateNode.containerInfo),St(l),null;case 10:return Ei(l.type),St(l),null;case 19:if(Z(Vt),x=l.memoizedState,x===null)return St(l),null;if(g=(l.flags&128)!==0,N=x.rendering,N===null)if(g)Ic(x,!1);else{if(Ct!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(N=Sf(o),N!==null){for(l.flags|=128,Ic(x,!1),o=N.updateQueue,l.updateQueue=o,Cf(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)I2(f,o),f=f.sibling;return de(Vt,Vt.current&1|2),l.child}o=o.sibling}x.tail!==null&&Ve()>Af&&(l.flags|=128,g=!0,Ic(x,!1),l.lanes=4194304)}else{if(!g)if(o=Sf(N),o!==null){if(l.flags|=128,g=!0,o=o.updateQueue,l.updateQueue=o,Cf(l,o),Ic(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!Qe)return St(l),null}else 2*Ve()-x.renderingStartTime>Af&&f!==536870912&&(l.flags|=128,g=!0,Ic(x,!1),l.lanes=4194304);x.isBackwards?(N.sibling=l.child,l.child=N):(o=x.last,o!==null?o.sibling=N:l.child=N,x.last=N)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Ve(),l.sibling=null,o=Vt.current,de(Vt,g?o&1|2:o&1),l):(St(l),null);case 22:case 23:return Oi(l),x0(),g=l.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(f&536870912)!==0&&(l.flags&128)===0&&(St(l),l.subtreeFlags&6&&(l.flags|=8192)):St(l),f=l.updateQueue,f!==null&&Cf(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==f&&(l.flags|=2048),o!==null&&Z(As),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Ei(Kt),St(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function RI(o,l){switch(a0(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ei(Kt),Q(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return pe(l),null;case 13:if(Oi(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Sc()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Z(Vt),null;case 4:return Q(),null;case 10:return Ei(l.type),null;case 22:case 23:return Oi(l),x0(),o!==null&&Z(As),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Ei(Kt),null;case 25:return null;default:return null}}function dk(o,l){switch(a0(l),l.tag){case 3:Ei(Kt),Q();break;case 26:case 27:case 5:pe(l);break;case 4:Q();break;case 13:Oi(l);break;case 19:Z(Vt);break;case 10:Ei(l.type);break;case 22:case 23:Oi(l),x0(),o!==null&&Z(As);break;case 24:Ei(Kt)}}function zc(o,l){try{var f=l.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var x=g.next;f=x;do{if((f.tag&o)===o){g=void 0;var N=f.create,C=f.inst;g=N(),C.destroy=g}f=f.next}while(f!==x)}}catch(A){st(l,l.return,A)}}function Sa(o,l,f){try{var g=l.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var N=x.next;g=N;do{if((g.tag&o)===o){var C=g.inst,A=C.destroy;if(A!==void 0){C.destroy=void 0,x=l;var R=f,H=A;try{H()}catch(ee){st(x,R,ee)}}}g=g.next}while(g!==N)}}catch(ee){st(l,l.return,ee)}}function fk(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{J2(l,f)}catch(g){st(o,o.return,g)}}}function hk(o,l,f){f.props=_s(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(g){st(o,l,g)}}function $c(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof f=="function"?o.refCleanup=f(g):f.current=g}}catch(x){st(o,l,x)}}function si(o,l){var f=o.ref,g=o.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(x){st(o,l,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(x){st(o,l,x)}else f.current=null}function pk(o){var l=o.type,f=o.memoizedProps,g=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(x){st(o,o.return,x)}}function W0(o,l,f){try{var g=o.stateNode;nz(g,o.type,f,l),g[zn]=l}catch(x){st(o,o.return,x)}}function mk(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Aa(o.type)||o.tag===4}function G0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||mk(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Aa(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Y0(o,l,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=zf));else if(g!==4&&(g===27&&Aa(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(Y0(o,l,f),o=o.sibling;o!==null;)Y0(o,l,f),o=o.sibling}function Of(o,l,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(g!==4&&(g===27&&Aa(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Of(o,l,f),o=o.sibling;o!==null;)Of(o,l,f),o=o.sibling}function gk(o){var l=o.stateNode,f=o.memoizedProps;try{for(var g=o.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);dn(l,g,f),l[xn]=o,l[zn]=f}catch(N){st(o,o.return,N)}}var Mi=!1,Dt=!1,X0=!1,yk=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function LI(o,l){if(o=o.containerInfo,by=Ff,o=O2(o),Gg(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var x=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{f.nodeType,N.nodeType}catch{f=null;break e}var C=0,A=-1,R=-1,H=0,ee=0,ie=o,F=null;t:for(;;){for(var G;ie!==f||x!==0&&ie.nodeType!==3||(A=C+x),ie!==N||g!==0&&ie.nodeType!==3||(R=C+g),ie.nodeType===3&&(C+=ie.nodeValue.length),(G=ie.firstChild)!==null;)F=ie,ie=G;for(;;){if(ie===o)break t;if(F===f&&++H===x&&(A=C),F===N&&++ee===g&&(R=C),(G=ie.nextSibling)!==null)break;ie=F,F=ie.parentNode}ie=G}f=A===-1||R===-1?null:{start:A,end:R}}else f=null}f=f||{start:0,end:0}}else f=null;for(wy={focusedElem:o,selectionRange:f},Ff=!1,Jt=l;Jt!==null;)if(l=Jt,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,Jt=o;else for(;Jt!==null;){switch(l=Jt,N=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&N!==null){o=void 0,f=l,x=N.memoizedProps,N=N.memoizedState,g=f.stateNode;try{var De=_s(f.type,x,f.elementType===f.type);o=g.getSnapshotBeforeUpdate(De,N),g.__reactInternalSnapshotBeforeUpdate=o}catch(Me){st(f,f.return,Me)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)jy(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":jy(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,Jt=o;break}Jt=l.return}}function vk(o,l,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:Na(o,f),g&4&&zc(5,f);break;case 1:if(Na(o,f),g&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(C){st(f,f.return,C)}else{var x=_s(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(x,l,o.__reactInternalSnapshotBeforeUpdate)}catch(C){st(f,f.return,C)}}g&64&&fk(f),g&512&&$c(f,f.return);break;case 3:if(Na(o,f),g&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{J2(o,l)}catch(C){st(f,f.return,C)}}break;case 27:l===null&&g&4&&gk(f);case 26:case 5:Na(o,f),l===null&&g&4&&pk(f),g&512&&$c(f,f.return);break;case 12:Na(o,f);break;case 13:Na(o,f),g&4&&wk(o,f),g&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=VI.bind(null,f),cz(o,f))));break;case 22:if(g=f.memoizedState!==null||Mi,!g){l=l!==null&&l.memoizedState!==null||Dt,x=Mi;var N=Dt;Mi=g,(Dt=l)&&!N?ja(o,f,(f.subtreeFlags&8772)!==0):Na(o,f),Mi=x,Dt=N}break;case 30:break;default:Na(o,f)}}function xk(o){var l=o.alternate;l!==null&&(o.alternate=null,xk(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Tg(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var mt=null,Hn=!1;function _i(o,l,f){for(f=f.child;f!==null;)bk(o,l,f),f=f.sibling}function bk(o,l,f){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(oc,f)}catch{}switch(f.tag){case 26:Dt||si(f,l),_i(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Dt||si(f,l);var g=mt,x=Hn;Aa(f.type)&&(mt=f.stateNode,Hn=!1),_i(o,l,f),Yc(f.stateNode),mt=g,Hn=x;break;case 5:Dt||si(f,l);case 6:if(g=mt,x=Hn,mt=null,_i(o,l,f),mt=g,Hn=x,mt!==null)if(Hn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(f.stateNode)}catch(N){st(f,l,N)}else try{mt.removeChild(f.stateNode)}catch(N){st(f,l,N)}break;case 18:mt!==null&&(Hn?(o=mt,lE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),ru(o)):lE(mt,f.stateNode));break;case 4:g=mt,x=Hn,mt=f.stateNode.containerInfo,Hn=!0,_i(o,l,f),mt=g,Hn=x;break;case 0:case 11:case 14:case 15:Dt||Sa(2,f,l),Dt||Sa(4,f,l),_i(o,l,f);break;case 1:Dt||(si(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"&&hk(f,l,g)),_i(o,l,f);break;case 21:_i(o,l,f);break;case 22:Dt=(g=Dt)||f.memoizedState!==null,_i(o,l,f),Dt=g;break;default:_i(o,l,f)}}function wk(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{ru(o)}catch(f){st(l,l.return,f)}}function BI(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new yk),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new yk),l;default:throw Error(r(435,o.tag))}}function Q0(o,l){var f=BI(o);l.forEach(function(g){var x=FI.bind(null,o,g);f.has(g)||(f.add(g),g.then(x,x))})}function er(o,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var x=f[g],N=o,C=l,A=C;e:for(;A!==null;){switch(A.tag){case 27:if(Aa(A.type)){mt=A.stateNode,Hn=!1;break e}break;case 5:mt=A.stateNode,Hn=!1;break e;case 3:case 4:mt=A.stateNode.containerInfo,Hn=!0;break e}A=A.return}if(mt===null)throw Error(r(160));bk(N,C,x),mt=null,Hn=!1,N=x.alternate,N!==null&&(N.return=null),x.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Sk(l,o),l=l.sibling}var Vr=null;function Sk(o,l){var f=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:er(l,o),tr(o),g&4&&(Sa(3,o,o.return),zc(3,o),Sa(5,o,o.return));break;case 1:er(l,o),tr(o),g&512&&(Dt||f===null||si(f,f.return)),g&64&&Mi&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var x=Vr;if(er(l,o),tr(o),g&512&&(Dt||f===null||si(f,f.return)),g&4){var N=f!==null?f.memoizedState:null;if(g=o.memoizedState,f===null)if(g===null)if(o.stateNode===null){e:{g=o.type,f=o.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":N=x.getElementsByTagName("title")[0],(!N||N[uc]||N[xn]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=x.createElement(g),x.head.insertBefore(N,x.querySelector("head > title"))),dn(N,g,f),N[xn]=o,Qt(N),g=N;break e;case"link":var C=gE("link","href",x).get(g+(f.href||""));if(C){for(var A=0;A<C.length;A++)if(N=C[A],N.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&N.getAttribute("rel")===(f.rel==null?null:f.rel)&&N.getAttribute("title")===(f.title==null?null:f.title)&&N.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){C.splice(A,1);break t}}N=x.createElement(g),dn(N,g,f),x.head.appendChild(N);break;case"meta":if(C=gE("meta","content",x).get(g+(f.content||""))){for(A=0;A<C.length;A++)if(N=C[A],N.getAttribute("content")===(f.content==null?null:""+f.content)&&N.getAttribute("name")===(f.name==null?null:f.name)&&N.getAttribute("property")===(f.property==null?null:f.property)&&N.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&N.getAttribute("charset")===(f.charSet==null?null:f.charSet)){C.splice(A,1);break t}}N=x.createElement(g),dn(N,g,f),x.head.appendChild(N);break;default:throw Error(r(468,g))}N[xn]=o,Qt(N),g=N}o.stateNode=g}else yE(x,o.type,o.stateNode);else o.stateNode=mE(x,g,o.memoizedProps);else N!==g?(N===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):N.count--,g===null?yE(x,o.type,o.stateNode):mE(x,g,o.memoizedProps)):g===null&&o.stateNode!==null&&W0(o,o.memoizedProps,f.memoizedProps)}break;case 27:er(l,o),tr(o),g&512&&(Dt||f===null||si(f,f.return)),f!==null&&g&4&&W0(o,o.memoizedProps,f.memoizedProps);break;case 5:if(er(l,o),tr(o),g&512&&(Dt||f===null||si(f,f.return)),o.flags&32){x=o.stateNode;try{_o(x,"")}catch(G){st(o,o.return,G)}}g&4&&o.stateNode!=null&&(x=o.memoizedProps,W0(o,x,f!==null?f.memoizedProps:x)),g&1024&&(X0=!0);break;case 6:if(er(l,o),tr(o),g&4){if(o.stateNode===null)throw Error(r(162));g=o.memoizedProps,f=o.stateNode;try{f.nodeValue=g}catch(G){st(o,o.return,G)}}break;case 3:if(qf=null,x=Vr,Vr=Uf(l.containerInfo),er(l,o),Vr=x,tr(o),g&4&&f!==null&&f.memoizedState.isDehydrated)try{ru(l.containerInfo)}catch(G){st(o,o.return,G)}X0&&(X0=!1,Nk(o));break;case 4:g=Vr,Vr=Uf(o.stateNode.containerInfo),er(l,o),tr(o),Vr=g;break;case 12:er(l,o),tr(o);break;case 13:er(l,o),tr(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(ry=Ve()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Q0(o,g)));break;case 22:x=o.memoizedState!==null;var R=f!==null&&f.memoizedState!==null,H=Mi,ee=Dt;if(Mi=H||x,Dt=ee||R,er(l,o),Dt=ee,Mi=H,tr(o),g&8192)e:for(l=o.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(f===null||R||Mi||Dt||Ds(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){R=f=l;try{if(N=R.stateNode,x)C=N.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{A=R.stateNode;var ie=R.memoizedProps.style,F=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){st(R,R.return,G)}}}else if(l.tag===6){if(f===null){R=l;try{R.stateNode.nodeValue=x?"":R.memoizedProps}catch(G){st(R,R.return,G)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=o.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,Q0(o,f))));break;case 19:er(l,o),tr(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Q0(o,g)));break;case 30:break;case 21:break;default:er(l,o),tr(o)}}function tr(o){var l=o.flags;if(l&2){try{for(var f,g=o.return;g!==null;){if(mk(g)){f=g;break}g=g.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var x=f.stateNode,N=G0(o);Of(o,N,x);break;case 5:var C=f.stateNode;f.flags&32&&(_o(C,""),f.flags&=-33);var A=G0(o);Of(o,A,C);break;case 3:case 4:var R=f.stateNode.containerInfo,H=G0(o);Y0(o,H,R);break;default:throw Error(r(161))}}catch(ee){st(o,o.return,ee)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function Nk(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;Nk(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function Na(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)vk(o,l.alternate,l),l=l.sibling}function Ds(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Sa(4,l,l.return),Ds(l);break;case 1:si(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&hk(l,l.return,f),Ds(l);break;case 27:Yc(l.stateNode);case 26:case 5:si(l,l.return),Ds(l);break;case 22:l.memoizedState===null&&Ds(l);break;case 30:Ds(l);break;default:Ds(l)}o=o.sibling}}function ja(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,x=o,N=l,C=N.flags;switch(N.tag){case 0:case 11:case 15:ja(x,N,f),zc(4,N);break;case 1:if(ja(x,N,f),g=N,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(H){st(g,g.return,H)}if(g=N,x=g.updateQueue,x!==null){var A=g.stateNode;try{var R=x.shared.hiddenCallbacks;if(R!==null)for(x.shared.hiddenCallbacks=null,x=0;x<R.length;x++)Z2(R[x],A)}catch(H){st(g,g.return,H)}}f&&C&64&&fk(N),$c(N,N.return);break;case 27:gk(N);case 26:case 5:ja(x,N,f),f&&g===null&&C&4&&pk(N),$c(N,N.return);break;case 12:ja(x,N,f);break;case 13:ja(x,N,f),f&&C&4&&wk(x,N);break;case 22:N.memoizedState===null&&ja(x,N,f),$c(N,N.return);break;case 30:break;default:ja(x,N,f)}l=l.sibling}}function Z0(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&kc(f))}function J0(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&kc(o))}function oi(o,l,f,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)jk(o,l,f,g),l=l.sibling}function jk(o,l,f,g){var x=l.flags;switch(l.tag){case 0:case 11:case 15:oi(o,l,f,g),x&2048&&zc(9,l);break;case 1:oi(o,l,f,g);break;case 3:oi(o,l,f,g),x&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&kc(o)));break;case 12:if(x&2048){oi(o,l,f,g),o=l.stateNode;try{var N=l.memoizedProps,C=N.id,A=N.onPostCommit;typeof A=="function"&&A(C,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(R){st(l,l.return,R)}}else oi(o,l,f,g);break;case 13:oi(o,l,f,g);break;case 23:break;case 22:N=l.stateNode,C=l.alternate,l.memoizedState!==null?N._visibility&2?oi(o,l,f,g):Uc(o,l):N._visibility&2?oi(o,l,f,g):(N._visibility|=2,Qo(o,l,f,g,(l.subtreeFlags&10256)!==0)),x&2048&&Z0(C,l);break;case 24:oi(o,l,f,g),x&2048&&J0(l.alternate,l);break;default:oi(o,l,f,g)}}function Qo(o,l,f,g,x){for(x=x&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var N=o,C=l,A=f,R=g,H=C.flags;switch(C.tag){case 0:case 11:case 15:Qo(N,C,A,R,x),zc(8,C);break;case 23:break;case 22:var ee=C.stateNode;C.memoizedState!==null?ee._visibility&2?Qo(N,C,A,R,x):Uc(N,C):(ee._visibility|=2,Qo(N,C,A,R,x)),x&&H&2048&&Z0(C.alternate,C);break;case 24:Qo(N,C,A,R,x),x&&H&2048&&J0(C.alternate,C);break;default:Qo(N,C,A,R,x)}l=l.sibling}}function Uc(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,g=l,x=g.flags;switch(g.tag){case 22:Uc(f,g),x&2048&&Z0(g.alternate,g);break;case 24:Uc(f,g),x&2048&&J0(g.alternate,g);break;default:Uc(f,g)}l=l.sibling}}var Hc=8192;function Zo(o){if(o.subtreeFlags&Hc)for(o=o.child;o!==null;)kk(o),o=o.sibling}function kk(o){switch(o.tag){case 26:Zo(o),o.flags&Hc&&o.memoizedState!==null&&Sz(Vr,o.memoizedState,o.memoizedProps);break;case 5:Zo(o);break;case 3:case 4:var l=Vr;Vr=Uf(o.stateNode.containerInfo),Zo(o),Vr=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=Hc,Hc=16777216,Zo(o),Hc=l):Zo(o));break;default:Zo(o)}}function Ek(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function qc(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];Jt=g,Ok(g,o)}Ek(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ck(o),o=o.sibling}function Ck(o){switch(o.tag){case 0:case 11:case 15:qc(o),o.flags&2048&&Sa(9,o,o.return);break;case 3:qc(o);break;case 12:qc(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Tf(o)):qc(o);break;default:qc(o)}}function Tf(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];Jt=g,Ok(g,o)}Ek(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Sa(8,l,l.return),Tf(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Tf(l));break;default:Tf(l)}o=o.sibling}}function Ok(o,l){for(;Jt!==null;){var f=Jt;switch(f.tag){case 0:case 11:case 15:Sa(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:kc(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,Jt=g;else e:for(f=o;Jt!==null;){g=Jt;var x=g.sibling,N=g.return;if(xk(g),g===f){Jt=null;break e}if(x!==null){x.return=N,Jt=x;break e}Jt=N}}}var II={getCacheForType:function(o){var l=bn(Kt),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f}},zI=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ct=null,qe=null,Fe=0,Je=0,nr=null,ka=!1,Jo=!1,ey=!1,Di=0,Ct=0,Ea=0,Ps=0,ty=0,kr=0,el=0,Kc=null,qn=null,ny=!1,ry=0,Af=1/0,Mf=null,Ca=null,un=0,Oa=null,tl=null,nl=0,iy=0,ay=null,Tk=null,Vc=0,sy=null;function rr(){if((Ze&2)!==0&&Fe!==0)return Fe&-Fe;if($.T!==null){var o=qo;return o!==0?o:hy()}return VN()}function Ak(){kr===0&&(kr=(Fe&536870912)===0||Qe?UN():536870912);var o=jr.current;return o!==null&&(o.flags|=32),kr}function ir(o,l,f){(o===ct&&(Je===2||Je===9)||o.cancelPendingCommit!==null)&&(rl(o,0),Ta(o,Fe,kr,!1)),cc(o,f),((Ze&2)===0||o!==ct)&&(o===ct&&((Ze&2)===0&&(Ps|=f),Ct===4&&Ta(o,Fe,kr,!1)),li(o))}function Mk(o,l,f){if((Ze&6)!==0)throw Error(r(327));var g=!f&&(l&124)===0&&(l&o.expiredLanes)===0||lc(o,l),x=g?HI(o,l):cy(o,l,!0),N=g;do{if(x===0){Jo&&!g&&Ta(o,l,0,!1);break}else{if(f=o.current.alternate,N&&!$I(f)){x=cy(o,l,!1),N=!1;continue}if(x===2){if(N=l,o.errorRecoveryDisabledLanes&N)var C=0;else C=o.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){l=C;e:{var A=o;x=Kc;var R=A.current.memoizedState.isDehydrated;if(R&&(rl(A,C).flags|=256),C=cy(A,C,!1),C!==2){if(ey&&!R){A.errorRecoveryDisabledLanes|=N,Ps|=N,x=4;break e}N=qn,qn=x,N!==null&&(qn===null?qn=N:qn.push.apply(qn,N))}x=C}if(N=!1,x!==2)continue}}if(x===1){rl(o,0),Ta(o,l,0,!0);break}e:{switch(g=o,N=x,N){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ta(g,l,kr,!ka);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(x=ry+300-Ve(),10<x)){if(Ta(g,l,kr,!ka),Ud(g,0,!0)!==0)break e;g.timeoutHandle=sE(_k.bind(null,g,f,qn,Mf,ny,l,kr,Ps,el,ka,N,2,-0,0),x);break e}_k(g,f,qn,Mf,ny,l,kr,Ps,el,ka,N,0,-0,0)}}break}while(!0);li(o)}function _k(o,l,f,g,x,N,C,A,R,H,ee,ie,F,G){if(o.timeoutHandle=-1,ie=l.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Zc={stylesheets:null,count:0,unsuspend:wz},kk(l),ie=Nz(),ie!==null)){o.cancelPendingCommit=ie(zk.bind(null,o,l,N,f,g,x,C,A,R,ee,1,F,G)),Ta(o,N,C,!H);return}zk(o,l,N,f,g,x,C,A,R)}function $I(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var x=f[g],N=x.getSnapshot;x=x.value;try{if(!Zn(N(),x))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ta(o,l,f,g){l&=~ty,l&=~Ps,o.suspendedLanes|=l,o.pingedLanes&=~l,g&&(o.warmLanes|=l),g=o.expirationTimes;for(var x=l;0<x;){var N=31-Qn(x),C=1<<N;g[N]=-1,x&=~C}f!==0&&qN(o,f,l)}function _f(){return(Ze&6)===0?(Fc(0),!1):!0}function oy(){if(qe!==null){if(Je===0)var o=qe.return;else o=qe,ki=Os=null,j0(o),Yo=null,Lc=0,o=qe;for(;o!==null;)dk(o.alternate,o),o=o.return;qe=null}}function rl(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,iz(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),oy(),ct=o,qe=f=Si(o.current,null),Fe=l,Je=0,nr=null,ka=!1,Jo=lc(o,l),ey=!1,el=kr=ty=Ps=Ea=Ct=0,qn=Kc=null,ny=!1,(l&8)!==0&&(l|=l&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=l;0<g;){var x=31-Qn(g),N=1<<x;l|=o[x],g&=~N}return Di=l,Jd(),f}function Dk(o,l){Ue=null,$.H=xf,l===Cc||l===cf?(l=X2(),Je=3):l===W2?(l=X2(),Je=4):Je=l===Qj?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,nr=l,qe===null&&(Ct=1,jf(o,br(l,o.current)))}function Pk(){var o=$.H;return $.H=xf,o===null?xf:o}function Rk(){var o=$.A;return $.A=II,o}function ly(){Ct=4,ka||(Fe&4194048)!==Fe&&jr.current!==null||(Jo=!0),(Ea&134217727)===0&&(Ps&134217727)===0||ct===null||Ta(ct,Fe,kr,!1)}function cy(o,l,f){var g=Ze;Ze|=2;var x=Pk(),N=Rk();(ct!==o||Fe!==l)&&(Mf=null,rl(o,l)),l=!1;var C=Ct;e:do try{if(Je!==0&&qe!==null){var A=qe,R=nr;switch(Je){case 8:oy(),C=6;break e;case 3:case 2:case 9:case 6:jr.current===null&&(l=!0);var H=Je;if(Je=0,nr=null,il(o,A,R,H),f&&Jo){C=0;break e}break;default:H=Je,Je=0,nr=null,il(o,A,R,H)}}UI(),C=Ct;break}catch(ee){Dk(o,ee)}while(!0);return l&&o.shellSuspendCounter++,ki=Os=null,Ze=g,$.H=x,$.A=N,qe===null&&(ct=null,Fe=0,Jd()),C}function UI(){for(;qe!==null;)Lk(qe)}function HI(o,l){var f=Ze;Ze|=2;var g=Pk(),x=Rk();ct!==o||Fe!==l?(Mf=null,Af=Ve()+500,rl(o,l)):Jo=lc(o,l);e:do try{if(Je!==0&&qe!==null){l=qe;var N=nr;t:switch(Je){case 1:Je=0,nr=null,il(o,l,N,1);break;case 2:case 9:if(G2(N)){Je=0,nr=null,Bk(l);break}l=function(){Je!==2&&Je!==9||ct!==o||(Je=7),li(o)},N.then(l,l);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:G2(N)?(Je=0,nr=null,Bk(l)):(Je=0,nr=null,il(o,l,N,7));break;case 5:var C=null;switch(qe.tag){case 26:C=qe.memoizedState;case 5:case 27:var A=qe;if(!C||vE(C)){Je=0,nr=null;var R=A.sibling;if(R!==null)qe=R;else{var H=A.return;H!==null?(qe=H,Df(H)):qe=null}break t}}Je=0,nr=null,il(o,l,N,5);break;case 6:Je=0,nr=null,il(o,l,N,6);break;case 8:oy(),Ct=6;break e;default:throw Error(r(462))}}qI();break}catch(ee){Dk(o,ee)}while(!0);return ki=Os=null,$.H=g,$.A=x,Ze=f,qe!==null?0:(ct=null,Fe=0,Jd(),Ct)}function qI(){for(;qe!==null&&!ye();)Lk(qe)}function Lk(o){var l=ck(o.alternate,o,Di);o.memoizedProps=o.pendingProps,l===null?Df(o):qe=l}function Bk(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=rk(f,l,l.pendingProps,l.type,void 0,Fe);break;case 11:l=rk(f,l,l.pendingProps,l.type.render,l.ref,Fe);break;case 5:j0(l);default:dk(f,l),l=qe=I2(l,Di),l=ck(f,l,Di)}o.memoizedProps=o.pendingProps,l===null?Df(o):qe=l}function il(o,l,f,g){ki=Os=null,j0(l),Yo=null,Lc=0;var x=l.return;try{if(_I(o,x,l,f,Fe)){Ct=1,jf(o,br(f,o.current)),qe=null;return}}catch(N){if(x!==null)throw qe=x,N;Ct=1,jf(o,br(f,o.current)),qe=null;return}l.flags&32768?(Qe||g===1?o=!0:Jo||(Fe&536870912)!==0?o=!1:(ka=o=!0,(g===2||g===9||g===3||g===6)&&(g=jr.current,g!==null&&g.tag===13&&(g.flags|=16384))),Ik(l,o)):Df(l)}function Df(o){var l=o;do{if((l.flags&32768)!==0){Ik(l,ka);return}o=l.return;var f=PI(l.alternate,l,Di);if(f!==null){qe=f;return}if(l=l.sibling,l!==null){qe=l;return}qe=l=o}while(l!==null);Ct===0&&(Ct=5)}function Ik(o,l){do{var f=RI(o.alternate,o);if(f!==null){f.flags&=32767,qe=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){qe=o;return}qe=o=f}while(o!==null);Ct=6,qe=null}function zk(o,l,f,g,x,N,C,A,R){o.cancelPendingCommit=null;do Pf();while(un!==0);if((Ze&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(N=l.lanes|l.childLanes,N|=Jg,wB(o,f,N,C,A,R),o===ct&&(qe=ct=null,Fe=0),tl=l,Oa=o,nl=f,iy=N,ay=x,Tk=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,WI(Id,function(){return Kk(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=$.T,$.T=null,x=J.p,J.p=2,C=Ze,Ze|=4;try{LI(o,l,f)}finally{Ze=C,J.p=x,$.T=g}}un=1,$k(),Uk(),Hk()}}function $k(){if(un===1){un=0;var o=Oa,l=tl,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=$.T,$.T=null;var g=J.p;J.p=2;var x=Ze;Ze|=4;try{Sk(l,o);var N=wy,C=O2(o.containerInfo),A=N.focusedElem,R=N.selectionRange;if(C!==A&&A&&A.ownerDocument&&C2(A.ownerDocument.documentElement,A)){if(R!==null&&Gg(A)){var H=R.start,ee=R.end;if(ee===void 0&&(ee=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min(ee,A.value.length);else{var ie=A.ownerDocument||document,F=ie&&ie.defaultView||window;if(F.getSelection){var G=F.getSelection(),De=A.textContent.length,Me=Math.min(R.start,De),it=R.end===void 0?Me:Math.min(R.end,De);!G.extend&&Me>it&&(C=it,it=Me,Me=C);var z=E2(A,Me),I=E2(A,it);if(z&&I&&(G.rangeCount!==1||G.anchorNode!==z.node||G.anchorOffset!==z.offset||G.focusNode!==I.node||G.focusOffset!==I.offset)){var U=ie.createRange();U.setStart(z.node,z.offset),G.removeAllRanges(),Me>it?(G.addRange(U),G.extend(I.node,I.offset)):(U.setEnd(I.node,I.offset),G.addRange(U))}}}}for(ie=[],G=A;G=G.parentNode;)G.nodeType===1&&ie.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var re=ie[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Ff=!!by,wy=by=null}finally{Ze=x,J.p=g,$.T=f}}o.current=l,un=2}}function Uk(){if(un===2){un=0;var o=Oa,l=tl,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=$.T,$.T=null;var g=J.p;J.p=2;var x=Ze;Ze|=4;try{vk(o,l.alternate,l)}finally{Ze=x,J.p=g,$.T=f}}un=3}}function Hk(){if(un===4||un===3){un=0,ke();var o=Oa,l=tl,f=nl,g=Tk;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?un=5:(un=0,tl=Oa=null,qk(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(Ca=null),Cg(f),l=l.stateNode,Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(oc,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=$.T,x=J.p,J.p=2,$.T=null;try{for(var N=o.onRecoverableError,C=0;C<g.length;C++){var A=g[C];N(A.value,{componentStack:A.stack})}}finally{$.T=l,J.p=x}}(nl&3)!==0&&Pf(),li(o),x=o.pendingLanes,(f&4194090)!==0&&(x&42)!==0?o===sy?Vc++:(Vc=0,sy=o):Vc=0,Fc(0)}}function qk(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,kc(l)))}function Pf(o){return $k(),Uk(),Hk(),Kk()}function Kk(){if(un!==5)return!1;var o=Oa,l=iy;iy=0;var f=Cg(nl),g=$.T,x=J.p;try{J.p=32>f?32:f,$.T=null,f=ay,ay=null;var N=Oa,C=nl;if(un=0,tl=Oa=null,nl=0,(Ze&6)!==0)throw Error(r(331));var A=Ze;if(Ze|=4,Ck(N.current),jk(N,N.current,C,f),Ze=A,Fc(0,!1),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(oc,N)}catch{}return!0}finally{J.p=x,$.T=g,qk(o,l)}}function Vk(o,l,f){l=br(f,l),l=I0(o.stateNode,l,2),o=va(o,l,2),o!==null&&(cc(o,2),li(o))}function st(o,l,f){if(o.tag===3)Vk(o,o,f);else for(;l!==null;){if(l.tag===3){Vk(l,o,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ca===null||!Ca.has(g))){o=br(f,o),f=Yj(2),g=va(l,f,2),g!==null&&(Xj(f,g,l,o),cc(g,2),li(g));break}}l=l.return}}function uy(o,l,f){var g=o.pingCache;if(g===null){g=o.pingCache=new zI;var x=new Set;g.set(l,x)}else x=g.get(l),x===void 0&&(x=new Set,g.set(l,x));x.has(f)||(ey=!0,x.add(f),o=KI.bind(null,o,l,f),l.then(o,o))}function KI(o,l,f){var g=o.pingCache;g!==null&&g.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,ct===o&&(Fe&f)===f&&(Ct===4||Ct===3&&(Fe&62914560)===Fe&&300>Ve()-ry?(Ze&2)===0&&rl(o,0):ty|=f,el===Fe&&(el=0)),li(o)}function Fk(o,l){l===0&&(l=HN()),o=zo(o,l),o!==null&&(cc(o,l),li(o))}function VI(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),Fk(o,f)}function FI(o,l){var f=0;switch(o.tag){case 13:var g=o.stateNode,x=o.memoizedState;x!==null&&(f=x.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(l),Fk(o,f)}function WI(o,l){return ne(o,l)}var Rf=null,al=null,dy=!1,Lf=!1,fy=!1,Rs=0;function li(o){o!==al&&o.next===null&&(al===null?Rf=al=o:al=al.next=o),Lf=!0,dy||(dy=!0,YI())}function Fc(o,l){if(!fy&&Lf){fy=!0;do for(var f=!1,g=Rf;g!==null;){if(o!==0){var x=g.pendingLanes;if(x===0)var N=0;else{var C=g.suspendedLanes,A=g.pingedLanes;N=(1<<31-Qn(42|o)+1)-1,N&=x&~(C&~A),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(f=!0,Xk(g,N))}else N=Fe,N=Ud(g,g===ct?N:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(N&3)===0||lc(g,N)||(f=!0,Xk(g,N));g=g.next}while(f);fy=!1}}function GI(){Wk()}function Wk(){Lf=dy=!1;var o=0;Rs!==0&&(rz()&&(o=Rs),Rs=0);for(var l=Ve(),f=null,g=Rf;g!==null;){var x=g.next,N=Gk(g,l);N===0?(g.next=null,f===null?Rf=x:f.next=x,x===null&&(al=f)):(f=g,(o!==0||(N&3)!==0)&&(Lf=!0)),g=x}Fc(o)}function Gk(o,l){for(var f=o.suspendedLanes,g=o.pingedLanes,x=o.expirationTimes,N=o.pendingLanes&-62914561;0<N;){var C=31-Qn(N),A=1<<C,R=x[C];R===-1?((A&f)===0||(A&g)!==0)&&(x[C]=bB(A,l)):R<=l&&(o.expiredLanes|=A),N&=~A}if(l=ct,f=Fe,f=Ud(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,f===0||o===l&&(Je===2||Je===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&fe(g),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||lc(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(g!==null&&fe(g),Cg(f)){case 2:case 8:f=ys;break;case 32:f=Id;break;case 268435456:f=$N;break;default:f=Id}return g=Yk.bind(null,o),f=ne(f,g),o.callbackPriority=l,o.callbackNode=f,l}return g!==null&&g!==null&&fe(g),o.callbackPriority=2,o.callbackNode=null,2}function Yk(o,l){if(un!==0&&un!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Pf()&&o.callbackNode!==f)return null;var g=Fe;return g=Ud(o,o===ct?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(Mk(o,g,l),Gk(o,Ve()),o.callbackNode!=null&&o.callbackNode===f?Yk.bind(null,o):null)}function Xk(o,l){if(Pf())return null;Mk(o,l,!0)}function YI(){az(function(){(Ze&6)!==0?ne(Mn,GI):Wk()})}function hy(){return Rs===0&&(Rs=UN()),Rs}function Qk(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Fd(""+o)}function Zk(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function XI(o,l,f,g,x){if(l==="submit"&&f&&f.stateNode===x){var N=Qk((x[zn]||null).action),C=g.submitter;C&&(l=(l=C[zn]||null)?Qk(l.formAction):C.getAttribute("formAction"),l!==null&&(N=l,C=null));var A=new Xd("action","action",null,g,x);o.push({event:A,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Rs!==0){var R=C?Zk(x,C):new FormData(x);D0(f,{pending:!0,data:R,method:x.method,action:N},null,R)}}else typeof N=="function"&&(A.preventDefault(),R=C?Zk(x,C):new FormData(x),D0(f,{pending:!0,data:R,method:x.method,action:N},N,R))},currentTarget:x}]})}}for(var py=0;py<Zg.length;py++){var my=Zg[py],QI=my.toLowerCase(),ZI=my[0].toUpperCase()+my.slice(1);Kr(QI,"on"+ZI)}Kr(M2,"onAnimationEnd"),Kr(_2,"onAnimationIteration"),Kr(D2,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(mI,"onTransitionRun"),Kr(gI,"onTransitionStart"),Kr(yI,"onTransitionCancel"),Kr(P2,"onTransitionEnd"),To("onMouseEnter",["mouseout","mouseover"]),To("onMouseLeave",["mouseout","mouseover"]),To("onPointerEnter",["pointerout","pointerover"]),To("onPointerLeave",["pointerout","pointerover"]),xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wc));function Jk(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var g=o[f],x=g.event;g=g.listeners;e:{var N=void 0;if(l)for(var C=g.length-1;0<=C;C--){var A=g[C],R=A.instance,H=A.currentTarget;if(A=A.listener,R!==N&&x.isPropagationStopped())break e;N=A,x.currentTarget=H;try{N(x)}catch(ee){Nf(ee)}x.currentTarget=null,N=R}else for(C=0;C<g.length;C++){if(A=g[C],R=A.instance,H=A.currentTarget,A=A.listener,R!==N&&x.isPropagationStopped())break e;N=A,x.currentTarget=H;try{N(x)}catch(ee){Nf(ee)}x.currentTarget=null,N=R}}}}function Ke(o,l){var f=l[Og];f===void 0&&(f=l[Og]=new Set);var g=o+"__bubble";f.has(g)||(eE(l,o,2,!1),f.add(g))}function gy(o,l,f){var g=0;l&&(g|=4),eE(f,o,g,l)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function yy(o){if(!o[Bf]){o[Bf]=!0,WN.forEach(function(f){f!=="selectionchange"&&(JI.has(f)||gy(f,!1,o),gy(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Bf]||(l[Bf]=!0,gy("selectionchange",!1,l))}}function eE(o,l,f,g){switch(jE(l)){case 2:var x=Ez;break;case 8:x=Cz;break;default:x=My}f=x.bind(null,l,f,o),x=void 0,!zg||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),g?x!==void 0?o.addEventListener(l,f,{capture:!0,passive:x}):o.addEventListener(l,f,!0):x!==void 0?o.addEventListener(l,f,{passive:x}):o.addEventListener(l,f,!1)}function vy(o,l,f,g,x){var N=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var C=g.tag;if(C===3||C===4){var A=g.stateNode.containerInfo;if(A===x)break;if(C===4)for(C=g.return;C!==null;){var R=C.tag;if((R===3||R===4)&&C.stateNode.containerInfo===x)return;C=C.return}for(;A!==null;){if(C=Eo(A),C===null)return;if(R=C.tag,R===5||R===6||R===26||R===27){g=N=C;continue e}A=A.parentNode}}g=g.return}o2(function(){var H=N,ee=Bg(f),ie=[];e:{var F=R2.get(o);if(F!==void 0){var G=Xd,De=o;switch(o){case"keypress":if(Gd(f)===0)break e;case"keydown":case"keyup":G=WB;break;case"focusin":De="focus",G=qg;break;case"focusout":De="blur",G=qg;break;case"beforeblur":case"afterblur":G=qg;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=u2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=RB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=XB;break;case M2:case _2:case D2:G=IB;break;case P2:G=ZB;break;case"scroll":case"scrollend":G=DB;break;case"wheel":G=eI;break;case"copy":case"cut":case"paste":G=$B;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=f2;break;case"toggle":case"beforetoggle":G=nI}var Me=(l&4)!==0,it=!Me&&(o==="scroll"||o==="scrollend"),z=Me?F!==null?F+"Capture":null:F;Me=[];for(var I=H,U;I!==null;){var re=I;if(U=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||U===null||z===null||(re=fc(I,z),re!=null&&Me.push(Gc(I,re,U))),it)break;I=I.return}0<Me.length&&(F=new G(F,De,null,f,ee),ie.push({event:F,listeners:Me}))}}if((l&7)===0){e:{if(F=o==="mouseover"||o==="pointerover",G=o==="mouseout"||o==="pointerout",F&&f!==Lg&&(De=f.relatedTarget||f.fromElement)&&(Eo(De)||De[ko]))break e;if((G||F)&&(F=ee.window===ee?ee:(F=ee.ownerDocument)?F.defaultView||F.parentWindow:window,G?(De=f.relatedTarget||f.toElement,G=H,De=De?Eo(De):null,De!==null&&(it=a(De),Me=De.tag,De!==it||Me!==5&&Me!==27&&Me!==6)&&(De=null)):(G=null,De=H),G!==De)){if(Me=u2,re="onMouseLeave",z="onMouseEnter",I="mouse",(o==="pointerout"||o==="pointerover")&&(Me=f2,re="onPointerLeave",z="onPointerEnter",I="pointer"),it=G==null?F:dc(G),U=De==null?F:dc(De),F=new Me(re,I+"leave",G,f,ee),F.target=it,F.relatedTarget=U,re=null,Eo(ee)===H&&(Me=new Me(z,I+"enter",De,f,ee),Me.target=U,Me.relatedTarget=it,re=Me),it=re,G&&De)t:{for(Me=G,z=De,I=0,U=Me;U;U=sl(U))I++;for(U=0,re=z;re;re=sl(re))U++;for(;0<I-U;)Me=sl(Me),I--;for(;0<U-I;)z=sl(z),U--;for(;I--;){if(Me===z||z!==null&&Me===z.alternate)break t;Me=sl(Me),z=sl(z)}Me=null}else Me=null;G!==null&&tE(ie,F,G,Me,!1),De!==null&&it!==null&&tE(ie,it,De,Me,!0)}}e:{if(F=H?dc(H):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var we=b2;else if(v2(F))if(w2)we=fI;else{we=uI;var He=cI}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Rg(H.elementType)&&(we=b2):we=dI;if(we&&(we=we(o,H))){x2(ie,we,f,ee);break e}He&&He(o,F,H),o==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Pg(F,"number",F.value)}switch(He=H?dc(H):window,o){case"focusin":(v2(He)||He.contentEditable==="true")&&(Lo=He,Yg=H,bc=null);break;case"focusout":bc=Yg=Lo=null;break;case"mousedown":Xg=!0;break;case"contextmenu":case"mouseup":case"dragend":Xg=!1,T2(ie,f,ee);break;case"selectionchange":if(pI)break;case"keydown":case"keyup":T2(ie,f,ee)}var Ce;if(Vg)e:{switch(o){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ro?g2(o,f)&&(_e="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(_e="onCompositionStart");_e&&(h2&&f.locale!=="ko"&&(Ro||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ro&&(Ce=l2()):(pa=ee,$g="value"in pa?pa.value:pa.textContent,Ro=!0)),He=If(H,_e),0<He.length&&(_e=new d2(_e,o,null,f,ee),ie.push({event:_e,listeners:He}),Ce?_e.data=Ce:(Ce=y2(f),Ce!==null&&(_e.data=Ce)))),(Ce=iI?aI(o,f):sI(o,f))&&(_e=If(H,"onBeforeInput"),0<_e.length&&(He=new d2("onBeforeInput","beforeinput",null,f,ee),ie.push({event:He,listeners:_e}),He.data=Ce)),XI(ie,o,H,f,ee)}Jk(ie,l)})}function Gc(o,l,f){return{instance:o,listener:l,currentTarget:f}}function If(o,l){for(var f=l+"Capture",g=[];o!==null;){var x=o,N=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||N===null||(x=fc(o,f),x!=null&&g.unshift(Gc(o,x,N)),x=fc(o,l),x!=null&&g.push(Gc(o,x,N))),o.tag===3)return g;o=o.return}return[]}function sl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function tE(o,l,f,g,x){for(var N=l._reactName,C=[];f!==null&&f!==g;){var A=f,R=A.alternate,H=A.stateNode;if(A=A.tag,R!==null&&R===g)break;A!==5&&A!==26&&A!==27||H===null||(R=H,x?(H=fc(f,N),H!=null&&C.unshift(Gc(f,H,R))):x||(H=fc(f,N),H!=null&&C.push(Gc(f,H,R)))),f=f.return}C.length!==0&&o.push({event:l,listeners:C})}var ez=/\r\n?/g,tz=/\u0000|\uFFFD/g;function nE(o){return(typeof o=="string"?o:""+o).replace(ez,`
`).replace(tz,"")}function rE(o,l){return l=nE(l),nE(o)===l}function zf(){}function rt(o,l,f,g,x,N){switch(f){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||_o(o,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&_o(o,""+g);break;case"className":qd(o,"class",g);break;case"tabIndex":qd(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":qd(o,f,g);break;case"style":a2(o,g,N);break;case"data":if(l!=="object"){qd(o,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(f);break}g=Fd(""+g),o.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(f==="formAction"?(l!=="input"&&rt(o,l,"name",x.name,x,null),rt(o,l,"formEncType",x.formEncType,x,null),rt(o,l,"formMethod",x.formMethod,x,null),rt(o,l,"formTarget",x.formTarget,x,null)):(rt(o,l,"encType",x.encType,x,null),rt(o,l,"method",x.method,x,null),rt(o,l,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(f);break}g=Fd(""+g),o.setAttribute(f,g);break;case"onClick":g!=null&&(o.onclick=zf);break;case"onScroll":g!=null&&Ke("scroll",o);break;case"onScrollEnd":g!=null&&Ke("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}f=Fd(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,""+g):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":g===!0?o.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,g):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(f,g):o.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(f):o.setAttribute(f,g);break;case"popover":Ke("beforetoggle",o),Ke("toggle",o),Hd(o,"popover",g);break;case"xlinkActuate":bi(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":bi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":bi(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":bi(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":bi(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":bi(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":bi(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":bi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":bi(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Hd(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=MB.get(f)||f,Hd(o,f,g))}}function xy(o,l,f,g,x,N){switch(f){case"style":a2(o,g,N);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof g=="string"?_o(o,g):(typeof g=="number"||typeof g=="bigint")&&_o(o,""+g);break;case"onScroll":g!=null&&Ke("scroll",o);break;case"onScrollEnd":g!=null&&Ke("scrollend",o);break;case"onClick":g!=null&&(o.onclick=zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!GN.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(x=f.endsWith("Capture"),l=f.slice(2,x?f.length-7:void 0),N=o[zn]||null,N=N!=null?N[f]:null,typeof N=="function"&&o.removeEventListener(l,N,x),typeof g=="function")){typeof N!="function"&&N!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,g,x);break e}f in o?o[f]=g:g===!0?o.setAttribute(f,""):Hd(o,f,g)}}}function dn(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",o),Ke("load",o);var g=!1,x=!1,N;for(N in f)if(f.hasOwnProperty(N)){var C=f[N];if(C!=null)switch(N){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:rt(o,l,N,C,f,null)}}x&&rt(o,l,"srcSet",f.srcSet,f,null),g&&rt(o,l,"src",f.src,f,null);return;case"input":Ke("invalid",o);var A=N=C=x=null,R=null,H=null;for(g in f)if(f.hasOwnProperty(g)){var ee=f[g];if(ee!=null)switch(g){case"name":x=ee;break;case"type":C=ee;break;case"checked":R=ee;break;case"defaultChecked":H=ee;break;case"value":N=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:rt(o,l,g,ee,f,null)}}t2(o,N,A,R,H,C,x,!1),Kd(o);return;case"select":Ke("invalid",o),g=C=N=null;for(x in f)if(f.hasOwnProperty(x)&&(A=f[x],A!=null))switch(x){case"value":N=A;break;case"defaultValue":C=A;break;case"multiple":g=A;default:rt(o,l,x,A,f,null)}l=N,f=C,o.multiple=!!g,l!=null?Mo(o,!!g,l,!1):f!=null&&Mo(o,!!g,f,!0);return;case"textarea":Ke("invalid",o),N=x=g=null;for(C in f)if(f.hasOwnProperty(C)&&(A=f[C],A!=null))switch(C){case"value":g=A;break;case"defaultValue":x=A;break;case"children":N=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:rt(o,l,C,A,f,null)}r2(o,g,x,N),Kd(o);return;case"option":for(R in f)if(f.hasOwnProperty(R)&&(g=f[R],g!=null))switch(R){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:rt(o,l,R,g,f,null)}return;case"dialog":Ke("beforetoggle",o),Ke("toggle",o),Ke("cancel",o),Ke("close",o);break;case"iframe":case"object":Ke("load",o);break;case"video":case"audio":for(g=0;g<Wc.length;g++)Ke(Wc[g],o);break;case"image":Ke("error",o),Ke("load",o);break;case"details":Ke("toggle",o);break;case"embed":case"source":case"link":Ke("error",o),Ke("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in f)if(f.hasOwnProperty(H)&&(g=f[H],g!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:rt(o,l,H,g,f,null)}return;default:if(Rg(l)){for(ee in f)f.hasOwnProperty(ee)&&(g=f[ee],g!==void 0&&xy(o,l,ee,g,f,void 0));return}}for(A in f)f.hasOwnProperty(A)&&(g=f[A],g!=null&&rt(o,l,A,g,f,null))}function nz(o,l,f,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,N=null,C=null,A=null,R=null,H=null,ee=null;for(G in f){var ie=f[G];if(f.hasOwnProperty(G)&&ie!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":R=ie;default:g.hasOwnProperty(G)||rt(o,l,G,null,g,ie)}}for(var F in g){var G=g[F];if(ie=f[F],g.hasOwnProperty(F)&&(G!=null||ie!=null))switch(F){case"type":N=G;break;case"name":x=G;break;case"checked":H=G;break;case"defaultChecked":ee=G;break;case"value":C=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,l));break;default:G!==ie&&rt(o,l,F,G,g,ie)}}Dg(o,C,A,R,H,ee,N,x);return;case"select":G=C=A=F=null;for(N in f)if(R=f[N],f.hasOwnProperty(N)&&R!=null)switch(N){case"value":break;case"multiple":G=R;default:g.hasOwnProperty(N)||rt(o,l,N,null,g,R)}for(x in g)if(N=g[x],R=f[x],g.hasOwnProperty(x)&&(N!=null||R!=null))switch(x){case"value":F=N;break;case"defaultValue":A=N;break;case"multiple":C=N;default:N!==R&&rt(o,l,x,N,g,R)}l=A,f=C,g=G,F!=null?Mo(o,!!f,F,!1):!!g!=!!f&&(l!=null?Mo(o,!!f,l,!0):Mo(o,!!f,f?[]:"",!1));return;case"textarea":G=F=null;for(A in f)if(x=f[A],f.hasOwnProperty(A)&&x!=null&&!g.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:rt(o,l,A,null,g,x)}for(C in g)if(x=g[C],N=f[C],g.hasOwnProperty(C)&&(x!=null||N!=null))switch(C){case"value":F=x;break;case"defaultValue":G=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==N&&rt(o,l,C,x,g,N)}n2(o,F,G);return;case"option":for(var De in f)if(F=f[De],f.hasOwnProperty(De)&&F!=null&&!g.hasOwnProperty(De))switch(De){case"selected":o.selected=!1;break;default:rt(o,l,De,null,g,F)}for(R in g)if(F=g[R],G=f[R],g.hasOwnProperty(R)&&F!==G&&(F!=null||G!=null))switch(R){case"selected":o.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:rt(o,l,R,F,g,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in f)F=f[Me],f.hasOwnProperty(Me)&&F!=null&&!g.hasOwnProperty(Me)&&rt(o,l,Me,null,g,F);for(H in g)if(F=g[H],G=f[H],g.hasOwnProperty(H)&&F!==G&&(F!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,l));break;default:rt(o,l,H,F,g,G)}return;default:if(Rg(l)){for(var it in f)F=f[it],f.hasOwnProperty(it)&&F!==void 0&&!g.hasOwnProperty(it)&&xy(o,l,it,void 0,g,F);for(ee in g)F=g[ee],G=f[ee],!g.hasOwnProperty(ee)||F===G||F===void 0&&G===void 0||xy(o,l,ee,F,g,G);return}}for(var z in f)F=f[z],f.hasOwnProperty(z)&&F!=null&&!g.hasOwnProperty(z)&&rt(o,l,z,null,g,F);for(ie in g)F=g[ie],G=f[ie],!g.hasOwnProperty(ie)||F===G||F==null&&G==null||rt(o,l,ie,F,g,G)}var by=null,wy=null;function $f(o){return o.nodeType===9?o:o.ownerDocument}function iE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aE(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function Sy(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ny=null;function rz(){var o=window.event;return o&&o.type==="popstate"?o===Ny?!1:(Ny=o,!0):(Ny=null,!1)}var sE=typeof setTimeout=="function"?setTimeout:void 0,iz=typeof clearTimeout=="function"?clearTimeout:void 0,oE=typeof Promise=="function"?Promise:void 0,az=typeof queueMicrotask=="function"?queueMicrotask:typeof oE<"u"?function(o){return oE.resolve(null).then(o).catch(sz)}:sE;function sz(o){setTimeout(function(){throw o})}function Aa(o){return o==="head"}function lE(o,l){var f=l,g=0,x=0;do{var N=f.nextSibling;if(o.removeChild(f),N&&N.nodeType===8)if(f=N.data,f==="/$"){if(0<g&&8>g){f=g;var C=o.ownerDocument;if(f&1&&Yc(C.documentElement),f&2&&Yc(C.body),f&4)for(f=C.head,Yc(f),C=f.firstChild;C;){var A=C.nextSibling,R=C.nodeName;C[uc]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=A}}if(x===0){o.removeChild(N),ru(l);return}x--}else f==="$"||f==="$?"||f==="$!"?x++:g=f.charCodeAt(0)-48;else g=0;f=N}while(f);ru(l)}function jy(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":jy(f),Tg(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function oz(o,l,f,g){for(;o.nodeType===1;){var x=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[uc])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(N=o.getAttribute("rel"),N==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(N!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(N=o.getAttribute("src"),(N!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&N&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var N=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===N)return o}else return o;if(o=Fr(o.nextSibling),o===null)break}return null}function lz(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Fr(o.nextSibling),o===null))return null;return o}function ky(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function cz(o,l){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")l();else{var g=function(){l(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function Fr(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var Ey=null;function cE(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}function uE(o,l,f){switch(l=$f(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Yc(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Tg(o)}var Er=new Map,dE=new Set;function Uf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Pi=J.d;J.d={f:uz,r:dz,D:fz,C:hz,L:pz,m:mz,X:yz,S:gz,M:vz};function uz(){var o=Pi.f(),l=_f();return o||l}function dz(o){var l=Co(o);l!==null&&l.tag===5&&l.type==="form"?Mj(l):Pi.r(o)}var ol=typeof document>"u"?null:document;function fE(o,l,f){var g=ol;if(g&&typeof l=="string"&&l){var x=xr(l);x='link[rel="'+o+'"][href="'+x+'"]',typeof f=="string"&&(x+='[crossorigin="'+f+'"]'),dE.has(x)||(dE.add(x),o={rel:o,crossOrigin:f,href:l},g.querySelector(x)===null&&(l=g.createElement("link"),dn(l,"link",o),Qt(l),g.head.appendChild(l)))}}function fz(o){Pi.D(o),fE("dns-prefetch",o,null)}function hz(o,l){Pi.C(o,l),fE("preconnect",o,l)}function pz(o,l,f){Pi.L(o,l,f);var g=ol;if(g&&o&&l){var x='link[rel="preload"][as="'+xr(l)+'"]';l==="image"&&f&&f.imageSrcSet?(x+='[imagesrcset="'+xr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(x+='[imagesizes="'+xr(f.imageSizes)+'"]')):x+='[href="'+xr(o)+'"]';var N=x;switch(l){case"style":N=ll(o);break;case"script":N=cl(o)}Er.has(N)||(o=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),Er.set(N,o),g.querySelector(x)!==null||l==="style"&&g.querySelector(Xc(N))||l==="script"&&g.querySelector(Qc(N))||(l=g.createElement("link"),dn(l,"link",o),Qt(l),g.head.appendChild(l)))}}function mz(o,l){Pi.m(o,l);var f=ol;if(f&&o){var g=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+xr(g)+'"][href="'+xr(o)+'"]',N=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=cl(o)}if(!Er.has(N)&&(o=p({rel:"modulepreload",href:o},l),Er.set(N,o),f.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Qc(N)))return}g=f.createElement("link"),dn(g,"link",o),Qt(g),f.head.appendChild(g)}}}function gz(o,l,f){Pi.S(o,l,f);var g=ol;if(g&&o){var x=Oo(g).hoistableStyles,N=ll(o);l=l||"default";var C=x.get(N);if(!C){var A={loading:0,preload:null};if(C=g.querySelector(Xc(N)))A.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},f),(f=Er.get(N))&&Cy(o,f);var R=C=g.createElement("link");Qt(R),dn(R,"link",o),R._p=new Promise(function(H,ee){R.onload=H,R.onerror=ee}),R.addEventListener("load",function(){A.loading|=1}),R.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Hf(C,l,g)}C={type:"stylesheet",instance:C,count:1,state:A},x.set(N,C)}}}function yz(o,l){Pi.X(o,l);var f=ol;if(f&&o){var g=Oo(f).hoistableScripts,x=cl(o),N=g.get(x);N||(N=f.querySelector(Qc(x)),N||(o=p({src:o,async:!0},l),(l=Er.get(x))&&Oy(o,l),N=f.createElement("script"),Qt(N),dn(N,"link",o),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(x,N))}}function vz(o,l){Pi.M(o,l);var f=ol;if(f&&o){var g=Oo(f).hoistableScripts,x=cl(o),N=g.get(x);N||(N=f.querySelector(Qc(x)),N||(o=p({src:o,async:!0,type:"module"},l),(l=Er.get(x))&&Oy(o,l),N=f.createElement("script"),Qt(N),dn(N,"link",o),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(x,N))}}function hE(o,l,f,g){var x=(x=Ee.current)?Uf(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=ll(f.href),f=Oo(x).hoistableStyles,g=f.get(l),g||(g={type:"style",instance:null,count:0,state:null},f.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=ll(f.href);var N=Oo(x).hoistableStyles,C=N.get(o);if(C||(x=x.ownerDocument||x,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(o,C),(N=x.querySelector(Xc(o)))&&!N._p&&(C.instance=N,C.state.loading=5),Er.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Er.set(o,f),N||xz(x,o,f,C.state))),l&&g===null)throw Error(r(528,""));return C}if(l&&g!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=cl(f),f=Oo(x).hoistableScripts,g=f.get(l),g||(g={type:"script",instance:null,count:0,state:null},f.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function ll(o){return'href="'+xr(o)+'"'}function Xc(o){return'link[rel="stylesheet"]['+o+"]"}function pE(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function xz(o,l,f,g){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=o.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),dn(l,"link",f),Qt(l),o.head.appendChild(l))}function cl(o){return'[src="'+xr(o)+'"]'}function Qc(o){return"script[async]"+o}function mE(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var g=o.querySelector('style[data-href~="'+xr(f.href)+'"]');if(g)return l.instance=g,Qt(g),g;var x=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Qt(g),dn(g,"style",x),Hf(g,f.precedence,o),l.instance=g;case"stylesheet":x=ll(f.href);var N=o.querySelector(Xc(x));if(N)return l.state.loading|=4,l.instance=N,Qt(N),N;g=pE(f),(x=Er.get(x))&&Cy(g,x),N=(o.ownerDocument||o).createElement("link"),Qt(N);var C=N;return C._p=new Promise(function(A,R){C.onload=A,C.onerror=R}),dn(N,"link",g),l.state.loading|=4,Hf(N,f.precedence,o),l.instance=N;case"script":return N=cl(f.src),(x=o.querySelector(Qc(N)))?(l.instance=x,Qt(x),x):(g=f,(x=Er.get(N))&&(g=p({},f),Oy(g,x)),o=o.ownerDocument||o,x=o.createElement("script"),Qt(x),dn(x,"link",g),o.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,Hf(g,f.precedence,o));return l.instance}function Hf(o,l,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,N=x,C=0;C<g.length;C++){var A=g[C];if(A.dataset.precedence===l)N=A;else if(N!==x)break}N?N.parentNode.insertBefore(o,N.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function Cy(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Oy(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var qf=null;function gE(o,l,f){if(qf===null){var g=new Map,x=qf=new Map;x.set(f,g)}else x=qf,g=x.get(f),g||(g=new Map,x.set(f,g));if(g.has(o))return g;for(g.set(o,null),f=f.getElementsByTagName(o),x=0;x<f.length;x++){var N=f[x];if(!(N[uc]||N[xn]||o==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var C=N.getAttribute(l)||"";C=o+C;var A=g.get(C);A?A.push(N):g.set(C,[N])}}return g}function yE(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function bz(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function vE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Zc=null;function wz(){}function Sz(o,l,f){if(Zc===null)throw Error(r(475));var g=Zc;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var x=ll(f.href),N=o.querySelector(Xc(x));if(N){o=N._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(g.count++,g=Kf.bind(g),o.then(g,g)),l.state.loading|=4,l.instance=N,Qt(N);return}N=o.ownerDocument||o,f=pE(f),(x=Er.get(x))&&Cy(f,x),N=N.createElement("link"),Qt(N);var C=N;C._p=new Promise(function(A,R){C.onload=A,C.onerror=R}),dn(N,"link",f),l.instance=N}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(g.count++,l=Kf.bind(g),o.addEventListener("load",l),o.addEventListener("error",l))}}function Nz(){if(Zc===null)throw Error(r(475));var o=Zc;return o.stylesheets&&o.count===0&&Ty(o,o.stylesheets),0<o.count?function(l){var f=setTimeout(function(){if(o.stylesheets&&Ty(o,o.stylesheets),o.unsuspend){var g=o.unsuspend;o.unsuspend=null,g()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f)}}:null}function Kf(){if(this.count--,this.count===0){if(this.stylesheets)Ty(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Vf=null;function Ty(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Vf=new Map,l.forEach(jz,o),Vf=null,Kf.call(o))}function jz(o,l){if(!(l.state.loading&4)){var f=Vf.get(o);if(f)var g=f.get(null);else{f=new Map,Vf.set(o,f);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<x.length;N++){var C=x[N];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(f.set(C.dataset.precedence,C),g=C)}g&&f.set(null,g)}x=l.instance,C=x.getAttribute("data-precedence"),N=f.get(C)||g,N===g&&f.set(null,x),f.set(C,x),this.count++,g=Kf.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),N?N.parentNode.insertBefore(x,N.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),l.state.loading|=4}}var Jc={$$typeof:O,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function kz(o,l,f,g,x,N,C,A){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kg(0),this.hiddenUpdates=kg(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=N,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function xE(o,l,f,g,x,N,C,A,R,H,ee,ie){return o=new kz(o,l,f,C,A,R,H,ie),l=1,N===!0&&(l|=24),N=Jn(3,null,null,l),o.current=N,N.stateNode=o,l=u0(),l.refCount++,o.pooledCache=l,l.refCount++,N.memoizedState={element:g,isDehydrated:f,cache:l},p0(N),o}function bE(o){return o?(o=$o,o):$o}function wE(o,l,f,g,x,N){x=bE(x),g.context===null?g.context=x:g.pendingContext=x,g=ya(l),g.payload={element:f},N=N===void 0?null:N,N!==null&&(g.callback=N),f=va(o,g,l),f!==null&&(ir(f,o,l),Tc(f,o,l))}function SE(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function Ay(o,l){SE(o,l),(o=o.alternate)&&SE(o,l)}function NE(o){if(o.tag===13){var l=zo(o,67108864);l!==null&&ir(l,o,67108864),Ay(o,67108864)}}var Ff=!0;function Ez(o,l,f,g){var x=$.T;$.T=null;var N=J.p;try{J.p=2,My(o,l,f,g)}finally{J.p=N,$.T=x}}function Cz(o,l,f,g){var x=$.T;$.T=null;var N=J.p;try{J.p=8,My(o,l,f,g)}finally{J.p=N,$.T=x}}function My(o,l,f,g){if(Ff){var x=_y(g);if(x===null)vy(o,l,g,Wf,f),kE(o,g);else if(Tz(x,o,l,f,g))g.stopPropagation();else if(kE(o,g),l&4&&-1<Oz.indexOf(o)){for(;x!==null;){var N=Co(x);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var C=vs(N.pendingLanes);if(C!==0){var A=N;for(A.pendingLanes|=2,A.entangledLanes|=2;C;){var R=1<<31-Qn(C);A.entanglements[1]|=R,C&=~R}li(N),(Ze&6)===0&&(Af=Ve()+500,Fc(0))}}break;case 13:A=zo(N,2),A!==null&&ir(A,N,2),_f(),Ay(N,2)}if(N=_y(g),N===null&&vy(o,l,g,Wf,f),N===x)break;x=N}x!==null&&g.stopPropagation()}else vy(o,l,g,null,f)}}function _y(o){return o=Bg(o),Dy(o)}var Wf=null;function Dy(o){if(Wf=null,o=Eo(o),o!==null){var l=a(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=s(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Wf=o,null}function jE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pt()){case Mn:return 2;case ys:return 8;case Id:case pB:return 32;case $N:return 268435456;default:return 32}default:return 32}}var Py=!1,Ma=null,_a=null,Da=null,eu=new Map,tu=new Map,Pa=[],Oz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kE(o,l){switch(o){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":eu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(l.pointerId)}}function nu(o,l,f,g,x,N){return o===null||o.nativeEvent!==N?(o={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:N,targetContainers:[x]},l!==null&&(l=Co(l),l!==null&&NE(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function Tz(o,l,f,g,x){switch(l){case"focusin":return Ma=nu(Ma,o,l,f,g,x),!0;case"dragenter":return _a=nu(_a,o,l,f,g,x),!0;case"mouseover":return Da=nu(Da,o,l,f,g,x),!0;case"pointerover":var N=x.pointerId;return eu.set(N,nu(eu.get(N)||null,o,l,f,g,x)),!0;case"gotpointercapture":return N=x.pointerId,tu.set(N,nu(tu.get(N)||null,o,l,f,g,x)),!0}return!1}function EE(o){var l=Eo(o.target);if(l!==null){var f=a(l);if(f!==null){if(l=f.tag,l===13){if(l=s(f),l!==null){o.blockedOn=l,SB(o.priority,function(){if(f.tag===13){var g=rr();g=Eg(g);var x=zo(f,g);x!==null&&ir(x,f,g),Ay(f,g)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Gf(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=_y(o.nativeEvent);if(f===null){f=o.nativeEvent;var g=new f.constructor(f.type,f);Lg=g,f.target.dispatchEvent(g),Lg=null}else return l=Co(f),l!==null&&NE(l),o.blockedOn=f,!1;l.shift()}return!0}function CE(o,l,f){Gf(o)&&f.delete(l)}function Az(){Py=!1,Ma!==null&&Gf(Ma)&&(Ma=null),_a!==null&&Gf(_a)&&(_a=null),Da!==null&&Gf(Da)&&(Da=null),eu.forEach(CE),tu.forEach(CE)}function Yf(o,l){o.blockedOn===l&&(o.blockedOn=null,Py||(Py=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Az)))}var Xf=null;function OE(o){Xf!==o&&(Xf=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Xf===o&&(Xf=null);for(var l=0;l<o.length;l+=3){var f=o[l],g=o[l+1],x=o[l+2];if(typeof g!="function"){if(Dy(g||f)===null)continue;break}var N=Co(f);N!==null&&(o.splice(l,3),l-=3,D0(N,{pending:!0,data:x,method:f.method,action:g},g,x))}}))}function ru(o){function l(R){return Yf(R,o)}Ma!==null&&Yf(Ma,o),_a!==null&&Yf(_a,o),Da!==null&&Yf(Da,o),eu.forEach(l),tu.forEach(l);for(var f=0;f<Pa.length;f++){var g=Pa[f];g.blockedOn===o&&(g.blockedOn=null)}for(;0<Pa.length&&(f=Pa[0],f.blockedOn===null);)EE(f),f.blockedOn===null&&Pa.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var x=f[g],N=f[g+1],C=x[zn]||null;if(typeof N=="function")C||OE(f);else if(C){var A=null;if(N&&N.hasAttribute("formAction")){if(x=N,C=N[zn]||null)A=C.formAction;else if(Dy(x)!==null)continue}else A=C.action;typeof A=="function"?f[g+1]=A:(f.splice(g,3),g-=3),OE(f)}}}function Ry(o){this._internalRoot=o}Qf.prototype.render=Ry.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,g=rr();wE(f,g,o,l,null,null)},Qf.prototype.unmount=Ry.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;wE(o.current,2,null,o,null,null),_f(),l[ko]=null}};function Qf(o){this._internalRoot=o}Qf.prototype.unstable_scheduleHydration=function(o){if(o){var l=VN();o={blockedOn:null,target:o,priority:l};for(var f=0;f<Pa.length&&l!==0&&l<Pa[f].priority;f++);Pa.splice(f,0,o),f===0&&EE(o)}};var TE=t.version;if(TE!=="19.1.1")throw Error(r(527,TE,"19.1.1"));J.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=u(l),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var Mz={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{oc=Zf.inject(Mz),Xn=Zf}catch{}}return au.createRoot=function(o,l){if(!i(o))throw Error(r(299));var f=!1,g="",x=Vj,N=Fj,C=Wj,A=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(A=l.unstable_transitionCallbacks)),l=xE(o,1,!1,null,null,f,g,x,N,C,A,null),o[ko]=l.current,yy(o),new Ry(l)},au.hydrateRoot=function(o,l,f){if(!i(o))throw Error(r(299));var g=!1,x="",N=Vj,C=Fj,A=Wj,R=null,H=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onUncaughtError!==void 0&&(N=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(A=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(R=f.unstable_transitionCallbacks),f.formState!==void 0&&(H=f.formState)),l=xE(o,1,!0,l,f??null,g,x,N,C,A,R,H),l.context=bE(null),f=l.current,g=rr(),g=Eg(g),x=ya(g),x.callback=null,va(f,x,g),f=g,l.current.lanes=f,cc(l,f),li(l),o[ko]=l.current,yy(o),new Qf(l)},au.version="19.1.1",au}var zE;function Hz(){if(zE)return Iy.exports;zE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Iy.exports=Uz(),Iy.exports}var qz=Hz();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $E="popstate";function Kz(e={}){function t(r,i){let{pathname:a,search:s,hash:c}=r.location;return ib("",{pathname:a,search:s,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ru(i)}return Fz(t,n,null,e)}function vt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vz(){return Math.random().toString(36).substring(2,10)}function UE(e,t){return{usr:e.state,key:e.key,idx:t}}function ib(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Kl(t):t,state:n,key:t&&t.key||r||Vz()}}function Ru({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Kl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Fz(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,c="POP",u=null,d=p();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function p(){return(s.state||{idx:null}).idx}function m(){c="POP";let S=p(),k=S==null?null:S-d;d=S,u&&u({action:c,location:w.location,delta:k})}function y(S,k){c="PUSH";let E=ib(w.location,S,k);d=p()+1;let O=UE(E,d),_=w.createHref(E);try{s.pushState(O,"",_)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(_)}a&&u&&u({action:c,location:w.location,delta:1})}function v(S,k){c="REPLACE";let E=ib(w.location,S,k);d=p();let O=UE(E,d),_=w.createHref(E);s.replaceState(O,"",_),a&&u&&u({action:c,location:w.location,delta:0})}function b(S){return Wz(S)}let w={get action(){return c},get location(){return e(i,s)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener($E,m),u=S,()=>{i.removeEventListener($E,m),u=null}},createHref(S){return t(i,S)},createURL:b,encodeLocation(S){let k=b(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:v,go(S){return s.go(S)}};return w}function Wz(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ru(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function R_(e,t,n="/"){return Gz(e,t,n,!1)}function Gz(e,t,n,r){let i=typeof t=="string"?Kl(t):t,a=Qi(i.pathname||"/",n);if(a==null)return null;let s=L_(e);Yz(s);let c=null;for(let u=0;c==null&&u<s.length;++u){let d=s$(a);c=i$(s[u],d,r)}return c}function L_(e,t=[],n=[],r="",i=!1){let a=(s,c,u=i,d)=>{let p={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;vt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=Fi([r,p.relativePath]),y=n.concat(p);s.children&&s.children.length>0&&(vt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),L_(s.children,t,y,m,u)),!(s.path==null&&!s.index)&&t.push({path:m,score:n$(m,s.index),routesMeta:y})};return e.forEach((s,c)=>{if(s.path===""||!s.path?.includes("?"))a(s,c);else for(let u of B_(s.path))a(s,c,!0,u)}),t}function B_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=B_(r.join("/")),c=[];return c.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...s),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function Yz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:r$(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Xz=/^:[\w-]+$/,Qz=3,Zz=2,Jz=1,e$=10,t$=-2,HE=e=>e==="*";function n$(e,t){let n=e.split("/"),r=n.length;return n.some(HE)&&(r+=t$),t&&(r+=Zz),n.filter(i=>!HE(i)).reduce((i,a)=>i+(Xz.test(a)?Qz:a===""?Jz:e$),r)}function r$(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function i$(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=$h({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),y=u.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=$h({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:Fi([a,m.pathname]),pathnameBase:u$(Fi([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=Fi([a,m.pathnameBase]))}return s}function $h(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=a$(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:m},y)=>{if(p==="*"){let b=c[y]||"";s=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const v=c[y];return m&&!v?d[p]=void 0:d[p]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:e}}function a$(e,t=!1,n=!0){Zr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function s$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Qi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function o$(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Kl(e):e;return{pathname:n?n.startsWith("/")?n:l$(n,t):t,search:d$(r),hash:f$(i)}}function l$(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hy(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c$(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function U1(e){let t=c$(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function H1(e,t,n,r=!1){let i;typeof e=="string"?i=Kl(e):(i={...e},vt(!i.pathname||!i.pathname.includes("?"),Hy("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),Hy("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),Hy("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,c;if(s==null)c=n;else{let m=t.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}c=m>=0?t[m]:"/"}let u=o$(i,c),d=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}var Fi=e=>e.join("/").replace(/\/\/+/g,"/"),u$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,f$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function h$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var I_=["POST","PUT","PATCH","DELETE"];new Set(I_);var p$=["GET",...I_];new Set(p$);var Vl=j.createContext(null);Vl.displayName="DataRouter";var Sm=j.createContext(null);Sm.displayName="DataRouterState";j.createContext(!1);var z_=j.createContext({isTransitioning:!1});z_.displayName="ViewTransition";var m$=j.createContext(new Map);m$.displayName="Fetchers";var g$=j.createContext(null);g$.displayName="Await";var ei=j.createContext(null);ei.displayName="Navigation";var sd=j.createContext(null);sd.displayName="Location";var ti=j.createContext({outlet:null,matches:[],isDataRoute:!1});ti.displayName="Route";var q1=j.createContext(null);q1.displayName="RouteError";function y$(e,{relative:t}={}){vt(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(ei),{hash:i,pathname:a,search:s}=od(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:Fi([n,a])),r.createHref({pathname:c,search:s,hash:i})}function Fl(){return j.useContext(sd)!=null}function xi(){return vt(Fl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(sd).location}var $_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U_(e){j.useContext(ei).static||j.useLayoutEffect(e)}function na(){let{isDataRoute:e}=j.useContext(ti);return e?_$():v$()}function v$(){vt(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Vl),{basename:t,navigator:n}=j.useContext(ei),{matches:r}=j.useContext(ti),{pathname:i}=xi(),a=JSON.stringify(U1(r)),s=j.useRef(!1);return U_(()=>{s.current=!0}),j.useCallback((u,d={})=>{if(Zr(s.current,$_),!s.current)return;if(typeof u=="number"){n.go(u);return}let p=H1(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Fi([t,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[t,n,a,i,e])}var x$=j.createContext(null);function b$(e){let t=j.useContext(ti).outlet;return t&&j.createElement(x$.Provider,{value:e},t)}function od(e,{relative:t}={}){let{matches:n}=j.useContext(ti),{pathname:r}=xi(),i=JSON.stringify(U1(n));return j.useMemo(()=>H1(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function w$(e,t){return H_(e,t)}function H_(e,t,n,r,i){vt(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(ei),{matches:s}=j.useContext(ti),c=s[s.length-1],u=c?c.params:{},d=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let E=m&&m.path||"";q_(d,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=xi(),v;if(t){let E=typeof t=="string"?Kl(t):t;vt(p==="/"||E.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=y;let b=v.pathname||"/",w=b;if(p!=="/"){let E=p.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=R_(e,{pathname:w});Zr(m||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Zr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=E$(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Fi([p,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:Fi([p,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r,i);return t&&k?j.createElement(sd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},k):k}function S$(){let e=M$(),t=h$(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:a},"ErrorBoundary")," or"," ",j.createElement("code",{style:a},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:i},n):null,s)}var N$=j.createElement(S$,null),j$=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?j.createElement(ti.Provider,{value:this.props.routeContext},j.createElement(q1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function k$({routeContext:e,match:t,children:n}){let r=j.useContext(Vl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(ti.Provider,{value:e},n)}function E$(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n?.errors;if(s!=null){let d=a.findIndex(p=>p.route.id&&s?.[p.route.id]!==void 0);vt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:m,errors:y}=n,v=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,p,m)=>{let y,v=!1,b=null,w=null;n&&(y=s&&p.route.id?s[p.route.id]:void 0,b=p.route.errorElement||N$,c&&(u<0&&m===0?(q_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):u===m&&(v=!0,w=p.route.hydrateFallbackElement||null)));let S=t.concat(a.slice(0,m+1)),k=()=>{let E;return y?E=b:v?E=w:p.route.Component?E=j.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=d,j.createElement(k$,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:E})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?j.createElement(j$,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):k()},null)}function K1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C$(e){let t=j.useContext(Vl);return vt(t,K1(e)),t}function O$(e){let t=j.useContext(Sm);return vt(t,K1(e)),t}function T$(e){let t=j.useContext(ti);return vt(t,K1(e)),t}function V1(e){let t=T$(e),n=t.matches[t.matches.length-1];return vt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function A$(){return V1("useRouteId")}function M$(){let e=j.useContext(q1),t=O$("useRouteError"),n=V1("useRouteError");return e!==void 0?e:t.errors?.[n]}function _$(){let{router:e}=C$("useNavigate"),t=V1("useNavigate"),n=j.useRef(!1);return U_(()=>{n.current=!0}),j.useCallback(async(i,a={})=>{Zr(n.current,$_),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var qE={};function q_(e,t,n){!t&&!qE[e]&&(qE[e]=!0,Zr(!1,n))}j.memo(D$);function D$({routes:e,future:t,state:n,unstable_onError:r}){return H_(e,void 0,n,r,t)}function yl({to:e,replace:t,state:n,relative:r}){vt(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=j.useContext(ei);Zr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=j.useContext(ti),{pathname:s}=xi(),c=na(),u=H1(e,U1(a),s,r==="path"),d=JSON.stringify(u);return j.useEffect(()=>{c(JSON.parse(d),{replace:t,state:n,relative:r})},[c,d,r,t,n]),null}function K_(e){return b$(e.context)}function Ft(e){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P$({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){vt(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=Kl(n));let{pathname:u="/",search:d="",hash:p="",state:m=null,key:y="default"}=n,v=j.useMemo(()=>{let b=Qi(u,s);return b==null?null:{location:{pathname:b,search:d,hash:p,state:m,key:y},navigationType:r}},[s,u,d,p,m,y,r]);return Zr(v!=null,`<Router basename="${s}"> is not able to match the URL "${u}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:j.createElement(ei.Provider,{value:c},j.createElement(sd.Provider,{children:t,value:v}))}function R$({children:e,location:t}){return w$(ab(e),t)}function ab(e,t=[]){let n=[];return j.Children.forEach(e,(r,i)=>{if(!j.isValidElement(r))return;let a=[...t,i];if(r.type===j.Fragment){n.push.apply(n,ab(r.props.children,a));return}vt(r.type===Ft,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ab(r.props.children,a)),n.push(s)}),n}var Ch="get",Oh="application/x-www-form-urlencoded";function Nm(e){return e!=null&&typeof e.tagName=="string"}function L$(e){return Nm(e)&&e.tagName.toLowerCase()==="button"}function B$(e){return Nm(e)&&e.tagName.toLowerCase()==="form"}function I$(e){return Nm(e)&&e.tagName.toLowerCase()==="input"}function z$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $$(e,t){return e.button===0&&(!t||t==="_self")&&!z$(e)}var Jf=null;function U$(){if(Jf===null)try{new FormData(document.createElement("form"),0),Jf=!1}catch{Jf=!0}return Jf}var H$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qy(e){return e!=null&&!H$.has(e)?(Zr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oh}"`),null):e}function q$(e,t){let n,r,i,a,s;if(B$(e)){let c=e.getAttribute("action");r=c?Qi(c,t):null,n=e.getAttribute("method")||Ch,i=qy(e.getAttribute("enctype"))||Oh,a=new FormData(e)}else if(L$(e)||I$(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(r=u?Qi(u,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Ch,i=qy(e.getAttribute("formenctype"))||qy(c.getAttribute("enctype"))||Oh,a=new FormData(c,e),!U$()){let{name:d,type:p,value:m}=e;if(p==="image"){let y=d?`${d}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else d&&a.append(d,m)}}else{if(Nm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ch,r=null,i=Oh,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function F1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function K$(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Qi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function V$(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function F$(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function W$(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await V$(a,n);return s.links?s.links():[]}return[]}));return Q$(r.flat(1).filter(F$).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function KE(e,t,n,r,i,a){let s=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,c=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,d)=>s(u,d)||c(u,d)):a==="data"?t.filter((u,d)=>{let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(s(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function G$(e,t,{includeHydrateFallback:n}={}){return Y$(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Y$(e){return[...new Set(e)]}function X$(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Q$(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(X$(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function V_(){let e=j.useContext(Vl);return F1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Z$(){let e=j.useContext(Sm);return F1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var W1=j.createContext(void 0);W1.displayName="FrameworkContext";function F_(){let e=j.useContext(W1);return F1(e,"You must render this element inside a <HydratedRouter> element"),e}function J$(e,t){let n=j.useContext(W1),[r,i]=j.useState(!1),[a,s]=j.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:p,onTouchStart:m}=t,y=j.useRef(null);j.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let w=k=>{k.forEach(E=>{s(E.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),j.useEffect(()=>{if(r){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[r]);let v=()=>{i(!0)},b=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,y,{}]:[a,y,{onFocus:su(c,v),onBlur:su(u,b),onMouseEnter:su(d,v),onMouseLeave:su(p,b),onTouchStart:su(m,v)}]:[!1,y,{}]}function su(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function e8({page:e,...t}){let{router:n}=V_(),r=j.useMemo(()=>R_(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?j.createElement(n8,{page:e,matches:r,...t}):null}function t8(e){let{manifest:t,routeModules:n}=F_(),[r,i]=j.useState([]);return j.useEffect(()=>{let a=!1;return W$(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function n8({page:e,matches:t,...n}){let r=xi(),{manifest:i,routeModules:a}=F_(),{basename:s}=V_(),{loaderData:c,matches:u}=Z$(),d=j.useMemo(()=>KE(e,t,u,i,r,"data"),[e,t,u,i,r]),p=j.useMemo(()=>KE(e,t,u,i,r,"assets"),[e,t,u,i,r]),m=j.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,w=!1;if(t.forEach(k=>{let E=i.routes[k.route.id];!E||!E.hasLoader||(!d.some(O=>O.route.id===k.route.id)&&k.route.id in c&&a[k.route.id]?.shouldRevalidate||E.hasClientLoader?w=!0:b.add(k.route.id))}),b.size===0)return[];let S=K$(e,s,"data");return w&&b.size>0&&S.searchParams.set("_routes",t.filter(k=>b.has(k.route.id)).map(k=>k.route.id).join(",")),[S.pathname+S.search]},[s,c,r,i,d,t,e,a]),y=j.useMemo(()=>G$(p,i),[p,i]),v=t8(p);return j.createElement(j.Fragment,null,m.map(b=>j.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),y.map(b=>j.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),v.map(({key:b,link:w})=>j.createElement("link",{key:b,nonce:n.nonce,...w})))}function r8(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var W_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W_&&(window.__reactRouterVersion="7.8.2")}catch{}function i8({basename:e,children:t,window:n}){let r=j.useRef();r.current==null&&(r.current=Kz({window:n,v5Compat:!0}));let i=r.current,[a,s]=j.useState({action:i.action,location:i.location}),c=j.useCallback(u=>{j.startTransition(()=>s(u))},[s]);return j.useLayoutEffect(()=>i.listen(c),[i,c]),j.createElement(P$,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var G_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,El=j.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:c,target:u,to:d,preventScrollReset:p,viewTransition:m,...y},v){let{basename:b}=j.useContext(ei),w=typeof d=="string"&&G_.test(d),S,k=!1;if(typeof d=="string"&&w&&(S=d,W_))try{let q=new URL(window.location.href),L=d.startsWith("//")?new URL(q.protocol+d):new URL(d),K=Qi(L.pathname,b);L.origin===q.origin&&K!=null?d=K+L.search+L.hash:k=!0}catch{Zr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=y$(d,{relative:i}),[O,_,T]=J$(r,y),M=l8(d,{replace:s,state:c,target:u,preventScrollReset:p,relative:i,viewTransition:m});function D(q){t&&t(q),q.defaultPrevented||M(q)}let B=j.createElement("a",{...y,...T,href:S||E,onClick:k||a?t:D,ref:r8(v,_),target:u,"data-discover":!w&&n==="render"?"true":void 0});return O&&!w?j.createElement(j.Fragment,null,B,j.createElement(e8,{page:E})):B});El.displayName="Link";var a8=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:c,children:u,...d},p){let m=od(s,{relative:d.relative}),y=xi(),v=j.useContext(Sm),{navigator:b,basename:w}=j.useContext(ei),S=v!=null&&h8(m)&&c===!0,k=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,E=y.pathname,O=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(E=E.toLowerCase(),O=O?O.toLowerCase():null,k=k.toLowerCase()),O&&w&&(O=Qi(O,w)||O);const _=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let T=E===k||!i&&E.startsWith(k)&&E.charAt(_)==="/",M=O!=null&&(O===k||!i&&O.startsWith(k)&&O.charAt(k.length)==="/"),D={isActive:T,isPending:M,isTransitioning:S},B=T?t:void 0,q;typeof r=="function"?q=r(D):q=[r,T?"active":null,M?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(D):a;return j.createElement(El,{...d,"aria-current":B,className:q,ref:p,style:L,to:s,viewTransition:c},typeof u=="function"?u(D):u)});a8.displayName="NavLink";var s8=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Ch,action:c,onSubmit:u,relative:d,preventScrollReset:p,viewTransition:m,...y},v)=>{let b=d8(),w=f8(c,{relative:d}),S=s.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&G_.test(c),E=O=>{if(u&&u(O),O.defaultPrevented)return;O.preventDefault();let _=O.nativeEvent.submitter,T=_?.getAttribute("formmethod")||s;b(_||O.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:i,state:a,relative:d,preventScrollReset:p,viewTransition:m})};return j.createElement("form",{ref:v,method:S,action:w,onSubmit:r?u:E,...y,"data-discover":!k&&e==="render"?"true":void 0})});s8.displayName="Form";function o8(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y_(e){let t=j.useContext(Vl);return vt(t,o8(e)),t}function l8(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let c=na(),u=xi(),d=od(e,{relative:a});return j.useCallback(p=>{if($$(p,t)){p.preventDefault();let m=n!==void 0?n:Ru(u)===Ru(d);c(e,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[u,c,d,n,r,t,e,i,a,s])}var c8=0,u8=()=>`__${String(++c8)}__`;function d8(){let{router:e}=Y_("useSubmit"),{basename:t}=j.useContext(ei),n=A$();return j.useCallback(async(r,i={})=>{let{action:a,method:s,encType:c,formData:u,body:d}=q$(r,t);if(i.navigate===!1){let p=i.fetcherKey||u8();await e.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||s,formEncType:i.encType||c,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||s,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function f8(e,{relative:t}={}){let{basename:n}=j.useContext(ei),r=j.useContext(ti);vt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...od(e||".",{relative:t})},s=xi();if(e==null){a.search=s.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Fi([n,a.pathname])),Ru(a)}function h8(e,{relative:t}={}){let n=j.useContext(z_);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Y_("useViewTransitionState"),i=od(e,{relative:t});if(!n.isTransitioning)return!1;let a=Qi(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Qi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $h(i.pathname,s)!=null||$h(i.pathname,a)!=null}var G1=P_();const p8=Jr(G1);function X_(e,t){return function(){return e.apply(t,arguments)}}const{toString:m8}=Object.prototype,{getPrototypeOf:Y1}=Object,{iterator:jm,toStringTag:Q_}=Symbol,km=(e=>t=>{const n=m8.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ni=e=>(e=e.toLowerCase(),t=>km(t)===e),Em=e=>t=>typeof t===e,{isArray:Wl}=Array,Lu=Em("undefined");function ld(e){return e!==null&&!Lu(e)&&e.constructor!==null&&!Lu(e.constructor)&&Wn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Z_=ni("ArrayBuffer");function g8(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Z_(e.buffer),t}const y8=Em("string"),Wn=Em("function"),J_=Em("number"),cd=e=>e!==null&&typeof e=="object",v8=e=>e===!0||e===!1,Th=e=>{if(km(e)!=="object")return!1;const t=Y1(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Q_ in e)&&!(jm in e)},x8=e=>{if(!cd(e)||ld(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},b8=ni("Date"),w8=ni("File"),S8=ni("Blob"),N8=ni("FileList"),j8=e=>cd(e)&&Wn(e.pipe),k8=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Wn(e.append)&&((t=km(e))==="formdata"||t==="object"&&Wn(e.toString)&&e.toString()==="[object FormData]"))},E8=ni("URLSearchParams"),[C8,O8,T8,A8]=["ReadableStream","Request","Response","Headers"].map(ni),M8=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ud(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Wl(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(ld(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let c;for(r=0;r<s;r++)c=a[r],t.call(null,e[c],c,e)}}function eD(e,t){if(ld(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Hs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tD=e=>!Lu(e)&&e!==Hs;function sb(){const{caseless:e}=tD(this)&&this||{},t={},n=(r,i)=>{const a=e&&eD(t,i)||i;Th(t[a])&&Th(r)?t[a]=sb(t[a],r):Th(r)?t[a]=sb({},r):Wl(r)?t[a]=r.slice():t[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ud(arguments[r],n);return t}const _8=(e,t,n,{allOwnKeys:r}={})=>(ud(t,(i,a)=>{n&&Wn(i)?e[a]=X_(i,n):e[a]=i},{allOwnKeys:r}),e),D8=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),P8=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},R8=(e,t,n,r)=>{let i,a,s;const c={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,t))&&!c[s]&&(t[s]=e[s],c[s]=!0);e=n!==!1&&Y1(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},L8=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},B8=e=>{if(!e)return null;if(Wl(e))return e;let t=e.length;if(!J_(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},I8=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Y1(Uint8Array)),z8=(e,t)=>{const r=(e&&e[jm]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},$8=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},U8=ni("HTMLFormElement"),H8=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),VE=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),q8=ni("RegExp"),nD=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ud(n,(i,a)=>{let s;(s=t(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},K8=e=>{nD(e,(t,n)=>{if(Wn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Wn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},V8=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Wl(e)?r(e):r(String(e).split(t)),n},F8=()=>{},W8=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function G8(e){return!!(e&&Wn(e.append)&&e[Q_]==="FormData"&&e[jm])}const Y8=e=>{const t=new Array(10),n=(r,i)=>{if(cd(r)){if(t.indexOf(r)>=0)return;if(ld(r))return r;if(!("toJSON"in r)){t[i]=r;const a=Wl(r)?[]:{};return ud(r,(s,c)=>{const u=n(s,i+1);!Lu(u)&&(a[c]=u)}),t[i]=void 0,a}}return r};return n(e,0)},X8=ni("AsyncFunction"),Q8=e=>e&&(cd(e)||Wn(e))&&Wn(e.then)&&Wn(e.catch),rD=((e,t)=>e?setImmediate:t?((n,r)=>(Hs.addEventListener("message",({source:i,data:a})=>{i===Hs&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Hs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Wn(Hs.postMessage)),Z8=typeof queueMicrotask<"u"?queueMicrotask.bind(Hs):typeof process<"u"&&process.nextTick||rD,J8=e=>e!=null&&Wn(e[jm]),Y={isArray:Wl,isArrayBuffer:Z_,isBuffer:ld,isFormData:k8,isArrayBufferView:g8,isString:y8,isNumber:J_,isBoolean:v8,isObject:cd,isPlainObject:Th,isEmptyObject:x8,isReadableStream:C8,isRequest:O8,isResponse:T8,isHeaders:A8,isUndefined:Lu,isDate:b8,isFile:w8,isBlob:S8,isRegExp:q8,isFunction:Wn,isStream:j8,isURLSearchParams:E8,isTypedArray:I8,isFileList:N8,forEach:ud,merge:sb,extend:_8,trim:M8,stripBOM:D8,inherits:P8,toFlatObject:R8,kindOf:km,kindOfTest:ni,endsWith:L8,toArray:B8,forEachEntry:z8,matchAll:$8,isHTMLForm:U8,hasOwnProperty:VE,hasOwnProp:VE,reduceDescriptors:nD,freezeMethods:K8,toObjectSet:V8,toCamelCase:H8,noop:F8,toFiniteNumber:W8,findKey:eD,global:Hs,isContextDefined:tD,isSpecCompliantForm:G8,toJSONObject:Y8,isAsyncFn:X8,isThenable:Q8,setImmediate:rD,asap:Z8,isIterable:J8};function Be(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Y.inherits(Be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const iD=Be.prototype,aD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{aD[e]={value:e}});Object.defineProperties(Be,aD);Object.defineProperty(iD,"isAxiosError",{value:!0});Be.from=(e,t,n,r,i,a)=>{const s=Object.create(iD);return Y.toFlatObject(e,s,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),Be.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const e7=null;function ob(e){return Y.isPlainObject(e)||Y.isArray(e)}function sD(e){return Y.endsWith(e,"[]")?e.slice(0,-2):e}function FE(e,t,n){return e?e.concat(t).map(function(i,a){return i=sD(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function t7(e){return Y.isArray(e)&&!e.some(ob)}const n7=Y.toFlatObject(Y,{},null,function(t){return/^is[A-Z]/.test(t)});function Cm(e,t,n){if(!Y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!Y.isUndefined(S[w])});const r=n.metaTokens,i=n.visitor||p,a=n.dots,s=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(i))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(Y.isDate(b))return b.toISOString();if(Y.isBoolean(b))return b.toString();if(!u&&Y.isBlob(b))throw new Be("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(b)||Y.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function p(b,w,S){let k=b;if(b&&!S&&typeof b=="object"){if(Y.endsWith(w,"{}"))w=r?w:w.slice(0,-2),b=JSON.stringify(b);else if(Y.isArray(b)&&t7(b)||(Y.isFileList(b)||Y.endsWith(w,"[]"))&&(k=Y.toArray(b)))return w=sD(w),k.forEach(function(O,_){!(Y.isUndefined(O)||O===null)&&t.append(s===!0?FE([w],_,a):s===null?w:w+"[]",d(O))}),!1}return ob(b)?!0:(t.append(FE(S,w,a),d(b)),!1)}const m=[],y=Object.assign(n7,{defaultVisitor:p,convertValue:d,isVisitable:ob});function v(b,w){if(!Y.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(b),Y.forEach(b,function(k,E){(!(Y.isUndefined(k)||k===null)&&i.call(t,k,Y.isString(E)?E.trim():E,w,y))===!0&&v(k,w?w.concat(E):[E])}),m.pop()}}if(!Y.isObject(e))throw new TypeError("data must be an object");return v(e),t}function WE(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function X1(e,t){this._pairs=[],e&&Cm(e,this,t)}const oD=X1.prototype;oD.append=function(t,n){this._pairs.push([t,n])};oD.toString=function(t){const n=t?function(r){return t.call(this,r,WE)}:WE;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function r7(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lD(e,t,n){if(!t)return e;const r=n&&n.encode||r7;Y.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=Y.isURLSearchParams(t)?t.toString():new X1(t,n).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class GE{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Y.forEach(this.handlers,function(r){r!==null&&t(r)})}}const cD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},i7=typeof URLSearchParams<"u"?URLSearchParams:X1,a7=typeof FormData<"u"?FormData:null,s7=typeof Blob<"u"?Blob:null,o7={isBrowser:!0,classes:{URLSearchParams:i7,FormData:a7,Blob:s7},protocols:["http","https","file","blob","url","data"]},Q1=typeof window<"u"&&typeof document<"u",lb=typeof navigator=="object"&&navigator||void 0,l7=Q1&&(!lb||["ReactNative","NativeScript","NS"].indexOf(lb.product)<0),c7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",u7=Q1&&window.location.href||"http://localhost",d7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Q1,hasStandardBrowserEnv:l7,hasStandardBrowserWebWorkerEnv:c7,navigator:lb,origin:u7},Symbol.toStringTag,{value:"Module"})),jn={...d7,...o7};function f7(e,t){return Cm(e,new jn.classes.URLSearchParams,{visitor:function(n,r,i,a){return jn.isNode&&Y.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function h7(e){return Y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function p7(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function uD(e){function t(n,r,i,a){let s=n[a++];if(s==="__proto__")return!0;const c=Number.isFinite(+s),u=a>=n.length;return s=!s&&Y.isArray(i)?i.length:s,u?(Y.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!c):((!i[s]||!Y.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],a)&&Y.isArray(i[s])&&(i[s]=p7(i[s])),!c)}if(Y.isFormData(e)&&Y.isFunction(e.entries)){const n={};return Y.forEachEntry(e,(r,i)=>{t(h7(r),i,n,0)}),n}return null}function m7(e,t,n){if(Y.isString(e))try{return(t||JSON.parse)(e),Y.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const dd={transitional:cD,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=Y.isObject(t);if(a&&Y.isHTMLForm(t)&&(t=new FormData(t)),Y.isFormData(t))return i?JSON.stringify(uD(t)):t;if(Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t)||Y.isReadableStream(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return f7(t,this.formSerializer).toString();if((c=Y.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Cm(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),m7(t)):t}],transformResponse:[function(t){const n=this.transitional||dd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Y.isResponse(t)||Y.isReadableStream(t))return t;if(t&&Y.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(c){if(s)throw c.name==="SyntaxError"?Be.from(c,Be.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jn.classes.FormData,Blob:jn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],e=>{dd.headers[e]={}});const g7=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),y7=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&g7[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},YE=Symbol("internals");function ou(e){return e&&String(e).trim().toLowerCase()}function Ah(e){return e===!1||e==null?e:Y.isArray(e)?e.map(Ah):String(e)}function v7(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const x7=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ky(e,t,n,r,i){if(Y.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!Y.isString(t)){if(Y.isString(r))return t.indexOf(r)!==-1;if(Y.isRegExp(r))return r.test(t)}}function b7(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function w7(e,t){const n=Y.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,s){return this[r].call(this,t,i,a,s)},configurable:!0})})}let Gn=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(c,u,d){const p=ou(u);if(!p)throw new Error("header name must be a non-empty string");const m=Y.findKey(i,p);(!m||i[m]===void 0||d===!0||d===void 0&&i[m]!==!1)&&(i[m||u]=Ah(c))}const s=(c,u)=>Y.forEach(c,(d,p)=>a(d,p,u));if(Y.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(Y.isString(t)&&(t=t.trim())&&!x7(t))s(y7(t),n);else if(Y.isObject(t)&&Y.isIterable(t)){let c={},u,d;for(const p of t){if(!Y.isArray(p))throw TypeError("Object iterator must return a key-value pair");c[d=p[0]]=(u=c[d])?Y.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}s(c,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=ou(t),t){const r=Y.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return v7(i);if(Y.isFunction(n))return n.call(this,i,r);if(Y.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ou(t),t){const r=Y.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Ky(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(s){if(s=ou(s),s){const c=Y.findKey(r,s);c&&(!n||Ky(r,r[c],c,n))&&(delete r[c],i=!0)}}return Y.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||Ky(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return Y.forEach(this,(i,a)=>{const s=Y.findKey(r,a);if(s){n[s]=Ah(i),delete n[a];return}const c=t?b7(a):String(a).trim();c!==a&&delete n[a],n[c]=Ah(i),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Y.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&Y.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[YE]=this[YE]={accessors:{}}).accessors,i=this.prototype;function a(s){const c=ou(s);r[c]||(w7(i,s),r[c]=!0)}return Y.isArray(t)?t.forEach(a):a(t),this}};Gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(Gn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Y.freezeMethods(Gn);function Vy(e,t){const n=this||dd,r=t||n,i=Gn.from(r.headers);let a=r.data;return Y.forEach(e,function(c){a=c.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function dD(e){return!!(e&&e.__CANCEL__)}function Gl(e,t,n){Be.call(this,e??"canceled",Be.ERR_CANCELED,t,n),this.name="CanceledError"}Y.inherits(Gl,Be,{__CANCEL__:!0});function fD(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Be("Request failed with status code "+n.status,[Be.ERR_BAD_REQUEST,Be.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function S7(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function N7(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,s;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),p=r[a];s||(s=d),n[i]=u,r[i]=d;let m=a,y=0;for(;m!==i;)y+=n[m++],m=m%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-s<t)return;const v=p&&d-p;return v?Math.round(y*1e3/v):void 0}}function j7(e,t){let n=0,r=1e3/t,i,a;const s=(d,p=Date.now())=>{n=p,i=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const p=Date.now(),m=p-n;m>=r?s(d,p):(i=d,a||(a=setTimeout(()=>{a=null,s(i)},r-m)))},()=>i&&s(i)]}const Uh=(e,t,n=3)=>{let r=0;const i=N7(50,250);return j7(a=>{const s=a.loaded,c=a.lengthComputable?a.total:void 0,u=s-r,d=i(u),p=s<=c;r=s;const m={loaded:s,total:c,progress:c?s/c:void 0,bytes:u,rate:d||void 0,estimated:d&&c&&p?(c-s)/d:void 0,event:a,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(m)},n)},XE=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},QE=e=>(...t)=>Y.asap(()=>e(...t)),k7=jn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,jn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(jn.origin),jn.navigator&&/(msie|trident)/i.test(jn.navigator.userAgent)):()=>!0,E7=jn.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const s=[e+"="+encodeURIComponent(t)];Y.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Y.isString(r)&&s.push("path="+r),Y.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function C7(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function O7(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hD(e,t,n){let r=!C7(t);return e&&(r||n==!1)?O7(e,t):t}const ZE=e=>e instanceof Gn?{...e}:e;function oo(e,t){t=t||{};const n={};function r(d,p,m,y){return Y.isPlainObject(d)&&Y.isPlainObject(p)?Y.merge.call({caseless:y},d,p):Y.isPlainObject(p)?Y.merge({},p):Y.isArray(p)?p.slice():p}function i(d,p,m,y){if(Y.isUndefined(p)){if(!Y.isUndefined(d))return r(void 0,d,m,y)}else return r(d,p,m,y)}function a(d,p){if(!Y.isUndefined(p))return r(void 0,p)}function s(d,p){if(Y.isUndefined(p)){if(!Y.isUndefined(d))return r(void 0,d)}else return r(void 0,p)}function c(d,p,m){if(m in t)return r(d,p);if(m in e)return r(void 0,d)}const u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c,headers:(d,p,m)=>i(ZE(d),ZE(p),m,!0)};return Y.forEach(Object.keys({...e,...t}),function(p){const m=u[p]||i,y=m(e[p],t[p],p);Y.isUndefined(y)&&m!==c||(n[p]=y)}),n}const pD=e=>{const t=oo({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:c}=t;t.headers=s=Gn.from(s),t.url=lD(hD(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(Y.isFormData(n)){if(jn.hasStandardBrowserEnv||jn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((u=s.getContentType())!==!1){const[d,...p]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...p].join("; "))}}if(jn.hasStandardBrowserEnv&&(r&&Y.isFunction(r)&&(r=r(t)),r||r!==!1&&k7(t.url))){const d=i&&a&&E7.read(a);d&&s.set(i,d)}return t},T7=typeof XMLHttpRequest<"u",A7=T7&&function(e){return new Promise(function(n,r){const i=pD(e);let a=i.data;const s=Gn.from(i.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:d}=i,p,m,y,v,b;function w(){v&&v(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function k(){if(!S)return;const O=Gn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),T={data:!c||c==="text"||c==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:O,config:e,request:S};fD(function(D){n(D),w()},function(D){r(D),w()},T),S=null}"onloadend"in S?S.onloadend=k:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(k)},S.onabort=function(){S&&(r(new Be("Request aborted",Be.ECONNABORTED,e,S)),S=null)},S.onerror=function(){r(new Be("Network Error",Be.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||cD;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),r(new Be(_,T.clarifyTimeoutError?Be.ETIMEDOUT:Be.ECONNABORTED,e,S)),S=null},a===void 0&&s.setContentType(null),"setRequestHeader"in S&&Y.forEach(s.toJSON(),function(_,T){S.setRequestHeader(T,_)}),Y.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),c&&c!=="json"&&(S.responseType=i.responseType),d&&([y,b]=Uh(d,!0),S.addEventListener("progress",y)),u&&S.upload&&([m,v]=Uh(u),S.upload.addEventListener("progress",m),S.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(p=O=>{S&&(r(!O||O.type?new Gl(null,e,S):O),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const E=S7(i.url);if(E&&jn.protocols.indexOf(E)===-1){r(new Be("Unsupported protocol "+E+":",Be.ERR_BAD_REQUEST,e));return}S.send(a||null)})},M7=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const a=function(d){if(!i){i=!0,c();const p=d instanceof Error?d:this.reason;r.abort(p instanceof Be?p:new Gl(p instanceof Error?p.message:p))}};let s=t&&setTimeout(()=>{s=null,a(new Be(`timeout ${t} of ms exceeded`,Be.ETIMEDOUT))},t);const c=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>Y.asap(c),u}},_7=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},D7=async function*(e,t){for await(const n of P7(e))yield*_7(n,t)},P7=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},JE=(e,t,n,r)=>{const i=D7(e,t);let a=0,s,c=u=>{s||(s=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:p}=await i.next();if(d){c(),u.close();return}let m=p.byteLength;if(n){let y=a+=m;n(y)}u.enqueue(new Uint8Array(p))}catch(d){throw c(d),d}},cancel(u){return c(u),i.return()}},{highWaterMark:2})},Om=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mD=Om&&typeof ReadableStream=="function",R7=Om&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),gD=(e,...t)=>{try{return!!e(...t)}catch{return!1}},L7=mD&&gD(()=>{let e=!1;const t=new Request(jn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),eC=64*1024,cb=mD&&gD(()=>Y.isReadableStream(new Response("").body)),Hh={stream:cb&&(e=>e.body)};Om&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Hh[t]&&(Hh[t]=Y.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Be(`Response type '${t}' is not supported`,Be.ERR_NOT_SUPPORT,r)})})})(new Response);const B7=async e=>{if(e==null)return 0;if(Y.isBlob(e))return e.size;if(Y.isSpecCompliantForm(e))return(await new Request(jn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(e)||Y.isArrayBuffer(e))return e.byteLength;if(Y.isURLSearchParams(e)&&(e=e+""),Y.isString(e))return(await R7(e)).byteLength},I7=async(e,t)=>{const n=Y.toFiniteNumber(e.getContentLength());return n??B7(t)},z7=Om&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:c,onUploadProgress:u,responseType:d,headers:p,withCredentials:m="same-origin",fetchOptions:y}=pD(e);d=d?(d+"").toLowerCase():"text";let v=M7([i,a&&a.toAbortSignal()],s),b;const w=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let S;try{if(u&&L7&&n!=="get"&&n!=="head"&&(S=await I7(p,r))!==0){let T=new Request(t,{method:"POST",body:r,duplex:"half"}),M;if(Y.isFormData(r)&&(M=T.headers.get("content-type"))&&p.setContentType(M),T.body){const[D,B]=XE(S,Uh(QE(u)));r=JE(T.body,eC,D,B)}}Y.isString(m)||(m=m?"include":"omit");const k="credentials"in Request.prototype;b=new Request(t,{...y,signal:v,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:k?m:void 0});let E=await fetch(b,y);const O=cb&&(d==="stream"||d==="response");if(cb&&(c||O&&w)){const T={};["status","statusText","headers"].forEach(q=>{T[q]=E[q]});const M=Y.toFiniteNumber(E.headers.get("content-length")),[D,B]=c&&XE(M,Uh(QE(c),!0))||[];E=new Response(JE(E.body,eC,D,()=>{B&&B(),w&&w()}),T)}d=d||"text";let _=await Hh[Y.findKey(Hh,d)||"text"](E,e);return!O&&w&&w(),await new Promise((T,M)=>{fD(T,M,{data:_,headers:Gn.from(E.headers),status:E.status,statusText:E.statusText,config:e,request:b})})}catch(k){throw w&&w(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new Be("Network Error",Be.ERR_NETWORK,e,b),{cause:k.cause||k}):Be.from(k,k&&k.code,e,b)}}),ub={http:e7,xhr:A7,fetch:z7};Y.forEach(ub,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const tC=e=>`- ${e}`,$7=e=>Y.isFunction(e)||e===null||e===!1,yD={getAdapter:e=>{e=Y.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){n=e[a];let s;if(r=n,!$7(n)&&(r=ub[(s=String(n)).toLowerCase()],r===void 0))throw new Be(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=t?a.length>1?`since :
`+a.map(tC).join(`
`):" "+tC(a[0]):"as no adapter specified";throw new Be("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:ub};function Fy(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gl(null,e)}function nC(e){return Fy(e),e.headers=Gn.from(e.headers),e.data=Vy.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),yD.getAdapter(e.adapter||dd.adapter)(e).then(function(r){return Fy(e),r.data=Vy.call(e,e.transformResponse,r),r.headers=Gn.from(r.headers),r},function(r){return dD(r)||(Fy(e),r&&r.response&&(r.response.data=Vy.call(e,e.transformResponse,r.response),r.response.headers=Gn.from(r.response.headers))),Promise.reject(r)})}const vD="1.11.0",Tm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Tm[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const rC={};Tm.transitional=function(t,n,r){function i(a,s){return"[Axios v"+vD+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,c)=>{if(t===!1)throw new Be(i(s," has been removed"+(n?" in "+n:"")),Be.ERR_DEPRECATED);return n&&!rC[s]&&(rC[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,s,c):!0}};Tm.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function U7(e,t,n){if(typeof e!="object")throw new Be("options must be an object",Be.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=t[a];if(s){const c=e[a],u=c===void 0||s(c,a,e);if(u!==!0)throw new Be("option "+a+" must be "+u,Be.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Be("Unknown option "+a,Be.ERR_BAD_OPTION)}}const Mh={assertOptions:U7,validators:Tm},ci=Mh.validators;let Xs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new GE,response:new GE}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=oo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&Mh.assertOptions(r,{silentJSONParsing:ci.transitional(ci.boolean),forcedJSONParsing:ci.transitional(ci.boolean),clarifyTimeoutError:ci.transitional(ci.boolean)},!1),i!=null&&(Y.isFunction(i)?n.paramsSerializer={serialize:i}:Mh.assertOptions(i,{encode:ci.function,serialize:ci.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Mh.assertOptions(n,{baseUrl:ci.spelling("baseURL"),withXsrfToken:ci.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&Y.merge(a.common,a[n.method]);a&&Y.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),n.headers=Gn.concat(s,a);const c=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(u=u&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let p,m=0,y;if(!u){const b=[nC.bind(this),void 0];for(b.unshift(...c),b.push(...d),y=b.length,p=Promise.resolve(n);m<y;)p=p.then(b[m++],b[m++]);return p}y=c.length;let v=n;for(m=0;m<y;){const b=c[m++],w=c[m++];try{v=b(v)}catch(S){w.call(this,S);break}}try{p=nC.call(this,v)}catch(b){return Promise.reject(b)}for(m=0,y=d.length;m<y;)p=p.then(d[m++],d[m++]);return p}getUri(t){t=oo(this.defaults,t);const n=hD(t.baseURL,t.url,t.allowAbsoluteUrls);return lD(n,t.params,t.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(t){Xs.prototype[t]=function(n,r){return this.request(oo(r||{},{method:t,url:n,data:(r||{}).data}))}});Y.forEach(["post","put","patch"],function(t){function n(r){return function(a,s,c){return this.request(oo(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Xs.prototype[t]=n(),Xs.prototype[t+"Form"]=n(!0)});let H7=class xD{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(c=>{r.subscribe(c),a=c}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},t(function(a,s,c){r.reason||(r.reason=new Gl(a,s,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new xD(function(i){t=i}),cancel:t}}};function q7(e){return function(n){return e.apply(null,n)}}function K7(e){return Y.isObject(e)&&e.isAxiosError===!0}const db={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(db).forEach(([e,t])=>{db[t]=e});function bD(e){const t=new Xs(e),n=X_(Xs.prototype.request,t);return Y.extend(n,Xs.prototype,t,{allOwnKeys:!0}),Y.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return bD(oo(e,i))},n}const xt=bD(dd);xt.Axios=Xs;xt.CanceledError=Gl;xt.CancelToken=H7;xt.isCancel=dD;xt.VERSION=vD;xt.toFormData=Cm;xt.AxiosError=Be;xt.Cancel=xt.CanceledError;xt.all=function(t){return Promise.all(t)};xt.spread=q7;xt.isAxiosError=K7;xt.mergeConfig=oo;xt.AxiosHeaders=Gn;xt.formToJSON=e=>uD(Y.isHTMLForm(e)?new FormData(e):e);xt.getAdapter=yD.getAdapter;xt.HttpStatusCode=db;xt.default=xt;const{Axios:ape,AxiosError:spe,CanceledError:ope,isCancel:lpe,CancelToken:cpe,VERSION:upe,all:dpe,Cancel:fpe,isAxiosError:hpe,spread:ppe,toFormData:mpe,AxiosHeaders:gpe,HttpStatusCode:ype,formToJSON:vpe,getAdapter:xpe,mergeConfig:bpe}=xt,V7="https://chatbot1022be.hasontech.com",Re=xt.create({baseURL:V7,withCredentials:!0});Re.interceptors.response.use(e=>e.data,e=>Promise.reject(e.response?.data||e));const wD=j.createContext(),F7=({children:e})=>{const[t,n]=j.useState(null),[r,i]=j.useState(!0),[a,s]=j.useState(null),c=async()=>{try{const p=await Re.get("/users/me",{withCredentials:!0});n(p)}catch{n(null)}finally{i(!1)}};j.useEffect(()=>{c()},[]);const u=async(p,m)=>{try{const y=await Re.post("/users/login",{username:p,password:m},{withCredentials:!0});return await c(),y.user}catch(y){throw y}},d=async()=>{i(!0),s(null);try{await Re.post("/users/logout",{},{withCredentials:!0}),n(null)}catch(p){throw s(p.response?.data||p.message),p}finally{i(!1)}};return h.jsx(wD.Provider,{value:{user:t,setUser:n,login:u,loading:r,error:a,fetchUser:c,handleLogout:d},children:e})},ra=()=>j.useContext(wD);function W7(){const e=na(),{login:t,user:n}=ra(),[r,i]=j.useState({username:"",password:""}),[a,s]=j.useState(""),[c,u]=j.useState(!1),d=m=>{const{name:y,value:v}=m.target;i(b=>({...b,[y]:v}))},p=async m=>{m.preventDefault(),u(!0);try{const y=await t(r.username,r.password);if(y.error){s(y.error),u(!1);return}s(""),alert("Login thành công"),e("/")}catch{s("Đăng nhập thất bại, vui lòng kiểm tra lại thông tin")}finally{u(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200 text-center",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mx-auto mb-3",children:h.jsx("span",{className:"text-white text-xl",children:"🔐"})}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Đăng nhập"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Truy cập vào hệ thống quản lý"})]}),h.jsxs("div",{className:"p-6 space-y-4",children:[a&&h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg text-sm",children:a}),h.jsxs("form",{onSubmit:p,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Tên đăng nhập"}),h.jsx("input",{type:"text",name:"username",value:r.username,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Nhập tên đăng nhập",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Mật khẩu"}),h.jsx("input",{type:"password",name:"password",value:r.password,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Nhập mật khẩu",required:!0})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),h.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Ghi nhớ đăng nhập"})]}),h.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Quên mật khẩu?"})]}),h.jsxs("div",{className:"text-xs text-gray-600 leading-relaxed text-center",children:[h.jsx("a",{href:"https://a2alab.vn/terms/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Thoả thuận sử dụng"})," ","|"," ",h.jsx("a",{href:"https://a2alab.vn/privacy-policy/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Chính sách bảo mật"})]}),h.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),h.jsx("span",{children:"Đang đăng nhập..."})]}):"Đăng nhập"})]}),h.jsx("div",{className:"text-center pt-4 border-t border-gray-200",children:h.jsxs("p",{className:"text-sm text-gray-600",children:["Chưa có tài khoản?"," ",h.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Liên hệ quản trị viên"})]})})]})]}),h.jsx("div",{className:"text-center mt-6",children:h.jsx("p",{className:"text-xs text-gray-500",children:"© 2024 Hệ thống quản lý Chat AI"})})]})})}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y7=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),iC=e=>{const t=Y7(e);return t.charAt(0).toUpperCase()+t.slice(1)},SD=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),X7=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...c},u)=>j.createElement("svg",{ref:u,...Q7,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:SD("lucide",i),...!a&&!X7(c)&&{"aria-hidden":"true"},...c},[...s.map(([d,p])=>j.createElement(d,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(e,t)=>{const n=j.forwardRef(({className:r,...i},a)=>j.createElement(Z7,{ref:a,iconNode:t,className:SD(`lucide-${G7(iC(e))}`,`lucide-${e}`,r),...i}));return n.displayName=iC(e),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],eU=Ne("arrow-down",J7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],nU=Ne("arrow-left",tU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],iU=Ne("arrow-up",rU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],fd=Ne("bell",aU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M12 13h.01",key:"y0uutt"}],["path",{d:"M12 6v3",key:"1m4b9j"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],oU=Ne("book-alert",sU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Wy=Ne("book-open",lU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]],uU=Ne("book-user",cU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Br=Ne("bot",dU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],ND=Ne("building",fU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pU=Ne("calendar",hU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],gU=Ne("chart-bar",mU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],vU=Ne("chart-column",yU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],qh=Ne("check",xU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],aC=Ne("chevron-down",bU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],SU=Ne("circle-alert",wU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jU=Ne("circle-check-big",NU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],EU=Ne("clock",kU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],fb=Ne("code",CU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],TU=Ne("copy",OU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],MU=Ne("crown",AU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],DU=Ne("database",_U);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],RU=Ne("ellipsis-vertical",PU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],BU=Ne("eye-off",LU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Am=Ne("eye",IU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],jD=Ne("facebook",zU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],sC=Ne("file-spreadsheet",$U);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Bu=Ne("file-text",UU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kD=Ne("globe",HU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ED=Ne("house",qU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],VU=Ne("image",KU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],WU=Ne("info",FU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Qs=Ne("key",GU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],oC=Ne("loader-circle",YU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],QU=Ne("lock",XU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],CD=Ne("log-out",ZU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Z1=Ne("menu",JU);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Cl=Ne("message-circle",e9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],qa=Ne("message-square",t9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],r9=Ne("package",n9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],a9=Ne("pen-line",i9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],o9=Ne("pen",s9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],c9=Ne("phone",l9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kh=Ne("plus",u9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],OD=Ne("rotate-ccw",d9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],h9=Ne("save",f9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Mm=Ne("search",p9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],TD=Ne("send",m9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hd=Ne("settings",g9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],AD=Ne("square-pen",y9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],MD=Ne("star",v9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Vh=Ne("tag",x9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],J1=Ne("trash-2",b9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Fh=Ne("upload",w9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],N9=Ne("user-check",S9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],_D=Ne("user-round",j9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bl=Ne("user",k9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wh=Ne("users",E9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],On=Ne("x",C9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],DD=Ne("zap",O9),PD=async()=>{try{const e=await Re.get("/users/");return console.log(e),e}catch(e){throw e}},T9=async e=>{try{const t=await Re.post("/users/",e);return console.log(t),t}catch(t){throw t}},RD=async(e,t)=>await Re.put(`/users/${e}`,t),A9=async(e,t)=>{try{return(await Re.put(`/llms/${e}`,t)).llm}catch(n){throw n}},LD=async e=>{try{return Re.get(`/llms/${e}`)}catch(t){throw t}},M9=async()=>{try{return Re.get("/llms/")}catch(e){throw e}};let $i,Ka;const BD="wss://chatbot1022be.hasontech.com",ID=e=>{if($i)return;const t=localStorage.getItem("chatSessionId");$i=new WebSocket(`${BD}/chat/ws/customer?sessionId=${t}`),$i.onopen=()=>{console.log("Customer WebSocket connected")},$i.onmessage=n=>{const r=JSON.parse(n.data);console.log("Customer nhận tin nhắn:",r),e(r)},$i.onclose=()=>{console.log("Customer WebSocket disconnected"),$i=null}},zD=e=>(Ka=new WebSocket(`${BD}/chat/ws/admin`),Ka.onopen=()=>{console.log("Admin WebSocket connected")},Ka.onmessage=t=>{const n=JSON.parse(t.data);console.log("Admin nhận tin nhắn:",n),e&&e(n)},Ka.onclose=()=>{console.log("Admin WebSocket disconnected")},Ka),ew=(e,t,n,r=!1,i=null)=>{const a=r?Ka:$i;a&&a.readyState===WebSocket.OPEN&&(console.log(e),a.send(JSON.stringify({chat_session_id:e,sender_type:t,content:n,image:i||null})),console.log("đã gửi xong"))},$D=()=>{$i&&$i.close()},UD=()=>{Ka&&Ka.close()},HD=async()=>{try{let e=localStorage.getItem("chatSessionId");return e?(e=(await Re.get(`/chat/session/${e}`)).id,localStorage.setItem("chatSessionId",e),console.log("Gỡ session cũ")):(e=(await Re.post("/chat/session")).id,localStorage.setItem("chatSessionId",e)),e}catch(e){throw console.error("Error creating chat session:",e),e}},Gh=async(e,t=1,n=10)=>{try{return await Re.get(`/chat/history/${e}?page=${t}&limit=${n}`)}catch(r){throw console.error("Error getting chat history:",r),r}},qD=async()=>{try{return await Re.get("/chat/admin/count_by_channel")}catch(e){throw console.error("Error fetching message count by channel:",e),e}},tw=async()=>{try{return await Re.get("/chat/admin/history")}catch(e){throw console.error("Error creating chat session:",e),e}},KD=async(e,t)=>{try{return await Re.patch(`/chat/${e}`,t)}catch(n){throw n}},VD=async(e,t)=>{try{return await Re.patch(`/chat/tag/${e}`,t)}catch(n){throw n}},_9=async e=>{try{return await Re.delete("/chat/chat_sessions",{data:{ids:e}})}catch(t){throw t}},FD=async(e,t)=>{try{return await Re.delete(`/chat/messages/${t}`,{data:{ids:e}})}catch(n){throw n}},D9=async(e,t)=>{try{return await Re.put(`/chat/alert/${e}`,{alert:t?"true":"false"})}catch(n){throw console.error("Error updating alert status:",n),n}},hb=Object.freeze(Object.defineProperty({__proto__:null,checkSession:HD,connectAdminSocket:zD,connectCustomerSocket:ID,count_message_by_channel:qD,deleteMess:FD,deleteSessionChat:_9,disconnectAdmin:UD,disconnectCustomer:$D,getAllChatHistory:tw,getChatHistory:Gh,sendMessage:ew,updateAlertStatus:D9,updateStatus:KD,updateTag:VD},Symbol.toStringTag,{value:"Module"})),WD=async()=>{try{return await Re.get("/knowledge-base/")}catch(e){throw e}},P9=async e=>{try{return await Re.post("/knowledge-base/rich-text",e)}catch(t){throw t}},R9=async e=>{try{return await Re.post("/knowledge-base/upload-files",e,{headers:{"Content-Type":"multipart/form-data"}})}catch(t){throw t}},L9=async(e,t)=>{try{return await Re.put(`/knowledge-base/rich-text/${e}`,t)}catch(n){throw n}},B9=async(e,t)=>{try{return await Re.patch(`/knowledge-base/update-files/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}})}catch(n){throw n}},I9=async e=>{try{return await Re.delete(`/knowledge-base/detail/${e}`)}catch(t){throw t}},z9=async(e,t)=>{try{return(await Re.post(`/knowledge-base/rich-text/${e}`,t)).data}catch(n){throw n}},$9=()=>{const[e,t]=j.useState([]),[n,r]=j.useState(),[i,a]=j.useState(),[s,c]=j.useState(),[u,d]=j.useState(!0);j.useEffect(()=>{(async()=>{d(!0);const[D,B,q,L]=await Promise.all([PD(),LD(1),WD(),tw()]);t(D),r(B),a(q),c(L),d(!1)})()},[]);const p=n?.key&&n?.name&&n?.system_greeting,m=i?.source&&i?.content&&i?.title,y=na(),v=[{title:"Chat Trực Tiếp Với Khách Hàng",subtitle:"Kết nối ngay với khách hàng",description:"Trò chuyện trực tiếp với khách hàng đang online",icon:h.jsx(qa,{className:"w-8 h-8 text-white"}),bgGradient:"bg-blue-500",path:"/admin/chat",badge:"HOT",badgeColor:"bg-red-500"},{title:"Gửi tin nhắn tới các khách hàng",subtitle:"Tin nhắn thông báo tới khách hàng",description:"Bot AI thông minh phục vụ khách hàng mọi lúc",icon:h.jsx(Br,{className:"w-8 h-8 text-white"}),bgGradient:"bg-blue-500",path:"/dashboard/send-messages",badge:"NEW",badgeColor:"bg-green-500"},{title:"Xem thông tin khách hàng",subtitle:"Thông tin khách hàng đăng ký tư vấn",description:"Trò chuyện trực tiếp với khách hàng đang online",icon:h.jsx(_D,{className:"w-8 h-8 text-white"}),bgGradient:"bg-blue-500",path:"/dashboard/export",badge:"HOT",badgeColor:"bg-red-500"}],b=[p?{title:"Cấu hình chatbot",subtitle:"Chatbot",status:"Đã cấu hình",statusColor:"text-green-600",icon:h.jsx(Br,{className:"w-6 h-6 text-green-600"}),bgColor:"bg-green-50",borderColor:"border-green-200",path:"/dashboard/cau-hinh-he-thong",cardStatus:"Cấu hình hoàn tất và đang hoạt động"}:{title:"Cấu hình chatbot",subtitle:"Chưa hoàn thành",status:"Chưa hoàn thành",statusColor:"text-red-600",icon:h.jsx(Br,{className:"w-6 h-6 text-red-600"}),bgColor:"bg-red-50",borderColor:"border-red-200",path:"/dashboard/cau-hinh-he-thong",cardStatus:"Cấu hình chưa hoàn tất"},m?{title:"Dữ liệu tư vấn",subtitle:"Google Sheets",status:"Đã cấu hình",statusColor:"text-green-600",icon:h.jsx(sC,{className:"w-6 h-6 text-green-600"}),bgColor:"bg-green-50",borderColor:"border-green-200",path:"/dashboard/cau-hinh-kien-thuc",cardStatus:"Cấu hình hoàn tất và đang hoạt động"}:{title:"Dữ liệu tư vấn",subtitle:"Google Sheets",status:"Chưa hoàn thành",statusColor:"text-red-600",icon:h.jsx(sC,{className:"w-6 h-6 text-red-600"}),bgColor:"bg-red-50",borderColor:"border-red-200",path:"/dashboard/cau-hinh-kien-thuc",cardStatus:"Cấu hình chưa hoàn tất"},{title:"Kết quả tìm kiếm",subtitle:"Search",status:"Đã cấu hình",statusColor:"text-green-600",icon:h.jsx(Mm,{className:"w-6 h-6 text-green-600"}),bgColor:"bg-green-50",borderColor:"border-green-200",path:"/dashboard/cau-hinh-kien-thuc",cardStatus:"Cấu hình hoàn tất và đang hoạt động"}],w=[{name:"Zalo",configured:"Đã cấu hình",icon:h.jsx(qa,{className:"w-5 h-5"}),path:"/admin/facebook_page"},{name:"Facebook",configured:"Đã cấu hình",icon:h.jsx(jD,{className:"w-5 h-5"}),path:"/admin/facebook_page"},{name:"Website",configured:"Đã cấu hình",icon:h.jsx(kD,{className:"w-5 h-5"}),path:"/admin/facebook_page"}],S=[{name:"Zalo",configured:"Đã cấu hình",icon:h.jsx(qa,{className:"w-5 h-5"}),path:"/admin/facebook_page"},{name:"Telegram",configured:"Chưa cấu hình",icon:h.jsx(Cl,{className:"w-5 h-5"}),path:"/admin/facebook_page"}],k=[{name:"Số người dùng",configured:e?.length||0,icon:h.jsx(Wh,{className:"w-6 h-6 text-blue-600"}),path:"/admin/users"},{name:"Số cuộc trò chuyện",configured:s?.length||0,icon:h.jsx(qa,{className:"w-6 h-6 text-green-600"}),path:"/admin/chat"}],E=w.some(M=>M.configured),O=S.some(M=>M.configured),_=k.some(M=>M.configured>0),T=[{title:"Kênh Chat",statusColor:E?"text-green-600":"text-red-600",icon:h.jsx(qa,{className:`w-6 h-6 ${E?"text-green-600":"text-red-600"}`}),bgColor:E?"bg-green-50":"bg-red-50",borderColor:E?"border-green-200":"border-red-200",channels:w},{title:"Bot thông báo",statusColor:O?"text-green-600":"text-red-600",icon:h.jsx(fd,{className:`w-6 h-6 ${O?"text-green-600":"text-red-600"}`}),bgColor:O?"bg-green-50":"bg-red-50",borderColor:O?"border-green-200":"border-red-200",channels:S},{title:"Thống kê",statusColor:_?"text-green-600":"text-red-600",icon:h.jsx(vU,{className:`w-6 h-6 ${_?"text-green-600":"text-red-600"}`}),bgColor:_?"bg-green-50":"bg-red-50",borderColor:_?"border-green-200":"border-red-200",channels:k}];return h.jsx("div",{className:"flex-1 p-4 lg:p-6 bg-gray-50 min-h-screen overflow-auto",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[h.jsx("div",{children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl lg:text-3xl font-semibold text-gray-900 mb-1",children:"🚀 Tổng quan hệ thống"}),h.jsx("p",{className:"text-gray-600",children:"Trạng thái cấu hình và thống kê tổng quan"})]}),h.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-3 py-2 rounded-lg border border-green-200",children:[h.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),h.jsx("span",{className:"font-medium",children:"Hệ thống hoạt động"})]})]})}),h.jsxs("div",{className:"mb-8",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(DD,{className:"w-5 h-5 text-yellow-500"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Truy cập nhanh"}),h.jsx("span",{className:"text-sm text-gray-500",children:"- Kết nối với khách hàng ngay lập tức"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:v.map((M,D)=>h.jsxs("div",{onClick:()=>y(M.path),className:"rounded-2xl border border-gray-200 bg-white p-6 cursor-pointer hover:shadow-md hover:-translate-y-1 transition-all duration-300",children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-3 rounded-xl bg-blue-300",children:M.icon}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.title}),h.jsx("p",{className:"text-sm text-gray-500",children:M.subtitle})]})]})}),h.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:M.description})]},D))})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map((M,D)=>h.jsxs("div",{onClick:()=>y(M.path),className:`${M.bgColor} ${M.borderColor} border rounded-lg p-4 hover:bg-opacity-80 transition-colors cursor-pointer`,children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-2 bg-white rounded-lg",children:M.icon}),h.jsx("div",{children:h.jsx("span",{className:"text-sm font-medium text-gray-700",children:M.title})})]}),h.jsxs("div",{className:`flex items-center gap-1 text-xs px-2 py-1 rounded-full ${M.status==="Đã cấu hình"?"bg-green-100 border-green-300":"bg-red-100 border-red-300"} ${M.statusColor} font-medium border`,children:[h.jsx("div",{className:`w-2 h-2 rounded-full ${M.status==="Đã cấu hình"?"bg-green-500":"bg-red-500"}`}),M.status]})]}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:M.subtitle}),h.jsx("div",{className:"text-sm text-gray-600",children:M.cardStatus})]},D))}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:T.map((M,D)=>h.jsxs("div",{className:`${M.bgColor} ${M.borderColor} border rounded-lg p-4`,children:[h.jsx("div",{className:"flex items-start justify-between mb-3",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-2 bg-white rounded-lg",children:h.jsx("div",{className:M.statusColor,children:M.icon})}),h.jsx("div",{children:h.jsx("span",{className:"text-sm font-medium text-gray-700",children:M.title})})]})}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:M.subtitle}),h.jsx("div",{className:"space-y-2",children:M.channels.map((B,q)=>h.jsxs("div",{onClick:()=>y(B.path),className:"flex items-center justify-between p-3 bg-white rounded-lg border hover:bg-gray-50 transition-colors cursor-pointer",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:`${B.configured}`,children:B.icon}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:B.name})]}),h.jsx("div",{className:`flex items-center gap-1 text-xs px-2 py-1 rounded-full ${B.configured?"bg-green-100 text-green-600 border-green-300":"bg-gray-100 text-gray-600 border-gray-300"} font-medium border`,children:B.configured})]},q))})]},D))})]})})},U9=async(e,t,n="")=>{try{return(await Re.post(`/rating/${e}`,{rate:t,comment:n})).data}catch(r){throw console.error("Error creating rating:",r),r}},H9=async e=>{try{return(await Re.get(`/rating/${e}/check`)).data}catch(t){throw console.error("Error checking rating:",t),t}},q9=(e,t,n=300)=>{const[r,i]=j.useState(!1),a=j.useRef(null),s=j.useRef(null);return j.useEffect(()=>{if(console.log("🔍 useRatingTimer - Check:",{messagesLength:e?.length,hasRated:t,timeoutSeconds:n,lastMessage:e?.[e.length-1]}),t){console.log("✅ Đã đánh giá - không hiển thị prompt"),i(!1),a.current&&(clearTimeout(a.current),a.current=null);return}if(!e||e.length===0){console.log("⚠️ Không có tin nhắn"),i(!1);return}const c=e[e.length-1];if(console.log("📝 Tin nhắn cuối:",{sender_type:c.sender_type,content:c.content?.substring(0,30),created_at:c.created_at}),c.sender_type==="bot"||c.sender_type==="admin"){const u=new Date(c.created_at).getTime();s.current!==u&&(console.log("🤖 Tin nhắn từ bot/admin - bắt đầu timer"),s.current=u,i(!1),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{console.log(`⏰ ${n} giây không hoạt động - HIỂN THỊ rating prompt`),i(!0)},n*1e3))}else console.log("👤 Tin nhắn từ customer - ẩn prompt và clear timer"),i(!1),a.current&&(clearTimeout(a.current),a.current=null),s.current=null;return()=>{a.current&&clearTimeout(a.current)}},[e,t,n]),r},K9=({onOpenRatingModal:e})=>h.jsx("div",{className:"flex justify-center py-4",children:h.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md shadow-sm animate-fadeIn",children:h.jsxs("div",{className:"text-center space-y-3",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:h.jsx(MD,{className:"text-blue-600",size:24})})}),h.jsx("p",{className:"text-gray-700 font-medium",children:"Nếu bạn hài lòng với cuộc trò chuyện"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Xin hãy đánh giá giúp chúng tôi từ 1 đến 5 sao"}),h.jsx("button",{onClick:e,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Đánh giá ngay"})]})})}),V9=({isOpen:e,onClose:t,onSubmit:n,isSubmitting:r})=>{const[i,a]=j.useState(0),[s,c]=j.useState(0),[u,d]=j.useState(""),p=async()=>{if(i===0){alert("Vui lòng chọn số sao đánh giá!");return}await n(i,u),a(0),c(0),d("")},m=()=>{a(0),c(0),d(""),t()};return e?h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 animate-fadeIn",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Đánh giá cuộc trò chuyện"}),h.jsx("button",{onClick:m,disabled:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(On,{size:24})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-gray-600 text-center",children:"Nếu bạn hài lòng với cuộc trò chuyện, xin hãy đánh giá giúp chúng tôi"}),h.jsx("div",{className:"flex justify-center gap-2 py-4",children:[1,2,3,4,5].map(y=>h.jsx("button",{type:"button",onClick:()=>a(y),onMouseEnter:()=>c(y),onMouseLeave:()=>c(0),disabled:r,className:"transition-transform hover:scale-110 disabled:opacity-50",children:h.jsx(MD,{size:36,className:`${y<=(s||i)?"fill-yellow-400 text-yellow-400":"text-gray-300"} transition-colors`})},y))}),i>0&&h.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Bạn đã chọn: ",i," sao"]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nhận xét của bạn (không bắt buộc)"}),h.jsx("textarea",{value:u,onChange:y=>d(y.target.value),disabled:r,placeholder:"Chia sẻ trải nghiệm của bạn...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{onClick:m,disabled:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Để sau"}),h.jsx("button",{onClick:p,disabled:r||i===0,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Đang gửi...":"Gửi đánh giá"})]})]})]})}):null};function F9(){const[e,t]=j.useState([]),[n,r]=j.useState(""),[i,a]=j.useState(null),[s,c]=j.useState(!1),[u,d]=j.useState(!0),p=j.useRef(null),m=j.useRef(null),[y,v]=j.useState(!0),[b,w]=j.useState(!1),[S,k]=j.useState(),[E,O]=j.useState(1),[_,T]=j.useState(!0),[M,D]=j.useState(!1),[B,q]=j.useState(!0),[L,K]=j.useState(null),V=j.useRef(null),[te,oe]=j.useState(!1),[ue,$]=j.useState(!1),[J,he]=j.useState(!1),be=q9(e,te,300);j.useEffect(()=>((async()=>{try{d(!0);const ae=await HD();a(ae);try{const pe=await H9(ae);oe(pe.has_rated||!1),console.log("📊 Rating status:",pe)}catch{console.log("⚠️ Chưa có rating cho session này"),oe(!1)}const Q=await Gh(ae,1,10),me=await M9();k(me[0].botName),Q.length===0?t([{sender_type:"bot",content:me[0].system_greeting,created_at:new Date,is_temp:!0}]):(t(Q),T(Q.length===10)),q(!0),ID(pe=>{if(pe.sender_type=="bot")v(!0),w(!1);else if(pe.sender_type=="admin")v(!1),w(!1);else if(pe.sender_type=="customer"){pe.session_status=="false"&&(v(!1),w(!1),console.log("Nhận khi chặn",pe));return}console.log("📩 Customer nhận:",pe),t(se=>[...se,pe]),q(!0)}),console.log("✅ Chat initialized"),c(!0)}catch(ae){console.error("Error initializing chat:",ae)}finally{d(!1)}})(),()=>$D()),[]),j.useEffect(()=>{B&&p.current&&(p.current.scrollIntoView({behavior:"auto"}),q(!1))},[e,B]),j.useEffect(()=>{const je=m.current;if(!je)return;const ae=async()=>{if(je.scrollTop===0&&_&&!M){D(!0);const Q=je.scrollHeight;try{const me=E+1,pe=await Gh(i,me,10);pe.length>0?(t(se=>[...pe,...se]),O(me),pe.length<10&&T(!1),setTimeout(()=>{const se=je.scrollHeight;je.scrollTop=se-Q},50)):T(!1)}catch(me){console.error("Error loading more messages:",me)}finally{D(!1)}}};return je.addEventListener("scroll",ae),()=>je.removeEventListener("scroll",ae)},[i,E,_,M]);const P=()=>{if(n.trim()===""||y&&b)return;const je={sender_type:"customer",content:n,created_at:new Date};t(ae=>[...ae,je]),ew(i,"customer",n,!1),r(""),q(!0),V.current&&(V.current.style.height="auto",V.current.style.height="42px"),y&&w(!0)},X=()=>{V.current&&(V.current.style.height="auto",V.current.style.height=Math.min(V.current.scrollHeight,128)+"px")},Z=je=>{r(je.target.value),X()},de=je=>{je.key==="Enter"&&!je.shiftKey&&(je.preventDefault(),P())},ve=()=>{$(!0)},Oe=()=>{$(!1)},Ee=async(je,ae)=>{try{he(!0),await U9(i,je,ae),oe(!0),$(!1),alert("✅ Cảm ơn bạn đã đánh giá!"),console.log("✅ Đã gửi rating thành công:",{rating:je,comment:ae})}catch(Q){console.error("❌ Lỗi khi gửi rating:",Q),alert("Có lỗi xảy ra. Vui lòng thử lại!")}finally{he(!1)}};return h.jsxs("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-2 md:p-4",children:[h.jsxs("div",{className:"chat-container w-full max-w-5xl mx-auto",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden h-[95vh] flex flex-col",children:[h.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex-shrink-0",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-white text-lg",children:"💬"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Chat với THANHMAIHSK"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`w-2 h-2 rounded-full ${s?"bg-green-500":"bg-red-500"}`}),h.jsxs("p",{className:"text-gray-600 text-xs",children:[s?"Đang kết nối":"Mất kết nối"," • ",e.length," tin nhắn"]})]})]})]}),h.jsx("div",{className:"hidden lg:flex items-center gap-4 text-xs text-gray-500",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{children:"Session:"}),h.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded font-mono",children:i||"N/A"})]})})]})}),h.jsxs("div",{ref:m,className:"flex-1 overflow-y-auto bg-gray-50 px-3 py-2 relative",children:[M&&h.jsxs("div",{className:"flex justify-center py-2",children:[h.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),h.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Đang tải thêm tin nhắn..."})]}),u?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[h.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mb-2"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Đang tải cuộc trò chuyện..."})]}):e.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[h.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center mb-3",children:h.jsx("span",{className:"text-lg",children:"💭"})}),h.jsx("p",{className:"text-center font-medium",children:"Chưa có tin nhắn nào"}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Bắt đầu cuộc trò chuyện đầu tiên!"})]}):h.jsxs("div",{className:"max-w-4xl mx-auto space-y-3",children:[e.map((je,ae)=>h.jsx("div",{className:`flex ${je.sender_type==="customer"?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:"flex items-start gap-2 max-w-[75%] md:max-w-[65%]",children:[je.sender_type!=="customer"&&h.jsx("div",{className:"w-7 h-7 bg-gray-500 rounded-full flex items-center justify-center text-xs text-white flex-shrink-0 mt-1",children:"🤖"}),h.jsxs("div",{className:`px-3 py-2 rounded-lg shadow-sm relative ${je.sender_type==="customer"?"bg-blue-600 text-white rounded-br-sm":"bg-white text-gray-800 border border-gray-200 rounded-bl-sm"}`,children:[h.jsx("div",{className:`text-xs font-medium mb-1 ${je.sender_type==="customer"?"text-blue-100":"text-gray-500"}`,children:je.sender_type==="customer"?"Bạn":S}),h.jsxs("div",{className:"space-y-1",children:[je.image?.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:je.image.map((Q,me)=>h.jsx("img",{src:Q,alt:`msg-img-${me}`,className:"rounded-lg max-w-xs object-cover shadow-sm cursor-pointer",onClick:()=>K(Q),onError:pe=>{console.log("Image load error:",Q),pe.target.style.display="none"}},me))}),(()=>{if(je.sender_type==="bot"&&je.content)try{const Q=JSON.parse(je.content);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"text-sm leading-relaxed break-words whitespace-pre-line",children:Q.message}),Q.links&&Q.links.length>0&&h.jsx("div",{className:"mt-2 space-y-1",children:Q.links.map((me,pe)=>h.jsxs("a",{href:me,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors text-xs text-blue-600 hover:text-blue-700",children:[h.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),h.jsx("span",{className:"truncate",children:me})]},pe))})]})}catch{return h.jsx("div",{className:"text-sm leading-relaxed break-words whitespace-pre-line",children:je.content})}return h.jsx("div",{className:"text-sm leading-relaxed break-words whitespace-pre-line",children:je.content})})()]}),h.jsx("div",{className:`text-xs mt-1 ${je.sender_type==="customer"?"text-blue-200":"text-gray-400"}`,children:je.created_at?new Date(je.created_at).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}):"Vừa xong"})]}),je.sender_type==="customer"&&h.jsx("div",{className:"w-7 h-7 bg-blue-600 rounded-full flex items-center justify-center text-xs text-white flex-shrink-0 mt-1",children:"👤"})]})},ae)),b&&h.jsx("div",{className:"flex justify-start",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("div",{className:"w-7 h-7 bg-gray-500 rounded-full flex items-center justify-center text-xs text-white flex-shrink-0",children:"🤖"}),h.jsx("div",{className:"bg-white border border-gray-200 rounded-lg rounded-bl-sm px-3 py-2",children:h.jsxs("div",{className:"flex space-x-1",children:[h.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),h.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),h.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),be&&!te&&h.jsx(K9,{onOpenRatingModal:ve})]}),h.jsx("div",{ref:p})]}),h.jsx("div",{className:"bg-white border-t border-gray-200 p-3 flex-shrink-0",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"flex items-end gap-2",children:[h.jsx("div",{className:"flex-1 relative",children:h.jsx("textarea",{ref:V,value:n,onChange:Z,onKeyDown:de,className:"w-full px-3 py-2.5 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors placeholder-gray-400 bg-white text-gray-800 text-sm resize-none min-h-[42px] max-h-32 overflow-y-auto",placeholder:"Nhập tin nhắn của bạn... (Shift+Enter để xuống dòng)",disabled:!s,rows:1,style:{height:"auto",minHeight:"42px"}})}),h.jsx("button",{onClick:P,disabled:!n.trim()||y&&b||!s,className:"p-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h.jsx(TD,{size:16})})]}),h.jsxs("div",{className:"flex items-center justify-between mt-2",children:[h.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[h.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s?"bg-green-500":"bg-red-500"}`}),h.jsx("span",{children:s?"Đã kết nối":"Mất kết nối"})]}),h.jsxs("div",{className:"hidden lg:flex items-center gap-3 text-xs text-gray-400",children:[h.jsx("span",{children:"Realtime"}),h.jsx("span",{children:"•"}),h.jsx("span",{children:"Secure"}),h.jsx("span",{children:"•"}),h.jsx("span",{children:"AI Powered"})]})]})]})})]}),h.jsx("div",{className:"text-center mt-4",children:h.jsx("p",{className:"text-xs text-gray-500",children:"Được hỗ trợ bởi AI • Phản hồi tức thời • Bảo mật cao"})})]}),L&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-6",onClick:()=>K(null),children:h.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[h.jsx("img",{src:L,alt:"Zoom",className:"max-w-[90vw] max-h-[90vh] object-contain rounded-lg shadow-xl",onClick:je=>je.stopPropagation()}),h.jsx("button",{className:"absolute top-4 right-4 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors",onClick:()=>K(null),children:h.jsx(On,{className:"w-5 h-5 text-gray-700"})})]})}),h.jsx(V9,{isOpen:ue,onClose:Oe,onSubmit:Ee,isSubmitting:J})]})}const W9="modulepreload",G9=function(e){return"/"+e},lC={},pb=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var s=d;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");i=d(n.map(p=>{if(p=G9(p),p in lC)return;lC[p]=!0;const m=p.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":W9,m||(v.as="script"),v.crossOrigin="",v.href=p,u&&v.setAttribute("nonce",u),document.head.appendChild(v),m)return new Promise((b,w)=>{v.addEventListener("load",b),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return t().catch(a)})},Y9=()=>{const{user:e}=ra(),t=()=>{if(!e)return"/login";switch(e.role){case"viewer":return"/viewer";case"admin":case"root":case"superadmin":return"/dashboard";default:return"/login"}};return{getHomeRoute:t,homeRoute:t()}},GD=j.forwardRef(({searchTerm:e,selectedCategory:t,tags:n,setSearchTerm:r,setSelectedCategory:i,onDeleteConversations:a,onSelectModeChange:s,isSelectMode:c=!1,selectedConversationIds:u=[],isMobile:d=!1},p)=>{const[m,y]=j.useState(!1);j.useImperativeHandle(p,()=>({updateSelection:O=>{}}));const v=na(),{homeRoute:b}=Y9(),w=()=>{const O=!c;s(O,[]),O||y(!1)},S=()=>{u.length>0&&y(!0)},k=()=>{a(u),s(!1,[]),y(!1)},E=()=>{y(!1)};return h.jsxs("div",{className:"bg-blue-600 text-white p-4 border-b border-blue-700",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx(nU,{onClick:()=>v(b),className:"cursor-pointer text-white w-6 h-6"}),h.jsx("h1",{className:"text-xl font-semibold",children:"Tin nhắn"}),h.jsx("div",{className:"flex items-center gap-2",children:c?h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:"text-sm",children:[u.length," đã chọn"]}),u.length>0&&h.jsx("button",{onClick:S,className:"p-2 hover:bg-blue-700 rounded-lg transition-colors",children:h.jsx(J1,{size:18})}),h.jsx("button",{onClick:w,className:"p-2 hover:bg-blue-700 rounded-lg transition-colors",children:h.jsx(On,{size:18})})]}):h.jsx("button",{onClick:w,className:"p-2 hover:bg-blue-700 rounded-lg transition-colors",children:h.jsx(RU,{size:18})})})]}),h.jsxs("div",{className:"relative mb-4",children:[h.jsx(Mm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),h.jsx("input",{type:"text",placeholder:"Tìm kiếm cuộc hội thoại...",value:e,onChange:O=>r(O.target.value),className:"w-full pl-10 pr-4 py-2 bg-white text-gray-900 rounded-lg border-0 focus:ring-2 focus:ring-blue-300 focus:outline-none"})]}),h.jsxs("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:[h.jsx("button",{onClick:()=>i("all"),className:`px-3 py-1 rounded-full text-sm whitespace-nowrap transition-colors ${t==="all"?"bg-white text-blue-600":"bg-blue-700 text-white hover:bg-blue-800"}`,children:"Tất cả"}),n.map(O=>h.jsx("button",{onClick:()=>i(O.name),className:`px-3 py-1 rounded-full text-sm whitespace-nowrap transition-colors ${t===O.name?"bg-white text-blue-600":"bg-blue-700 text-white hover:bg-blue-800"}`,children:O.name},O.id))]}),m&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm mx-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Xác nhận xóa"}),h.jsxs("p",{className:"text-gray-600 mb-4",children:["Bạn có chắc chắn muốn xóa ",u.length," cuộc hội thoại đã chọn?"]}),h.jsxs("div",{className:"flex gap-3 justify-end",children:[h.jsx("button",{onClick:E,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Hủy"}),h.jsx("button",{onClick:k,className:"px-4 py-2 bg-red-600 text-white hover:bg-red-700 rounded-lg transition-colors",children:"Xóa"})]})]})})]})});GD.displayName="Header";const X9=e=>{switch(e){case"web":return"bg-gradient-to-br from-green-400 to-green-500 group-hover:from-green-500 group-hover:to-green-600";case"facebook":return"bg-gradient-to-br from-blue-400 to-blue-500 group-hover:from-blue-500 group-hover:to-blue-600";case"zalo":return"bg-gradient-to-br from-sky-400 to-sky-500 group-hover:from-sky-500 group-hover:to-sky-600";case"telegram":return"bg-gradient-to-br from-indigo-400 to-indigo-500 group-hover:from-indigo-500 group-hover:to-indigo-600";default:return"bg-gradient-to-br from-gray-400 to-gray-500 group-hover:from-gray-500 group-hover:to-gray-600"}},Q9=({conv:e,isSelected:t,hasCustomerNotification:n})=>h.jsx("div",{className:"relative flex-shrink-0",children:h.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white font-semibold text-base transition-all shadow-sm ${n?"bg-gradient-to-br from-red-400 to-red-500 group-hover:from-red-500 group-hover:to-red-600":X9(e.channel)}`,children:(e.name||e.full_name||"K")?.charAt(0)?.toUpperCase()||"?"})}),Z9=({isSelectedForDeletion:e,onToggle:t})=>h.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-12 h-12",children:h.jsx("div",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-200 cursor-pointer shadow-sm ${e?"bg-red-500 border-red-500 text-white scale-110":"border-gray-300 hover:border-red-400 bg-white"}`,onClick:n=>{n.stopPropagation(),t()},children:e&&h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})})})}),J9=({conv:e,isSelectMode:t,isSelectedForDeletion:n,isSelected:r,timeFormatter:i,tags:a,displayConversations:s,hasCustomerNotification:c})=>{const u=()=>t?n?"text-red-900":"text-gray-900":r?"text-blue-900 font-semibold":"text-gray-900",d=()=>t?n?"text-red-600":"text-gray-600":r?"text-blue-700":"text-gray-600",p=()=>t?n?"text-red-500":"text-gray-500":r?"text-blue-600":"text-gray-500",m=y=>a?.find(v=>v.name===y)||null;return h.jsxs("div",{className:"flex-1 min-w-0 relative",children:[h.jsx("div",{className:"flex items-start justify-between mb-1",children:h.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[h.jsx("h3",{className:`font-medium truncate text-base transition-colors ${u()}`,children:e.name||e.full_name||"Khách hàng"}),c&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),h.jsx("span",{className:"text-xs text-red-600 font-medium bg-red-50 px-1.5 py-0.5 rounded",children:"📋 Info"})]})]})}),h.jsx("div",{className:"mb-2",children:h.jsx("p",{className:`text-sm transition-colors ${d()}`,children:e.content&&e.content.length>30?e.content.slice(0,30)+"...":e.content||"Chưa có tin nhắn"})}),!t&&e.tag_names&&e.tag_names.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2",children:e.tag_names.map((y,v)=>{const b=m(y);return b?h.jsxs("div",{className:"relative group/tag",children:[h.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white shadow-md cursor-pointer transition-all duration-200 hover:scale-110 hover:shadow-lg relative z-10",style:{backgroundColor:b.color}}),h.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1.5 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover/tag:opacity-100 transition-all duration-300 whitespace-nowrap z-[200] pointer-events-none shadow-lg",children:[b.name,h.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-[4px] border-r-[4px] border-t-[4px] border-transparent border-t-gray-900"})]})]},v):null})}),t&&n&&h.jsx("div",{className:"mb-2",children:h.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-700",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mr-1"}),"Đã chọn"]})}),h.jsx("div",{className:"absolute bottom-0 right-0 text-right",children:h.jsx("span",{className:`text-xs transition-colors ${p()}`,children:i(e.created_at)})})]})},eH=({isMenuOpen:e,onOpenMenu:t})=>h.jsx("div",{className:"flex-shrink-0 flex items-center justify-center",children:h.jsx("button",{onClick:t,className:`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-200 hover:scale-105 ${e?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-blue-100 hover:text-blue-600 hover:shadow-sm"}`,children:h.jsx(Kh,{className:`w-4 h-4 transition-transform ${e?"rotate-45":""}`})})}),tH=({isSelectMode:e,isMenuOpen:t,onOpenMenu:n})=>e?null:h.jsx(eH,{isMenuOpen:t,onOpenMenu:n}),nH=({isMenuOpen:e,tags:t,conv:n,onTagSelect:r,onCloseMenu:i})=>e?h.jsx("div",{className:"absolute top-full left-0 right-0 z-[9999] mt-2 pointer-events-auto",children:h.jsxs("div",{className:"mx-4 bg-white border border-gray-200 rounded-xl shadow-xl overflow-hidden",children:[h.jsx("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-100",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("h4",{className:"text-sm font-medium text-gray-800 flex items-center gap-2",children:[h.jsx(Vh,{className:"w-4 h-4 text-blue-500"}),"Gắn thẻ"]}),h.jsx("button",{onClick:i,className:"w-6 h-6 rounded flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-200 transition-colors",children:h.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),h.jsx("div",{className:"max-h-60 overflow-y-auto",children:t&&t.length>0?h.jsx("div",{className:"p-2",children:t.map((a,s)=>{const c=n.tag_names&&n.tag_names.includes(a.name),u=a.color;return h.jsxs("div",{className:`px-3 py-2.5 cursor-pointer text-sm transition-all duration-200 flex items-center gap-3 rounded-lg mb-1 last:mb-0 ${c?"bg-blue-50 text-blue-800 border border-blue-200 shadow-sm":"hover:bg-gray-50 text-gray-700 border border-transparent hover:border-gray-200"}`,onClick:d=>{d.stopPropagation(),r?.(n,a)},children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[h.jsx("div",{className:"w-4 h-4 rounded-full border border-white shadow-sm",style:{backgroundColor:u}}),h.jsx("span",{className:"font-medium text-sm",children:a.name})]}),h.jsx("div",{className:"flex items-center",children:c&&h.jsx("div",{className:"w-4 h-4 rounded bg-blue-500 flex items-center justify-center",children:h.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})})]},a.id)})}):h.jsxs("div",{className:"px-3 py-6 text-center text-gray-500",children:[h.jsx("div",{className:"text-2xl mb-2",children:"🏷️"}),h.jsx("p",{className:"text-sm",children:"Chưa có thẻ nào"})]})}),h.jsx("div",{className:"px-3 py-2 bg-gray-50 border-t border-gray-100",children:h.jsx("button",{onClick:i,className:"w-full py-1.5 px-3 bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium rounded transition-colors",children:"Đóng"})})]})}):null,rH=({conv:e,convId:t,index:n,isSelected:r,isSelectMode:i,isSelectedForDeletion:a,isMenuOpen:s,tags:c,timeFormatter:u,onSelectConversation:d,onTagSelect:p,handleToggleConversationSelection:m,handleOpenMenu:y,handleCloseMenu:v,displayConversations:b,hasCustomerNotification:w})=>{const S=()=>{const O="relative group transition-all duration-200 cursor-pointer border-b border-gray-100 ",_=s?"z-[10000]":"z-10";let T;return i?T=a?"bg-red-50 hover:bg-red-100":"bg-white hover:bg-gray-50":T=r?"bg-blue-50 border-blue-100":"bg-white hover:bg-gray-50",`${O} ${_} ${T}`},k=()=>{i?m(t):d?.(e)},E=O=>{O.stopPropagation(),y(t,O)};return h.jsxs("div",{"data-menu-id":t,className:S(),style:{animationDelay:`${n*30}ms`},children:[h.jsx("div",{className:"relative p-4",onClick:k,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[i?h.jsx(Z9,{isSelectedForDeletion:a,onToggle:()=>m(t)}):h.jsx(Q9,{conv:e,isSelected:r,hasCustomerNotification:w}),h.jsx(J9,{conv:e,isSelectMode:i,isSelectedForDeletion:a,isSelected:r,timeFormatter:u,tags:c,displayConversations:b,hasCustomerNotification:w}),h.jsx(tH,{conv:e,isSelectMode:i,isMenuOpen:s,onOpenMenu:E})]})}),!i&&h.jsx(nH,{isMenuOpen:s,tags:c,conv:e,onTagSelect:p,onCloseMenu:v})]},t)},iH=({conversations:e,selectedConversation:t,onSelectConversation:n,formatTime:r,getPlatformIcon:i,getStatusColor:a,getStatusText:s,isLoading:c,tags:u,onTagSelect:d,onDeleteConversations:p,isMobile:m,isOpen:y,onClose:v,customerInfoNotifications:b,hasNewCustomerInfo:w})=>{const[S,k]=j.useState(null),[E,O]=j.useState(""),[_,T]=j.useState("all"),[M,D]=j.useState(!1),[B,q]=j.useState([]),L=j.useRef(null),K=(P,X)=>{X&&X.stopPropagation(),k(S===P?null:P)},V=()=>{k(null)},te=(P,X=[])=>{D(P),q(X),P&&k(null)},oe=P=>{console.log("🔄 Toggling conversation selection:",P);const X=B.includes(P)?B.filter(Z=>Z!==P):[...B,P];console.log("📋 New selected conversations:",X),q(X),L.current&&L.current.updateSelection&&L.current.updateSelection(X)};j.useEffect(()=>{const P=X=>{S&&!X.target.closest(`[data-menu-id="${S}"]`)&&V()};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[S]),j.useEffect(()=>{if(!m||!y)return;const P=X=>{const Z=document.querySelector('[data-sidebar="true"]');Z&&!Z.contains(X.target)&&v&&v()};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[m,y,v]);const ue=e.filter(P=>_==="all"?!0:Array.isArray(P.tag_names)&&P.tag_names.includes(_)),$=e.length>0?ue:[],he=r||(P=>{if(!P)return"Vừa xong";const Z=new Date-new Date(P),de=Math.floor(Z/6e4),ve=Math.floor(Z/36e5),Oe=Math.floor(Z/864e5);return de<1?"Vừa xong":de<60?`${de} phút trước`:ve<24?`${ve} giờ trước`:`${Oe} ngày trước`}),be=`
        ${m?`fixed inset-y-0 left-0 z-50 transform transition-transform duration-300 ease-in-out ${y?"translate-x-0":"-translate-x-full"} w-80 max-w-[85vw]`:"w-full lg:w-80 max-w-sm lg:max-w-none"}
        bg-white border-r border-gray-200 overflow-hidden flex flex-col h-full
    `;return console.log("conversations:",e,u),h.jsxs(h.Fragment,{children:[h.jsx("style",{jsx:!0,children:`
                @keyframes pulse-notification {
                    0%, 100% { opacity: 1; transform: scale(1); }
                    50% { opacity: 0.7; transform: scale(1.05); }
                }
                .notification-pulse {
                    animation: pulse-notification 1.5s infinite;
                }
                .notification-dot {
                    position: absolute;
                    top: -2px;
                    right: -2px;
                    width: 12px;
                    height: 12px;
                    background: #ef4444;
                    border: 2px solid white;
                    border-radius: 50%;
                    animation: pulse-notification 2s infinite;
                }
            `}),m&&y&&h.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:v}),h.jsxs("div",{className:be,"data-sidebar":"true",children:[m&&h.jsx("div",{className:"absolute top-4 right-4 z-10",children:h.jsx("button",{onClick:v,className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors","aria-label":"Đóng sidebar",children:h.jsx(On,{size:20,className:"text-gray-600"})})}),h.jsx("div",{className:m?"pr-16":"",children:h.jsx(GD,{displayConversations:$,searchTerm:E,selectedCategory:_,tags:u,setSearchTerm:O,setSelectedCategory:T,onDeleteConversations:p,ref:L,onSelectModeChange:te,isSelectMode:M,selectedConversationIds:B,isMobile:m})}),h.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:c?h.jsx("div",{children:[...Array(8)].map((P,X)=>h.jsx("div",{className:"animate-pulse border-b border-gray-100 p-3",children:h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("div",{className:"rounded-full bg-gray-300 w-12 h-12"}),h.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[h.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),h.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"}),h.jsxs("div",{className:"flex gap-1 mt-2",children:[h.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"}),h.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"})]})]}),h.jsx("div",{className:"text-right py-1",children:h.jsx("div",{className:"h-3 bg-gray-300 rounded w-12"})})]})},X))}):$.length===0?h.jsxs("div",{className:"text-center py-12 px-4 text-gray-500",children:[h.jsx("div",{className:"text-4xl mb-3",children:"💬"}),h.jsx("p",{className:"text-sm",children:"Chưa có cuộc hội thoại nào"})]}):$.map((P,X)=>{const Z=P.session_id||P.id||X,de=t?.session_id===P.session_id,ve=S===Z,Oe=M&&B.includes(Z),Ee=b&&b.has(P.session_id);return h.jsxs("div",{className:`relative ${Ee?"notification-pulse":""}`,style:{backgroundColor:Ee?"#fef2f2":"transparent"},children:[Ee&&h.jsx("div",{className:"notification-dot"}),h.jsx(rH,{conv:P,convId:Z,index:X,isSelected:de,isSelectMode:M,timeFormatter:he,isSelectedForDeletion:Oe,isMenuOpen:ve,tags:u,onSelectConversation:n,onTagSelect:d,handleToggleConversationSelection:oe,handleOpenMenu:K,handleCloseMenu:V,isMobile:m,displayConversations:$,hasCustomerNotification:Ee})]},Z)})})]})]})},aH=({onClose:e,onConfirm:t})=>{const[n,r]=j.useState("1-hour"),i=[{id:"1-hour",title:"1 giờ",description:"Kích hoạt bot sau 1 giờ (đếm ngược)",value:"1-hour"},{id:"4-hour",title:"4 giờ",description:"Kích hoạt bot sau 4 giờ (đếm ngược)",value:"4-hour"},{id:"8am-tomorrow",title:"Đến 8 giờ sáng hôm sau",description:"Kích hoạt bot vào 8:00 AM ngày mai (đếm ngược)",value:"8am-tomorrow"},{id:"manual-only",title:"Thủ công hoàn toàn",description:"Tắt bot vĩnh viễn, chỉ bật lại khi thủ công",value:"manual-only"}],a=c=>{r(c)},s=()=>{t(n),e()};return h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-50 p-4",children:h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-4 transform transition-all scale-95 hover:scale-100",children:[h.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 transition-colors z-10",children:h.jsx(On,{className:"w-5 h-5 text-gray-600"})}),h.jsx("div",{className:"p-6 pb-4 border-b border-gray-100",children:h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-orange-600 rounded-xl flex items-center justify-center text-white text-xl",children:"🤝"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Chuyển sang chế độ thủ công"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Chọn thời gian tắt chatbot cho phiên này"})]})]})}),h.jsx("div",{className:"p-6 space-y-3 max-h-96 overflow-y-auto",children:i.map(c=>h.jsxs("div",{className:`relative border-2 rounded-xl p-4 cursor-pointer transition-all duration-200 hover:shadow-md ${n===c.value?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>a(c.value),children:[h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"flex-shrink-0 mt-1",children:h.jsx("input",{type:"radio",name:"timeOption",value:c.value,checked:n===c.value,onChange:()=>a(c.value),className:"w-5 h-5 text-blue-600 border-2 border-gray-300 focus:ring-blue-500 focus:ring-2"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-1 text-lg",children:c.title}),h.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:c.description})]})]}),n===c.value&&h.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:h.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]},c.id))}),h.jsxs("div",{className:"p-6 pt-4 border-t border-gray-100 flex flex-col sm:flex-row gap-3 sm:justify-end",children:[h.jsx("button",{onClick:e,className:"w-full sm:w-auto px-6 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors font-medium",children:"Hủy"}),h.jsx("button",{onClick:s,className:"w-full sm:w-auto px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all font-medium shadow-lg hover:shadow-xl",children:"Xác nhận"})]})]})})};function sH(e){if(!e)return null;if(typeof e=="string")try{e=JSON.parse(e)}catch{return console.warn("Invalid JSON in customer_data:",e),null}const t=i=>i.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();let n="",r="";for(const[i,a]of Object.entries(e)){const s=t(i);!n&&(s.includes("sodienthoai")||s.includes("phone"))&&(n=a),!r&&s.includes("ten")&&(r=a)}return{phone:n,name:r}}const oH=({selectedConversation:e,onUpdateConversation:t,messages:n,input:r,setInput:i,onSendMessage:a,isLoading:s,formatMessageTime:c,onMessagesUpdate:u,imagePreview:d,setImagePreview:p,page:m,setPage:y,hasMoreMessages:v,setHasMoreMessages:b,isLoadingMore:w,setIsLoadingMore:S,shouldScrollToBottom:k,setShouldScrollToBottom:E,onProcessCustomerNotification:O})=>{const _=j.useRef(null),T=j.useRef(null),M=j.useRef(null),D=j.useRef(null),[B,q]=j.useState(null),[L,K]=j.useState([]),[V,te]=j.useState(!1),[oe,ue]=j.useState(null);j.useEffect(()=>{k&&T.current&&(T.current.scrollIntoView({behavior:"auto"}),E(!1))},[n,k,E]),j.useEffect(()=>{const ae=M.current;if(!ae||!e)return;const Q=async()=>{if(ae.scrollTop===0&&v&&!w){S(!0);const me=ae.scrollHeight;try{const pe=m+1,{getChatHistory:se}=await pb(async()=>{const{getChatHistory:fe}=await Promise.resolve().then(()=>hb);return{getChatHistory:fe}},[]),ne=await se(e.session_id,pe,10);ne&&ne.length>0?(u(fe=>[...ne,...fe]),y(pe),ne.length<10&&b(!1),setTimeout(()=>{const fe=ae.scrollHeight;ae.scrollTop=fe-me},50)):b(!1)}catch(pe){console.error("Error loading more messages:",pe)}finally{S(!1)}}};return ae.addEventListener("scroll",Q),()=>ae.removeEventListener("scroll",Q)},[e,m,v,w,u,y,b,S]),j.useEffect(()=>{K([]),te(!1),q(null),ue(null)},[e?.id]);const $=ae=>{K(Q=>Q.includes(ae)?Q.filter(me=>me!==ae):[...Q,ae])},J=()=>{K(ae=>ae.length===n.length?[]:n.map(Q=>Q.id))},he=async()=>{if(!(L.length===0||!window.confirm(`Bạn có chắc chắn muốn xóa ${L.length} tin nhắn đã chọn?`)))try{await FD(L,e.session_id),K([]),te(!1);const Q=n.filter(me=>!L.includes(me.id));u(Q),alert("Đã xóa tin nhắn thành công!")}catch(Q){console.error("Error deleting messages:",Q),alert("Có lỗi xảy ra khi xóa tin nhắn!")}},be=()=>{te(!1),K([])},P=async ae=>{try{let Q;if(ae==="bot")Q={status:"true"},q("bot");else{const me=ae==="manual-only"?0:ae==="1-hour"?60:ae==="4-hour"?240:ae==="8am-tomorrow"?Math.max(0,Math.ceil((new Date(new Date().setHours(8,0,0,0)+864e5)-new Date)/6e4)):30,pe=new Date;pe.setMinutes(pe.getMinutes()+me),Q={status:"false",time:pe.toLocaleString()},q("manual")}await KD(e.session_id,Q),t({...e,status:Q.status.toString(),time:Q.time}),alert(`Đã chuyển sang chế độ ${ae==="bot"?"tự động":"thủ công"}`)}catch(Q){console.error("Error updating mode:",Q),alert("Có lỗi xảy ra khi thay đổi chế độ!")}},X=ae=>{ae.key==="Enter"&&!ae.shiftKey&&(ae.preventDefault(),ve())},Z=()=>{D.current&&(D.current.style.height="auto",D.current.style.height=Math.min(D.current.scrollHeight,128)+"px")},de=ae=>{i(ae.target.value),Z()},ve=()=>{if(d.length>0&&!r.trim()){a(),D.current&&(D.current.style.height="auto",D.current.style.height="42px");return}if(r.trim()&&d.length===0){a(),D.current&&(D.current.style.height="auto",D.current.style.height="42px");return}if(r.trim()&&d.length>0){a(),D.current&&(D.current.style.height="auto",D.current.style.height="42px");return}},Oe=ae=>{const Q=Array.from(ae.target.files);if(!Q.length)return;const me=[];Q.forEach(pe=>{if(pe&&pe.type.startsWith("image/")){if(pe.size>500*1024){alert(`Ảnh "${pe.name}" vượt quá 500KB!`);return}const se=new FileReader;se.onloadend=()=>{me.push(se.result),me.length===Q.length&&p(ne=>[...ne,...me])},se.readAsDataURL(pe)}})},Ee=ae=>{p(Q=>Q.filter((me,pe)=>pe!==ae)),_.current&&d.length===1&&(_.current.value="")};if(!e)return h.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:h.jsxs("div",{className:"text-center p-8 max-w-md",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center mx-auto mb-4",children:h.jsx("span",{className:"text-2xl",children:"💬"})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Chọn một cuộc trò chuyện"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Chọn cuộc trò chuyện từ sidebar để bắt đầu chat với khách hàng"})]})});const je=sH(e.customer_data);return h.jsxs("div",{className:"flex-1 flex flex-col bg-white h-full",children:[h.jsx("header",{className:"bg-white border-b border-gray-200 p-4",children:h.jsxs("div",{className:"flex justify-between gap-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-9 h-9 bg-blue-500 rounded-lg flex items-center justify-center text-white font-medium text-sm",children:e.name?.charAt(0).toUpperCase()||"?"}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("h3",{className:"font-medium text-gray-900 text-base truncate",children:e.name||"Khách hàng"}),h.jsxs("p",{className:"text-sm text-gray-500",children:["Tên khách hàng: ",je?.name||"Chưa có thông tin"]})]})]}),h.jsx("div",{className:"flex flex-wrap gap-2 pt-3 border-t border-gray-100",children:V?h.jsxs("div",{className:"flex items-center gap-2 flex-wrap w-full",children:[h.jsxs("span",{className:"text-sm text-gray-600",children:["Đã chọn: ",L.length,"/",n.length]}),h.jsxs("div",{className:"flex gap-2 ml-auto",children:[h.jsx("button",{onClick:J,className:"px-3 py-1.5 bg-blue-100 text-blue-700 hover:bg-blue-200 rounded text-sm transition-colors",children:L.length===n.length?"Bỏ chọn tất cả":"Chọn tất cả"}),h.jsxs("button",{onClick:he,disabled:L.length===0,className:"px-3 py-1.5 bg-red-500 text-white hover:bg-red-600 rounded text-sm transition-colors disabled:opacity-50",children:["Xóa (",L.length,")"]}),h.jsx("button",{onClick:be,className:"px-3 py-1.5 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded text-sm transition-colors",children:"Hủy"})]})]}):h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>q("manual"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${B==="manual"?"bg-yellow-500 text-white":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"}`,children:"Thủ công"}),h.jsx("button",{onClick:()=>P("bot"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${B==="bot"?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:"Bot"}),h.jsx("button",{onClick:()=>te(!0),disabled:n.length===0,className:"px-3 py-1.5 rounded text-sm font-medium transition-colors bg-red-100 text-red-700 hover:bg-red-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Xóa tin nhắn"}),h.jsx("button",{onClick:()=>{window.confirm("Bạn có chắc chắn đã tiếp nhận xong thông tin khách hàng này chưa?")&&O&&O(e.session_id)},disabled:n.length===0,className:"px-3 py-1.5 rounded text-sm font-medium transition-colors bg-blue-100 text-blue-700 hover:bg-blue-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Tiếp nhận"})]})}),B==="manual"&&h.jsx(aH,{onClose:()=>q(null),onConfirm:P})]})}),V&&h.jsx("div",{className:"bg-red-50 border-b border-red-200 p-2",children:h.jsx("p",{className:"text-sm text-red-700 text-center",children:"Chế độ xóa tin nhắn - Nhấp vào tin nhắn để chọn"})}),h.jsxs("main",{ref:M,className:"flex-1 overflow-y-auto bg-gray-50 p-4",children:[w&&h.jsxs("div",{className:"flex justify-center py-2 mb-4",children:[h.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),h.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Đang tải thêm tin nhắn..."})]}),s?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-600 border-t-transparent mx-auto mb-3"}),h.jsx("span",{className:"text-gray-600 text-sm",children:"Đang tải tin nhắn..."})]})}):n.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 p-8",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-2xl",children:"💬"})}),h.jsx("h4",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Chưa có tin nhắn nào"}),h.jsx("p",{className:"text-gray-500 text-center text-sm",children:"Bắt đầu cuộc trò chuyện bằng cách gửi tin nhắn đầu tiên"})]}):h.jsxs("div",{className:"space-y-3 max-w-4xl mx-auto",children:[n.map(ae=>h.jsx("div",{className:`flex ${ae.sender_type==="admin"||ae.sender_type==="bot"?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:"flex items-end gap-2 max-w-xs sm:max-w-md lg:max-w-lg",children:[ae.sender_type!=="admin"&&h.jsx("div",{className:"w-8 h-8 bg-gray-400 rounded-lg flex items-center justify-center text-sm font-medium flex-shrink-0 text-white",children:"👤"}),h.jsxs("div",{className:`relative px-3 py-2 rounded-lg transition-colors ${ae.sender_type==="admin"?"bg-blue-500 text-white":"bg-white text-gray-800 border border-gray-200"} ${V?"cursor-pointer hover:ring-2 hover:ring-red-300":""} ${L.includes(ae.id)?"ring-2 ring-red-500 bg-red-50 border-red-500":""}`,onClick:()=>V&&$(ae.id),children:[V&&h.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-white border border-red-500 rounded flex items-center justify-center",children:L.includes(ae.id)?h.jsx("span",{className:"text-red-500 text-xs",children:"✓"}):h.jsx("span",{className:"text-gray-400 text-xs",children:"○"})}),h.jsx("p",{className:`text-xs mb-1 ${L.includes(ae.id)?"text-red-600":ae.sender_type==="admin"?"text-blue-100":"text-gray-500"}`,children:ae.sender_type==="admin"?"Admin":ae.sender_type==="bot"?"Bot":"Khách hàng"}),ae.image&&ae.image.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:ae.image.map((Q,me)=>h.jsx("img",{src:Q,alt:`msg-img-${me}`,className:"w-32 h-32 object-cover rounded border cursor-pointer",onClick:()=>ue(Q),onError:pe=>{pe.target.style.display="none"}},me))}),(()=>{if(ae.sender_type==="bot"&&ae.content)try{const Q=JSON.parse(ae.content);return h.jsxs(h.Fragment,{children:[h.jsx("p",{className:`text-sm break-words whitespace-pre-line ${L.includes(ae.id)?"text-red-800":"text-gray-800"}`,children:Q.message}),Q.links&&Q.links.length>0&&h.jsx("div",{className:"mt-2 space-y-1.5",children:Q.links.map((me,pe)=>h.jsxs("a",{href:me,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors text-xs text-blue-600 hover:text-blue-700 border border-blue-200",children:[h.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),h.jsx("span",{className:"truncate font-medium",children:me})]},pe))})]})}catch{return h.jsx("p",{className:`text-sm break-words ${L.includes(ae.id)?"text-red-800":"text-gray-800"}`,children:ae.content})}return h.jsx("p",{className:`text-sm break-words whitespace-pre-line ${L.includes(ae.id)?"text-red-800":ae.sender_type==="admin"?"text-white":"text-gray-800"}`,children:ae.content})})(),h.jsx("p",{className:`text-xs mt-1 ${L.includes(ae.id)?"text-red-600":ae.sender_type==="admin"?"text-blue-100":"text-gray-500"}`,children:c(ae.created_at)})]}),ae.sender_type==="admin"&&h.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center text-sm font-medium text-white flex-shrink-0",children:"👨‍💼"})]})},ae.id)),h.jsx("div",{ref:T})]})]}),h.jsxs("footer",{className:"bg-white border-t border-gray-200 p-4",children:[d.length>0&&h.jsx("div",{className:"max-w-4xl mx-auto mb-3 flex gap-2 flex-wrap",children:d.map((ae,Q)=>h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:ae,alt:`Preview ${Q}`,className:"w-16 h-16 object-cover rounded border border-gray-300 cursor-pointer",onClick:()=>ue(ae)}),h.jsx("button",{onClick:()=>Ee(Q),className:"absolute -top-1 -right-1 w-5 h-5 rounded bg-red-500 flex items-center justify-center text-white hover:bg-red-600",type:"button",children:h.jsx(On,{className:"w-3 h-3"})})]},Q))}),h.jsxs("div",{className:"flex gap-2 max-w-4xl mx-auto items-end",children:[h.jsx("div",{className:"flex-1",children:h.jsx("textarea",{ref:D,value:r,onChange:de,onKeyDown:X,placeholder:"Nhập tin nhắn... (Shift+Enter để xuống dòng)",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white placeholder-gray-500 text-sm resize-none min-h-[42px] max-h-32 overflow-y-auto",disabled:s||V,rows:1,style:{height:"auto",minHeight:"42px"}})}),h.jsx("input",{type:"file",accept:"image/*",ref:_,onChange:Oe,multiple:!0,className:"hidden"}),h.jsx("button",{type:"button",onClick:()=>_.current?.click(),className:"px-3 py-2 bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors",disabled:V,children:h.jsx(VU,{className:"w-5 h-5"})}),h.jsx("button",{onClick:ve,disabled:s||!r.trim()&&d.length===0||V,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h.jsx("span",{className:"text-sm",children:"Gửi"})})]}),oe&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-6",onClick:()=>ue(null),children:h.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[h.jsx("img",{src:oe,alt:"Zoom",className:"max-w-[90vw] max-h-[90vh] object-contain rounded-lg shadow-xl",onClick:ae=>ae.stopPropagation()}),h.jsx("button",{className:"absolute top-4 right-4 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors",onClick:()=>ue(null),children:h.jsx(On,{className:"w-5 h-5 text-gray-700"})})]})})]})]})};function lH({endTime:e}){const t=()=>{const i=new Date(e)-new Date;let a={};return i>0?a={hours:Math.floor(i/36e5%24),minutes:Math.floor(i/1e3/60%60),seconds:Math.floor(i/1e3%60)}:a=null,a},[n,r]=j.useState(t());return j.useEffect(()=>{const i=setInterval(()=>{r(t())},1e3);return()=>clearInterval(i)},[e]),n?h.jsxs("span",{className:"text-sm text-gray-600 shadow-sm",children:[n.hours,":",n.minutes,":",n.seconds]}):h.jsx("span",{className:"text-red-500",children:"Hết hạn"})}const cH=({selectedConversation:e})=>{console.log("RightPanel",e),console.log("-------------------------"),j.useEffect(()=>{console.log("📡 RightPanel - selectedConversation changed:",e),e?.customer_data?console.log("✅ Customer data found:",e.customer_data):console.log("❌ No customer data")},[e.customer_data]),e.sender_name!=null?e.sender_name:e.sender_type;let t={};try{e?.customer_data&&(typeof e.customer_data=="string"?t=JSON.parse(e.customer_data):t=e.customer_data)}catch(n){console.error("❌ Lỗi xử lý customer_data:",n),t={}}return h.jsx("div",{className:"w-full lg:w-80 bg-white border-l border-gray-200 overflow-y-auto h-full max-w-sm lg:max-w-none",children:h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsx("div",{className:"border-b border-gray-100 pb-3",children:h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-9 h-9 bg-blue-500 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-white"})}),h.jsx("h3",{className:"font-semibold text-gray-900",children:"Thông tin chi tiết"})]})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("span",{children:"🔗"}),h.jsx("h4",{className:"font-medium text-gray-800",children:"Nguồn tin nhắn"})]}),h.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600 mb-1",children:"URL nguồn liên hệ:"}),h.jsx("p",{className:"text-xs text-gray-500 bg-white px-2 lg:px-3 py-1 lg:py-2 rounded-lg border break-all font-mono",children:e?.url_channel})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nền tảng:"}),h.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm font-medium",children:e.channel||"N/A"})]})]})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("span",{children:"👤"}),h.jsx("h4",{className:"font-medium text-gray-800",children:"Thông tin nhân viên"})]}),h.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Tiếp nhận hiện tại:"}),h.jsx("p",{className:"font-medium text-gray-900 bg-white px-3 py-2 rounded border text-sm",children:e?.current_receiver||"Bot"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Tiếp nhận trước đó:"}),h.jsx("p",{className:"text-sm text-gray-500 bg-white px-3 py-2 rounded border italic",children:e?.previous_receiver||"Không có"})]}),h.jsx("div",{className:"space-y-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Trạng thái:"}),h.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium ${e.status==="true"?"bg-green-100 text-green-700 border border-green-200":"bg-yellow-100 text-yellow-700 border border-yellow-200"}`,children:[h.jsx("div",{className:`w-2 h-2 rounded-full ${e.status==="true"?"bg-green-500":"bg-yellow-500"}`}),e.status==="true"?"Tự động":"Thủ công"]}),e.status==="false"&&e.time&&h.jsx("div",{className:"text-center",children:h.jsx("div",{className:"text-lg font-mono font-bold text-yellow-900",children:h.jsx(lH,{endTime:e.time})})})]})})]})})]}),h.jsx("div",{children:h.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2 lg:mb-3",children:[h.jsx("span",{className:"text-base lg:text-lg",children:"📋"}),h.jsx("h4",{className:"font-semibold text-gray-800 text-sm lg:text-base",children:"Thông tin khách hàng"})]}),h.jsx("div",{className:"space-y-3 lg:space-y-4",children:t&&Object.keys(t).length>0?Object.entries(t).map(([n,r])=>h.jsxs("div",{children:[h.jsxs("label",{className:"block text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wide",children:[n,":"]}),h.jsx("div",{className:`px-3 lg:px-4 py-2 lg:py-3 rounded-xl font-semibold border shadow-sm text-xs lg:text-sm
                                                         "bg-gray-100 text-gray-800 border-gray-300"
                                                }`,children:r||"Chưa cung cấp"})]},n)):h.jsx("div",{className:"px-3 lg:px-4 py-2 lg:py-3 rounded-xl font-semibold border border-gray-300 text-gray-500 text-xs lg:text-sm shadow-sm",children:"Chưa có thông tin"})})]})})]})})},cC=()=>{const[e,t]=j.useState([]),[n,r]=j.useState(null),[i,a]=j.useState([]),[s,c]=j.useState(""),[u,d]=j.useState([]),[p,m]=j.useState(!1),[y,v]=j.useState(null),[b,w]=j.useState(1),[S,k]=j.useState(!0),[E,O]=j.useState(!1),[_,T]=j.useState(!0),[M,D]=j.useState(new Set),[B,q]=j.useState(!1),[L,K]=j.useState(!1),[V,te]=j.useState(!1),[oe,ue]=j.useState(!1),$=j.useRef(null),[J,he]=j.useState([]);j.useEffect(()=>{console.log("🏷️ Tags state updated:",J)},[J]);const be=ne=>{if(!ne)return"";const fe=new Date,ye=new Date(ne),ke=Math.floor((fe-ye)/(1e3*60));if(ke<1)return"Vừa xong";if(ke<60)return`${ke} phút trước`;const Ve=Math.floor(ke/60);return Ve<24?`${Ve} giờ trước`:`${Math.floor(Ve/24)} ngày trước`},P=ne=>ne?new Date(ne).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}):"";j.useEffect(()=>{const ne=()=>{const fe=window.innerWidth<1024;K(fe),fe||(te(!1),ue(!1))};return ne(),window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]);const X=()=>{te(!V),!V&&L&&ue(!1)},Z=()=>{te(!1)},de=()=>{ue(!oe),!oe&&L&&te(!1)},ve=()=>{ue(!1)},Oe=async ne=>{await me(ne),console.log("🔍 DEBUG: Chọn conversation:",ne.session_id),L&&(te(!1),ue(!1))},Ee=async ne=>{if(console.log("🗑️ Xử lý thông báo cho conversation:",ne),M.has(ne))try{const{updateAlertStatus:fe}=await pb(async()=>{const{updateAlertStatus:ye}=await Promise.resolve().then(()=>hb);return{updateAlertStatus:ye}},void 0);await fe(ne,!1),D(ye=>{const ke=new Set(ye);return ke.delete(ne),console.log("🔔 customerInfoNotifications sau khi xử lý:",ke),q(ke.size>0),ke}),t(ye=>ye.map(ke=>ke.session_id===ne?{...ke,hasNewInfo:!1,alert:"false"}:ke)),console.log("✅ Đã xử lý thông báo thành công cho conversation:",ne)}catch(fe){console.error("❌ Lỗi khi cập nhật alert status:",fe),alert("Có lỗi xảy ra khi xử lý thông báo!")}},je=ne=>{console.log("📝 Updating messages:",ne.length),a(ne),n&&t(fe=>fe.map(ye=>ye.session_id===n.session_id?{...ye,messageCount:ne.length}:ye))},ae=ne=>{console.log("📋 Updating conversations:",ne.length),t(ne)};j.useEffect(()=>{const ne=async()=>{try{m(!0);const ye=await tw();t(Array.isArray(ye)?ye:[]);const ke=ye.filter(pt=>pt.alert==="true"||pt.alert===!0),Ve=new Set(ke.map(pt=>pt.session_id));D(Ve),q(Ve.size>0),console.log("🔔 Loaded conversations with alerts:",Ve)}catch{v("Không thể tải danh sách cuộc trò chuyện")}finally{m(!1)}},fe=async()=>{try{const ye=await getTag();he(Array.isArray(ye)?ye:[])}catch(ye){console.error("❌ Error loading tags:",ye),he([])}};ne(),fe()},[]),j.useEffect(()=>(zD(ne=>{if(console.log("🔍 DEBUG: Nhận message từ WebSocket:",{type:ne.type,chat_session_id:ne.chat_session_id,content:ne.content,customer_data:!!ne.customer_data}),ne.type==="customer_info_update"){D(fe=>{const ye=new Set([...fe,ne.chat_session_id]);return console.log("🔔 Updated customerInfoNotifications:",ye),ye}),q(!0),t(fe=>fe.find(ke=>ke.session_id===ne.chat_session_id)?fe.map(ke=>ke.session_id===ne.chat_session_id?{...ke,customer_data:ne.customer_data,alert:"true",hasNewInfo:!0}:ke):(console.log("ℹ️ Conversation mới - thêm vào danh sách"),[{session_id:ne.chat_session_id,customer_data:ne.customer_data,alert:"true",hasNewInfo:!0,created_at:new Date,name:ne.session_name||"Khách hàng mới",status:"false",platform:ne.platform||"web"},...fe]));return}t(fe=>{let ye=!1,ke=fe.map(pt=>pt.session_id===ne.chat_session_id?(ye=!0,ne.customer_data&&!ne.content?(console.log("📝 Cập nhật customer_data cho conversation:",ne.chat_session_id),{...pt,customer_data:ne.customer_data}):(console.log("💬 Cập nhật tin nhắn thông thường cho conversation:",ne.chat_session_id),{...pt,content:ne.content||fe.content,created_at:new Date||fe.created_at,sender_type:ne.sender_type||fe.sender_type,status:ne.session_status,current_receiver:ne.current_receiver,previous_receiver:ne.previous_receiver,time:ne.time,image:ne.image||[]})):pt);return ye||(ke=[{session_id:ne.chat_session_id,content:ne.content,created_at:new Date,name:ne.session_name,status:ne.session_status,platform:ne.platform||"web"},...ke]),ke.sort((pt,Mn)=>new Date(Mn.updatedAt||Mn.created_at)-new Date(pt.updatedAt||pt.created_at))}),ne.content&&a(fe=>$.current?.session_id!==ne.chat_session_id?(console.log(`⚠️ Bỏ qua message cho conversation ${ne.chat_session_id}, đang xem ${$.current?.session_id}`),fe):fe.slice(-3).some(Ve=>{if(Ve.content!==ne.content||Ve.sender_type!==ne.sender_type)return!1;const pt=new Date(Ve.created_at).getTime(),Mn=new Date(ne.created_at).getTime();return Math.abs(pt-Mn)<2e3})?(console.log("⚠️ Bỏ qua tin nhắn duplicate:",ne.content?.substring(0,30)),fe):(console.log(`✅ Thêm message vào conversation ${ne.chat_session_id}`),T(!0),[...fe,ne]))}),()=>UD()),[]),j.useEffect(()=>{$.current=n},[n]),j.useEffect(()=>{if(n){const ne=e.find(fe=>fe.session_id===n.session_id);ne&&r(ne)}},[e]);const Q=async(ne,fe)=>{console.log("🏷️ Toggling tag:",fe,"for conversation:",ne);try{let ye=ne.tag_names||[],ke=ne.tag_ids||[];ye.includes(fe.name)?(ke=ke.filter(Mn=>Mn!==fe.id),ye=ye.filter(Mn=>Mn!==fe.name)):(ke=[...ke,fe.id],ye=[...ye,fe.name]);const Ve={tags:ke};await VD(ne.session_id,Ve)&&(t(Mn=>Mn.map(ys=>ys.session_id===ne.session_id?{...ys,tag_ids:ke,tag_names:ye}:ys)),n?.session_id===ne.session_id&&r(Mn=>({...Mn,tag_ids:ke,tag_names:ye})),console.log("✅ Đã cập nhật tags:",ye))}catch(ye){console.error("❌ Lỗi khi gắn/xóa tag:",ye),alert("Có lỗi xảy ra khi gắn/xóa tag!")}},me=async ne=>{try{console.log("🔍 Selecting conversation:",ne),r(ne),m(!0),v(null);const fe=ne.session_id;if(!fe)return;a([]),d([]),c(""),w(1),k(!0),O(!1);const ye=await Gh(fe,1,10);a(Array.isArray(ye)?ye:[]),Array.isArray(ye)&&k(ye.length===10),T(!0),console.log("✅ Loaded messages for conversation:",ye.length)}catch(fe){v("Không thể tải lịch sử chat"),console.error("Error selecting conversation:",fe)}finally{m(!1)}},pe=async()=>{if(!s.trim())return;const ne={id:Date.now(),content:s.trim(),image:[...u],sender_type:"admin",created_at:new Date};a(ke=>[...ke,ne]),T(!0);const fe=s.trim(),ye=u;c(""),d([]);try{await ew(n.session_id,"admin",fe,!0,ye)}catch(ke){a(Ve=>Ve.filter(pt=>pt.id!==ne.id)),v("Không thể gửi tin nhắn"),console.error("Error sending message:",ke),c(fe),d(ye)}},se=async ne=>{try{console.log("🗑️ Deleting conversations:",ne);const{deleteSessionChat:fe}=await pb(async()=>{const{deleteSessionChat:ye}=await Promise.resolve().then(()=>hb);return{deleteSessionChat:ye}},void 0);await fe(ne),t(ye=>ye.filter(ke=>!ne.includes(ke.session_id||ke.id))),n&&ne.includes(n.session_id||n.id)&&(r(null),a([])),console.log("✅ Deleted conversations successfully")}catch(fe){throw console.error("❌ Error deleting conversations:",fe),fe}};return h.jsxs("div",{className:"flex h-screen bg-gray-50 relative",children:[y&&h.jsxs("div",{className:"fixed top-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded z-50 shadow-lg max-w-xs",children:[h.jsx("div",{className:"text-sm",children:y}),h.jsx("button",{onClick:()=>v(null),className:"ml-2 text-red-500 hover:text-red-700",children:h.jsx(On,{size:16})})]}),L&&h.jsxs(h.Fragment,{children:[!V&&h.jsx("div",{className:"fixed top-4 left-4 z-50",children:h.jsx("button",{onClick:X,className:"p-3 rounded-lg bg-white shadow-md hover:bg-gray-50 transition-colors border border-gray-200","aria-label":"Mở danh sách",children:h.jsx(Z1,{size:20,className:"text-gray-700"})})}),n&&h.jsx("div",{className:"fixed top-4 right-4 z-50",children:h.jsx("button",{onClick:de,className:"p-3 rounded-lg bg-white shadow-md hover:bg-gray-50 transition-colors border border-gray-200","aria-label":oe?"Đóng thông tin":"Xem thông tin",children:oe?h.jsx(On,{size:20,className:"text-gray-700"}):h.jsx(WU,{size:20,className:"text-gray-700"})})})]}),L&&(V||oe)&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>{te(!1),ue(!1)}}),h.jsx("div",{className:`
                    ${L?"fixed inset-y-0 left-0 z-40 transform transition-transform duration-300 ease-in-out":"relative"}
                    ${L&&!V?"-translate-x-full":"translate-x-0"}
                    ${L?"w-80 max-w-[85vw]":"w-auto"}
                `,children:h.jsx(iH,{conversations:e,selectedConversation:n,onSelectConversation:Oe,formatTime:be,getPlatformIcon:()=>null,getStatusColor:()=>"gray",getStatusText:()=>"",isLoading:p,tags:J,onTagSelect:Q,onDeleteConversations:se,isMobile:L,isOpen:L?V:!0,onClose:Z,customerInfoNotifications:M,hasNewCustomerInfo:B})}),h.jsx("div",{className:`flex-1 min-w-0 ${L?"w-full":""}`,children:h.jsx(oH,{selectedConversation:n,onUpdateConversation:r,messages:i,input:s,setInput:c,imagePreview:u,setImagePreview:d,onSendMessage:pe,isLoading:p,formatMessageTime:P,onMessagesUpdate:je,onConversationsUpdate:ae,isMobile:L,page:b,setPage:w,hasMoreMessages:S,setHasMoreMessages:k,isLoadingMore:E,setIsLoadingMore:O,shouldScrollToBottom:_,setShouldScrollToBottom:T,onProcessCustomerNotification:Ee})}),n&&h.jsx("div",{className:`
                        ${L?"fixed inset-y-0 right-0 z-40 transform transition-transform duration-300 ease-in-out":"relative"}
                        ${L&&!oe?"translate-x-full":"translate-x-0"}
                        ${L?"w-80 max-w-[85vw]":"w-auto"}
                    `,children:h.jsx(cH,{selectedConversation:n,isMobile:L,isOpen:L?oe:!0,onClose:ve})})]})};var YD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},uC=En.createContext&&En.createContext(YD),uH=["attr","size","title"];function dH(e,t){if(e==null)return{};var n=fH(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fH(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yh.apply(this,arguments)}function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(n),!0).forEach(function(r){hH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hH(e,t,n){return t=pH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pH(e){var t=mH(e,"string");return typeof t=="symbol"?t:t+""}function mH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XD(e){return e&&e.map((t,n)=>En.createElement(t.tag,Xh({key:n},t.attr),XD(t.child)))}function Yl(e){return t=>En.createElement(gH,Yh({attr:Xh({},e.attr)},t),XD(e.child))}function gH(e){var t=n=>{var{attr:r,size:i,title:a}=e,s=dH(e,uH),c=i||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),En.createElement("svg",Yh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:Xh(Xh({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&En.createElement("title",null,a),e.children)};return uC!==void 0?En.createElement(uC.Consumer,null,n=>t(n)):t(YD)}function yH(e){return Yl({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{opacity:"0.2",fillRule:"evenodd",clipRule:"evenodd",d:"M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z",fill:"currentColor"},child:[]}]})(e)}function mb(e){return Yl({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function fC(e){return Yl({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function vH(e){return Yl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function xH(e){return Yl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function bH(e){return Yl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}const wH=({data:e,onEdit:t,onView:n,permissionsMap:r})=>{console.log("UserTable data:",e);const i=a=>{switch(a?.toLowerCase()){case"root":return{label:"Siêu quản trị",color:"bg-purple-100 text-purple-700 border-purple-200"};case"superadmin":return{label:"Quản trị cấp cao",color:"bg-red-100 text-red-700 border-red-200"};case"admin":return{label:"Quản trị viên",color:"bg-blue-100 text-blue-700 border-blue-200"};case"user":return{label:"Nhân viên",color:"bg-gray-100 text-gray-700 border-gray-200"};default:return{label:a||"Không xác định",color:"bg-gray-100 text-gray-700 border-gray-200"}}};return h.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[h.jsx("div",{className:"hidden sm:block bg-gray-50 p-3 sm:p-4 border-b border-gray-200",children:h.jsx("div",{className:"flex items-center gap-3",children:h.jsxs("div",{children:[h.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Danh sách người dùng"}),h.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Quản lý thành viên trong hệ thống"})]})})}),h.jsx("div",{className:"hidden lg:block overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-700",children:"Người dùng"}),h.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-700",children:"Liên hệ"}),h.jsx("th",{className:"py-3 px-4 text-center text-sm font-medium text-gray-700",children:"Vai trò"}),h.jsx("th",{className:"py-3 px-4 text-center text-sm font-medium text-gray-700",children:"Trạng thái"}),h.jsx("th",{className:"py-3 px-4 text-center text-sm font-medium text-gray-700",children:"Đăng nhập cuối"}),h.jsx("th",{className:"py-3 px-4 text-center text-sm font-medium text-gray-700",children:"Thao tác"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(a=>{const s=i(a.user.role),c=r[a.user.id]||{can_edit:!1,can_delete:!1};return console.log("User Permissions for",a.user.id,":",c),h.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[h.jsx("td",{className:"py-4 px-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-10 h-10 bg-gray-600 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-white font-medium text-sm",children:a.user.full_name?.charAt(0)?.toUpperCase()||"U"})}),a.user.is_active&&h.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 border border-white rounded-full"})]}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:a.user.full_name}),h.jsxs("p",{className:"text-sm text-gray-500 font-mono",children:["@",a.user.username]})]})]})}),h.jsx("td",{className:"py-4 px-4",children:h.jsx("span",{className:"text-sm text-gray-700 break-all",children:a.user.email})}),h.jsx("td",{className:"py-4 px-4 text-center",children:h.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-lg text-sm font-medium border ${s.color}`,children:s.label})}),h.jsx("td",{className:"py-4 px-4 text-center",children:a.user.is_active?h.jsx("span",{className:"bg-green-100 text-green-700 py-1 px-3 rounded-lg text-sm font-medium border border-green-200",children:"Hoạt động"}):h.jsx("span",{className:"bg-red-100 text-red-700 py-1 px-3 rounded-lg text-sm font-medium border border-red-200",children:"Không hoạt động"})}),h.jsx("td",{className:"py-4 px-4 text-center",children:h.jsx("div",{className:"text-sm text-gray-700",children:a.user.last_login?h.jsxs("div",{children:[h.jsx("div",{children:new Date(a.user.last_login).toLocaleDateString("vi-VN")}),h.jsx("div",{className:"text-xs text-gray-500",children:new Date(a.user.last_login).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]}):h.jsx("div",{className:"text-sm text-gray-500",children:"Chưa đăng nhập"})})}),h.jsx("td",{className:"py-4 px-4",children:h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("button",{onClick:()=>n(a),className:"p-2 bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-800 rounded-lg transition-colors",title:"Xem chi tiết",children:h.jsx(fC,{className:"w-4 h-4"})}),c.can_edit&&h.jsx("button",{onClick:()=>t(a),className:"p-2 bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-800 rounded-lg transition-colors",title:"Chỉnh sửa",children:h.jsx(mb,{className:"w-4 h-4"})})]})})]},a.user.id)})})]})}),h.jsx("div",{className:"lg:hidden",children:h.jsx("div",{className:"divide-y divide-gray-200",children:e.map(a=>{const s=i(a.role),c=r[a.id]||{can_edit:!1};return h.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[h.jsxs("div",{className:"relative flex-shrink-0",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-white font-medium",children:a.user.full_name?.charAt(0)?.toUpperCase()||"U"})}),a.user.is_active&&h.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 border border-white rounded-full"})]}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("h3",{className:"font-semibold text-gray-900 text-base mb-1 truncate",children:a.user.full_name}),h.jsxs("p",{className:"text-sm text-gray-500 font-mono truncate",children:["@",a.user.username]})]})]}),h.jsxs("div",{className:"flex gap-2 flex-shrink-0 ml-2",children:[h.jsx("button",{onClick:()=>n(a),className:"p-2 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-lg transition-colors",title:"Xem chi tiết",children:h.jsx(fC,{className:"w-4 h-4"})}),c.can_edit&&h.jsx("button",{onClick:()=>t(a),className:"p-2 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-lg transition-colors",title:"Chỉnh sửa",children:h.jsx(mb,{className:"w-4 h-4"})})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"text-sm text-gray-700 break-all",children:[h.jsx("span",{className:"font-medium text-gray-900",children:"Email: "}),a.user.email]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[h.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium border ${s.color}`,children:s.label}),a.user.is_active?h.jsx("span",{className:"bg-green-100 text-green-700 py-1 px-2 rounded text-xs font-medium border border-green-200",children:"Hoạt động"}):h.jsx("span",{className:"bg-red-100 text-red-700 py-1 px-2 rounded text-xs font-medium border border-red-200",children:"Không hoạt động"})]}),a.user.last_login?h.jsxs("div",{className:"text-sm text-gray-600",children:[h.jsx("span",{className:"font-medium text-gray-900",children:"Đăng nhập cuối: "}),new Date(a.user.last_login).toLocaleDateString("vi-VN")," - ",new Date(a.user.last_login).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})]}):h.jsxs("div",{className:"text-sm text-gray-500",children:[h.jsx("span",{className:"font-medium text-gray-900",children:"Đăng nhập cuối: "}),"Chưa đăng nhập"]})]})]},a.user.id)})})}),e.length===0&&h.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[h.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-200 rounded-lg flex items-center justify-center mx-auto mb-4",children:h.jsx("span",{className:"text-xl sm:text-2xl text-gray-500",children:"👥"})}),h.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700 mb-2",children:"Chưa có người dùng nào"}),h.jsx("p",{className:"text-gray-500 text-sm sm:text-base mb-4",children:"Danh sách lọc của bạn không trả về kết quả nào."})]})]})},QD=({initialData:e,onSubmit:t,onCancel:n,availableRoles:r=[],isProfileMode:i=!1})=>{const a={root:"Siêu quản trị (Root)",superadmin:"Quản trị cấp cao",admin:"Quản trị viên",user:"Nhân viên",viewer:"Nhân viên (Xem)"},s=r.map(S=>({value:S,label:a[S]||S})),c=!!e,[u,d]=j.useState({full_name:e?.user.full_name||"",username:e?.user.username||"",email:e?.user.email||"",role:e?.user.role||(s.length>0?s[0].value:""),password:"",is_active:e?.user.is_active??!0}),[p,m]=j.useState(""),[y,v]=j.useState(!1);j.useEffect(()=>{e&&d({full_name:e?.user.full_name,username:e?.user.username,email:e?.user.email,role:e?.user.role,password:"",is_active:e?.user.is_active??!0})},[e]);const b=S=>{const{name:k,value:E,type:O,checked:_}=S.target;d({...u,[k]:O==="checkbox"?_:E})},w=async S=>{S.preventDefault(),m("");const k=["full_name","username","email"];i||k.push("role");const E=k.filter(O=>!u[O]);if(E.length>0){m(`Vui lòng điền các trường bắt buộc: ${E.join(", ")}`);return}if(!e&&!u.password){m("Mật khẩu là bắt buộc cho người dùng mới");return}v(!0);try{const O={...u};i&&delete O.role,await t(O)}catch(O){m(O.message||"Có lỗi xảy ra")}finally{v(!1)}};return h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm overflow-y-auto h-full w-full flex justify-center items-start sm:items-center z-50 p-2 sm:p-4",children:h.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl border border-gray-200 w-full max-w-xs sm:max-w-lg lg:max-w-2xl mt-4 sm:mt-0 max-h-[95vh] sm:max-h-[90vh] overflow-hidden shadow-xl",children:[h.jsx("div",{className:"bg-gray-600 p-4 sm:p-6 text-white",children:h.jsxs("div",{className:"flex items-start sm:items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center flex-shrink-0",children:h.jsx("span",{className:"text-lg sm:text-xl",children:"👤"})}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-1",children:i?"Cập nhật thông tin cá nhân":e?"Chỉnh sửa người dùng":"Tạo người dùng mới"}),h.jsx("p",{className:"text-gray-100 text-xs sm:text-sm",children:i?"Chỉnh sửa thông tin cá nhân của bạn":e?"Cập nhật thông tin người dùng":"Thêm thành viên mới vào hệ thống"})]})]})}),h.jsxs("div",{className:"p-3 sm:p-6 overflow-y-auto",style:{maxHeight:"calc(95vh - 180px)"},children:[p&&h.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-lg",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-red-500 flex-shrink-0",children:"⚠️"}),h.jsx("span",{className:"text-sm",children:p})]})}),h.jsxs("form",{onSubmit:w,className:"space-y-4 sm:space-y-5",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[h.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"Họ và tên *"}),h.jsx("input",{type:"text",name:"full_name",value:u.full_name,onChange:b,className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent",placeholder:"Nhập họ và tên...",required:!0})]}),h.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[h.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"Tên đăng nhập *"}),h.jsx("input",{type:"text",name:"username",value:u.username,onChange:b,className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent font-mono",placeholder:"Nhập tên đăng nhập...",required:!0,disabled:c})]}),h.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[h.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"Email *"}),h.jsx("input",{type:"email",name:"email",value:u.email,onChange:b,className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent",placeholder:"example@domain.com",required:!0})]}),!i&&h.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[h.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"Vai trò *"}),h.jsxs("select",{name:"role",value:u.role,onChange:b,className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent",required:!0,disabled:s.length===0&&!e?.user.role,children:[h.jsx("option",{value:"",children:"Chọn vai trò..."}),s.map(S=>h.jsx("option",{value:S.value,children:S.label},S.value)),c&&!s.some(S=>S.value===e.role)&&h.jsxs("option",{value:e.role,children:[a[e.role]||e.role," (Vai trò hiện tại)"]},e.role)]}),s.length===0&&!c&&h.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"⚠️ Bạn không có quyền gán bất kỳ vai trò nào."})]}),i&&h.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[h.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"Vai trò hiện tại"}),h.jsx("div",{className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-200 rounded-lg bg-gray-50",children:h.jsx("span",{className:`font-medium ${a[u.role]?u.role==="root"?"text-purple-600":u.role==="superadmin"?"text-red-600":u.role==="admin"?"text-blue-600":"text-gray-600":"text-gray-600"}`,children:a[u.role]||u.role})}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Bạn không thể thay đổi vai trò của chính mình."})]})]}),h.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[h.jsxs("label",{className:"block text-gray-700 font-medium text-sm",children:["Mật khẩu ",e?"":"*"]}),h.jsx("input",{type:"password",name:"password",value:u.password,onChange:b,className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent",placeholder:e?"Để trống để giữ mật khẩu hiện tại":"Nhập mật khẩu..."}),e&&h.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Để trống nếu không muốn thay đổi mật khẩu"})]}),h.jsx("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4 border border-gray-200",children:h.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-medium text-gray-800 text-sm sm:text-base",children:"Trạng thái hoạt động"}),h.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mt-1",children:"Cho phép người dùng đăng nhập và sử dụng hệ thống"})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[h.jsx("input",{type:"checkbox",name:"is_active",checked:u.is_active,onChange:b,className:"sr-only peer"}),h.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-gray-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-600"})]})]})})]})]}),h.jsx("div",{className:"p-3 sm:p-6 border-t border-gray-200 bg-gray-50",children:h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 justify-end",children:[h.jsx("button",{type:"button",onClick:n,className:"w-full sm:w-auto order-2 sm:order-1 px-4 py-2 text-sm sm:text-base text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Hủy"}),h.jsx("button",{type:"submit",onClick:w,disabled:y,className:"w-full sm:w-auto order-1 sm:order-2 px-4 sm:px-6 py-2 text-sm sm:text-base bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),h.jsx("span",{children:"Đang xử lý..."})]}):h.jsx(h.Fragment,{children:e?"Cập nhật":"Tạo mới"})})]})})]})})},SH=({user:e,onClose:t})=>{const n=r=>{if(!r)return"N/A";try{return new Date(r).toLocaleString()}catch{return r}};return h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm overflow-y-auto h-full w-full flex justify-center items-start sm:items-center z-50 p-2 sm:p-4",children:h.jsxs("div",{className:"max-w-sm sm:max-w-lg w-full mx-auto mt-4 sm:mt-0 p-4 sm:p-6 bg-white rounded-lg sm:rounded-2xl shadow-xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6 pb-3 border-b border-gray-200",children:[h.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"User Information"}),t&&h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl sm:text-xl p-1 hover:bg-gray-100 rounded-full transition-colors",children:"×"})]}),h.jsxs("div",{className:"space-y-4 sm:space-y-3",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-2",children:[h.jsx("span",{className:"font-semibold text-gray-700 text-sm sm:text-base",children:"ID:"}),h.jsxs("span",{className:"text-gray-900 text-sm sm:text-base font-mono",children:["#",e.user.id]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-2",children:[h.jsx("span",{className:"font-semibold text-gray-700 text-sm sm:text-base",children:"Full Name:"}),h.jsx("span",{className:"text-gray-900 text-sm sm:text-base font-medium sm:text-right break-words",children:e.user.full_name})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-2",children:[h.jsx("span",{className:"font-semibold text-gray-700 text-sm sm:text-base",children:"Username:"}),h.jsx("span",{className:"text-gray-900 text-sm sm:text-base font-mono break-all",children:e.user.username})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-2",children:[h.jsx("span",{className:"font-semibold text-gray-700 text-sm sm:text-base",children:"Email:"}),h.jsx("span",{className:"text-gray-900 text-sm sm:text-base break-all",children:e.user.email})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-2",children:[h.jsx("span",{className:"font-semibold text-gray-700 text-sm sm:text-base",children:"Role:"}),h.jsx("span",{className:"capitalize px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs sm:text-sm w-fit",children:e.user.role})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-2",children:[h.jsx("span",{className:"font-semibold text-gray-700 text-sm sm:text-base",children:"Company ID:"}),h.jsxs("span",{className:"text-gray-900 text-sm sm:text-base font-mono",children:["#",e.user.company_id]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-2",children:[h.jsx("span",{className:"font-semibold text-gray-700 text-sm sm:text-base",children:"Status:"}),h.jsx("span",{className:`px-2 py-1 rounded-full text-xs sm:text-sm w-fit ${e.user.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.user.is_active?"Active":"Inactive"})]}),h.jsx("div",{className:"border-t border-gray-200 pt-3 mt-4"}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-2",children:[h.jsx("span",{className:"font-semibold text-gray-700 text-sm sm:text-base",children:"Created:"}),h.jsx("span",{className:"text-gray-600 text-xs sm:text-sm font-mono break-words sm:text-right",children:n(e.user.created_at)})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-2",children:[h.jsx("span",{className:"font-semibold text-gray-700 text-sm sm:text-base",children:"Last Login:"}),h.jsx("span",{className:"text-gray-600 text-xs sm:text-sm font-mono break-words sm:text-right",children:n(e.user.last_login)})]})]}),h.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:h.jsx("button",{onClick:t,className:"w-full sm:w-auto sm:px-6 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors text-sm sm:text-base",children:"Close"})})]})})},NH=()=>{const{user:e}=ra(),[t,n]=j.useState([]),[r,i]=j.useState(!0),[a,s]=j.useState(""),[c,u]=j.useState(!1),[d,p]=j.useState(null),[m,y]=j.useState(null);j.useEffect(()=>{(async()=>{const O=await PD();n(O),i(!1)})()},[]);const v=j.useMemo(()=>t?t.filter(E=>E.permission.can_view):[],[t]),b=async E=>{const O=await T9({...E,company_id:e.company_id});n([...t,O]),u(!1)},w=async(E,O)=>{const _={...O,company_id:e.company_id};_.password===""&&delete _.password;const T=await RD(E,_);n(t.map(M=>M.user.id===E?T:M)),p(null),u(!1)},S=E=>{p(E),u(!0)},k=e?.abilities?.users?.can_create||!1;return h.jsxs("div",{className:"container mx-auto p-2 sm:p-4 lg:p-6 bg-gray-50 min-h-screen max-w-full",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[h.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-800 px-2 sm:px-0",children:"User Management"}),e?.role&&h.jsx("div",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:e.role.toUpperCase()})]}),h.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 sm:p-4 lg:p-6 mx-2 sm:mx-0",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-3 sm:gap-0",children:[h.jsxs("div",{className:"relative w-full sm:w-auto sm:min-w-[250px] lg:min-w-[300px]",children:[h.jsx("input",{type:"text",placeholder:"Tìm kiếm người dùng...",className:"w-full pl-10 pr-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:a,onChange:E=>s(E.target.value)}),h.jsx(xH,{className:"absolute left-3 top-2.5 sm:top-3 text-gray-400 text-sm sm:text-base"})]}),k&&h.jsxs("button",{onClick:()=>{p(null),u(!0)},className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg flex items-center justify-center sm:justify-start transition-colors text-sm sm:text-base",children:[h.jsx(vH,{className:"mr-2 text-sm sm:text-base"}),h.jsx("span",{className:"sm:inline",children:"Tạo người dùng mới"})]})]}),!k&&h.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:h.jsxs("p",{className:"text-yellow-800 text-sm",children:[h.jsx("strong",{children:"Chế độ xem:"})," Bạn chỉ có quyền xem danh sách người dùng, không thể tạo mới hoặc chỉnh sửa."]})}),h.jsx("div",{className:"overflow-x-auto -mx-3 sm:-mx-4 lg:-mx-6",children:h.jsx("div",{className:"inline-block min-w-full align-middle px-3 sm:px-4 lg:px-6",children:r?h.jsx("div",{className:"flex justify-center items-center h-32 sm:h-48",children:h.jsx(yH,{className:"animate-spin text-xl sm:text-2xl text-blue-600"})}):h.jsx(wH,{data:v,onEdit:S,onView:E=>y(E),permissionsMap:Object.fromEntries(t.map(E=>[E.user.id,E.permission]))})})}),m&&h.jsx(SH,{user:m,onClose:()=>y(null)}),c&&h.jsx(QD,{initialData:d,onSubmit:E=>d?w(d.user.id,E):b(E),onCancel:()=>{u(!1),p(null)},availableRoles:e?.abilities?.users?.avalilable_roles||[]})]})]})};var Gy={exports:{}},Yy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC;function jH(){if(hC)return Yy;hC=1;var e=ql();function t(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function c(m,y){var v=y(),b=r({inst:{value:v,getSnapshot:y}}),w=b[0].inst,S=b[1];return a(function(){w.value=v,w.getSnapshot=y,u(w)&&S({inst:w})},[m,v,y]),i(function(){return u(w)&&S({inst:w}),m(function(){u(w)&&S({inst:w})})},[m]),s(v),v}function u(m){var y=m.getSnapshot;m=m.value;try{var v=y();return!n(m,v)}catch{return!0}}function d(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Yy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Yy}var pC;function ZD(){return pC||(pC=1,Gy.exports=jH()),Gy.exports}var JD=ZD();function hn(e){this.content=e}hn.prototype={constructor:hn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),a=r.content.slice();return i==-1?a.push(n||e,t):(a[i+1]=t,n&&(a[i]=n)),new hn(a)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new hn(n)},addToStart:function(e,t){return new hn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new hn(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),a=r.find(e);return i.splice(a==-1?i.length:a,0,t,n),new hn(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=hn.from(e),e.size?new hn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=hn.from(e),e.size?new hn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=hn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};hn.from=function(e){if(e instanceof hn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new hn(t)};function e3(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),a=t.child(r);if(i==a){n+=i.nodeSize;continue}if(!i.sameMarkup(a))return n;if(i.isText&&i.text!=a.text){for(let s=0;i.text[s]==a.text[s];s++)n++;return n}if(i.content.size||a.content.size){let s=e3(i.content,a.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function t3(e,t,n,r){for(let i=e.childCount,a=t.childCount;;){if(i==0||a==0)return i==a?null:{a:n,b:r};let s=e.child(--i),c=t.child(--a),u=s.nodeSize;if(s==c){n-=u,r-=u;continue}if(!s.sameMarkup(c))return{a:n,b:r};if(s.isText&&s.text!=c.text){let d=0,p=Math.min(s.text.length,c.text.length);for(;d<p&&s.text[s.text.length-d-1]==c.text[c.text.length-d-1];)d++,n--,r--;return{a:n,b:r}}if(s.content.size||c.content.size){let d=t3(s.content,c.content,n-1,r-1);if(d)return d}n-=u,r-=u}}class le{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,a){for(let s=0,c=0;c<n;s++){let u=this.content[s],d=c+u.nodeSize;if(d>t&&r(u,i+c,a||null,s)!==!1&&u.content.size){let p=c+1;u.nodesBetween(Math.max(0,t-p),Math.min(u.content.size,n-p),r,i+p)}c=d}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let a="",s=!0;return this.nodesBetween(t,n,(c,u)=>{let d=c.isText?c.text.slice(Math.max(t,u)-u,n-u):c.isLeaf?i?typeof i=="function"?i(c):i:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&d||c.isTextblock)&&r&&(s?s=!1:a+=r),a+=d},0),a}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),a=1);a<t.content.length;a++)i.push(t.content[a]);return new le(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let a=0,s=0;s<n;a++){let c=this.content[a],u=s+c.nodeSize;u>t&&((s<t||u>n)&&(c.isText?c=c.cut(Math.max(0,t-s),Math.min(c.text.length,n-s)):c=c.cut(Math.max(0,t-s-1),Math.min(c.content.size,n-s-1))),r.push(c),i+=c.nodeSize),s=u}return new le(r,i)}cutByIndex(t,n){return t==n?le.empty:t==0&&n==this.content.length?this:new le(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),a=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new le(i,a)}addToStart(t){return new le([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new le(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return e3(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return t3(this,t,n,r)}findIndex(t){if(t==0)return eh(0,t);if(t==this.size)return eh(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),a=r+i.nodeSize;if(a>=t)return a==t?eh(n+1,a):eh(n,r);r=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return le.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new le(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return le.empty;let n,r=0;for(let i=0;i<t.length;i++){let a=t[i];r+=a.nodeSize,i&&a.isText&&t[i-1].sameMarkup(a)?(n||(n=t.slice(0,i)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new le(n||t,r)}static from(t){if(!t)return le.empty;if(t instanceof le)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new le([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}le.empty=new le([],0);const Xy={index:0,offset:0};function eh(e,t){return Xy.index=e,Xy.offset=t,Xy}function Qh(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Qh(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Qh(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let ot=class gb{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let a=t[i];if(this.eq(a))return t;if(this.type.excludes(a.type))n||(n=t.slice(0,i));else{if(a.type.excludes(this.type))return t;!r&&a.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(a)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Qh(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return gb.none;if(t instanceof gb)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};ot.none=[];class Zh extends Error{}class ge{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=r3(this.content,t+this.openStart,n);return r&&new ge(r,this.openStart,this.openEnd)}removeBetween(t,n){return new ge(n3(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return ge.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ge(le.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let a=t.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)r++;for(let a=t.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)i++;return new ge(t,r,i)}}ge.empty=new ge(le.empty,0,0);function n3(e,t,n){let{index:r,offset:i}=e.findIndex(t),a=e.maybeChild(r),{index:s,offset:c}=e.findIndex(n);if(i==t||a.isText){if(c!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,a.copy(n3(a.content,t-i-1,n-i-1)))}function r3(e,t,n,r){let{index:i,offset:a}=e.findIndex(t),s=e.maybeChild(i);if(a==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let c=r3(s.content,t-a-1,n,s);return c&&e.replaceChild(i,s.copy(c))}function kH(e,t,n){if(n.openStart>e.depth)throw new Zh("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Zh("Inconsistent open depths");return i3(e,t,n,0)}function i3(e,t,n,r){let i=e.index(r),a=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let s=i3(e,t,n,r+1);return a.copy(a.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let s=e.parent,c=s.content;return Js(s,c.cut(0,e.parentOffset).append(n.content).append(c.cut(t.parentOffset)))}else{let{start:s,end:c}=EH(n,e);return Js(a,s3(e,s,c,t,r))}else return Js(a,Jh(e,t,r))}function a3(e,t){if(!t.type.compatibleContent(e.type))throw new Zh("Cannot join "+t.type.name+" onto "+e.type.name)}function yb(e,t,n){let r=e.node(n);return a3(r,t.node(n)),r}function Zs(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function ju(e,t,n,r){let i=(t||e).node(n),a=0,s=t?t.index(n):i.childCount;e&&(a=e.index(n),e.depth>n?a++:e.textOffset&&(Zs(e.nodeAfter,r),a++));for(let c=a;c<s;c++)Zs(i.child(c),r);t&&t.depth==n&&t.textOffset&&Zs(t.nodeBefore,r)}function Js(e,t){return e.type.checkContent(t),e.copy(t)}function s3(e,t,n,r,i){let a=e.depth>i&&yb(e,t,i+1),s=r.depth>i&&yb(n,r,i+1),c=[];return ju(null,e,i,c),a&&s&&t.index(i)==n.index(i)?(a3(a,s),Zs(Js(a,s3(e,t,n,r,i+1)),c)):(a&&Zs(Js(a,Jh(e,t,i+1)),c),ju(t,n,i,c),s&&Zs(Js(s,Jh(n,r,i+1)),c)),ju(r,null,i,c),new le(c)}function Jh(e,t,n){let r=[];if(ju(null,e,n,r),e.depth>n){let i=yb(e,t,n+1);Zs(Js(i,Jh(e,t,n+1)),r)}return ju(t,null,n,r),new le(r)}function EH(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let a=n-1;a>=0;a--)i=t.node(a).copy(le.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class Iu{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let a=0;a<t;a++)i+=r.child(a).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return ot.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let c=r;r=i,i=c}let a=r.marks;for(var s=0;s<a.length;s++)a[s].type.spec.inclusive===!1&&(!i||!a[s].isInSet(i.marks))&&(a=a[s--].removeFromSet(a));return a}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var a=0;a<r.length;a++)r[a].type.spec.inclusive===!1&&(!i||!r[a].isInSet(i.marks))&&(r=r[a--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new ep(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,a=n;for(let s=t;;){let{index:c,offset:u}=s.content.findIndex(a),d=a-u;if(r.push(s,c,i+u),!d||(s=s.child(c),s.isText))break;a=d-1,i+=u+1}return new Iu(n,r,a)}static resolveCached(t,n){let r=mC.get(t);if(r)for(let a=0;a<r.elts.length;a++){let s=r.elts[a];if(s.pos==n)return s}else mC.set(t,r=new CH);let i=r.elts[r.i]=Iu.resolve(t,n);return r.i=(r.i+1)%OH,i}}class CH{constructor(){this.elts=[],this.i=0}}const OH=12,mC=new WeakMap;class ep{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const TH=Object.create(null);class Qr{constructor(t,n,r,i=ot.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||le.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Qh(this.attrs,n||t.defaultAttrs||TH)&&ot.sameSet(this.marks,r||ot.none)}copy(t=null){return t==this.content?this:new Qr(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Qr(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return ge.empty;let i=this.resolve(t),a=this.resolve(n),s=r?0:i.sharedDepth(n),c=i.start(s),d=i.node(s).content.cut(i.pos-c,a.pos-c);return new ge(d,i.depth-s,a.depth-s)}replace(t,n,r){return kH(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return Iu.resolveCached(this,t)}resolveNoCache(t){return Iu.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,a=>(r.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),o3(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=le.empty,i=0,a=r.childCount){let s=this.contentMatchAt(t).matchFragment(r,i,a),c=s&&s.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let u=i;u<a;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(t).matchType(r),s=a&&a.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=ot.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!ot.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=le.fromJSON(t,n.content),a=t.nodeType(n.type).create(n.attrs,i,r);return a.type.checkAttrs(a.attrs),a}}Qr.prototype.text=void 0;class tp extends Qr{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):o3(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new tp(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new tp(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function o3(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class lo{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new AH(t,n);if(r.next==null)return lo.empty;let i=l3(r);r.next&&r.err("Unexpected trailing text");let a=BH(LH(i));return IH(a,r),a}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let a=n;i&&a<r;a++)i=i.matchType(t.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function a(s,c){let u=s.matchFragment(t,r);if(u&&(!n||u.validEnd))return le.from(c.map(d=>d.createAndFill()));for(let d=0;d<s.next.length;d++){let{type:p,next:m}=s.next[d];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let y=a(m,c.concat(p));if(y)return y}}return null}return a(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),a=i.match;if(a.matchType(t)){let s=[];for(let c=i;c.type;c=c.via)s.push(c.type);return s.reverse()}for(let s=0;s<a.next.length;s++){let{type:c,next:u}=a.next[s];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!i.type||u.validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let a=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)a+=(s?", ":"")+r.next[s].type.name+"->"+t.indexOf(r.next[s].next);return a}).join(`
`)}}lo.empty=new lo(!0);class AH{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function l3(e){let t=[];do t.push(MH(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function MH(e){let t=[];do t.push(_H(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function _H(e){let t=RH(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=DH(e,t);else break;return t}function gC(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function DH(e,t){let n=gC(e),r=n;return e.eat(",")&&(e.next!="}"?r=gC(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function PH(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let a in n){let s=n[a];s.isInGroup(t)&&i.push(s)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function RH(e){if(e.eat("(")){let t=l3(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=PH(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function LH(e){let t=[[]];return i(a(e,0),n()),t;function n(){return t.push([])-1}function r(s,c,u){let d={term:u,to:c};return t[s].push(d),d}function i(s,c){s.forEach(u=>u.to=c)}function a(s,c){if(s.type=="choice")return s.exprs.reduce((u,d)=>u.concat(a(d,c)),[]);if(s.type=="seq")for(let u=0;;u++){let d=a(s.exprs[u],c);if(u==s.exprs.length-1)return d;i(d,c=n())}else if(s.type=="star"){let u=n();return r(c,u),i(a(s.expr,u),u),[r(u)]}else if(s.type=="plus"){let u=n();return i(a(s.expr,c),u),i(a(s.expr,u),u),[r(u)]}else{if(s.type=="opt")return[r(c)].concat(a(s.expr,c));if(s.type=="range"){let u=c;for(let d=0;d<s.min;d++){let p=n();i(a(s.expr,u),p),u=p}if(s.max==-1)i(a(s.expr,u),u);else for(let d=s.min;d<s.max;d++){let p=n();r(u,p),i(a(s.expr,u),p),u=p}return[r(u)]}else{if(s.type=="name")return[r(c,void 0,s.value)];throw new Error("Unknown expr type")}}}}function c3(e,t){return t-e}function yC(e,t){let n=[];return r(t),n.sort(c3);function r(i){let a=e[i];if(a.length==1&&!a[0].term)return r(a[0].to);n.push(i);for(let s=0;s<a.length;s++){let{term:c,to:u}=a[s];!c&&n.indexOf(u)==-1&&r(u)}}}function BH(e){let t=Object.create(null);return n(yC(e,0));function n(r){let i=[];r.forEach(s=>{e[s].forEach(({term:c,to:u})=>{if(!c)return;let d;for(let p=0;p<i.length;p++)i[p][0]==c&&(d=i[p][1]);yC(e,u).forEach(p=>{d||i.push([c,d=[]]),d.indexOf(p)==-1&&d.push(p)})})});let a=t[r.join(",")]=new lo(r.indexOf(e.length-1)>-1);for(let s=0;s<i.length;s++){let c=i[s][1].sort(c3);a.next.push({type:i[s][0],next:t[c.join(",")]||n(c)})}return a}}function IH(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],a=!i.validEnd,s=[];for(let c=0;c<i.next.length;c++){let{type:u,next:d}=i.next[c];s.push(u.name),a&&!(u.isText||u.hasRequiredAttrs())&&(a=!1),r.indexOf(d)==-1&&r.push(d)}a&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function u3(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function d3(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let a=e[r];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function f3(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let a=e[i];a.validate&&a.validate(t[i])}}function h3(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new $H(e,r,t[r]);return n}let vC=class p3{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=h3(t,r.attrs),this.defaultAttrs=u3(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==lo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:d3(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Qr(this,this.computeAttrs(t),le.from(n),ot.setFrom(r))}createChecked(t=null,n,r){return n=le.from(n),this.checkContent(n),new Qr(this,this.computeAttrs(t),n,ot.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=le.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),a=i&&i.fillBefore(le.empty,!0);return a?new Qr(this,t,n.append(a),ot.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){f3(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:ot.none:t}static compile(t,n){let r=Object.create(null);t.forEach((a,s)=>r[a]=new p3(a,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let a in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function zH(e,t,n){let r=n.split("|");return i=>{let a=i===null?"null":typeof i;if(r.indexOf(a)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${a}`)}}class $H{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?zH(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class _m{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=h3(t,i.attrs),this.excluded=null;let a=u3(this.attrs);this.instance=a?new ot(this,a):null}create(t=null){return!t&&this.instance?this.instance:new ot(this,d3(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((a,s)=>r[a]=new _m(a,i++,n,s)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){f3(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class m3{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=hn.from(t.nodes),n.marks=hn.from(t.marks||{}),this.nodes=vC.compile(this.spec.nodes,this),this.marks=_m.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],s=a.spec.content||"",c=a.spec.marks;if(a.contentMatch=r[s]||(r[s]=lo.parse(s,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=c=="_"?null:c?xC(this,c.split(" ")):c==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],s=a.spec.excludes;a.excluded=s==null?[a]:s==""?[]:xC(this,s.split(" "))}this.nodeFromJSON=i=>Qr.fromJSON(this,i),this.markFromJSON=i=>ot.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof vC){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new tp(r,r.defaultAttrs,t,ot.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function xC(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],a=e.marks[i],s=a;if(a)n.push(a);else for(let c in e.marks){let u=e.marks[c];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=u)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function UH(e){return e.tag!=null}function HH(e){return e.style!=null}class Qa{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(UH(i))this.tags.push(i);else if(HH(i)){let a=/[^=]*/.exec(i.style)[0];r.indexOf(a)<0&&r.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=t.nodes[i.node];return a.contentMatch.matchType(a)})}parse(t,n={}){let r=new wC(this,n,!1);return r.addAll(t,ot.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new wC(this,n,!0);return r.addAll(t,ot.none,n.from,n.to),ge.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(VH(t,a.tag)&&(a.namespace===void 0||t.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){let s=a.getAttrs(t);if(s===!1)continue;a.attrs=s||void 0}return a}}}matchStyle(t,n,r,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let s=this.styles[a],c=s.style;if(!(c.indexOf(t)!=0||s.context&&!r.matchesContext(s.context)||c.length>t.length&&(c.charCodeAt(t.length)!=61||c.slice(t.length+1)!=n))){if(s.getAttrs){let u=s.getAttrs(n);if(u===!1)continue;s.attrs=u||void 0}return s}}}static schemaRules(t){let n=[];function r(i){let a=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let c=n[s];if((c.priority==null?50:c.priority)<a)break}n.splice(s,0,i)}for(let i in t.marks){let a=t.marks[i].spec.parseDOM;a&&a.forEach(s=>{r(s=SC(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in t.nodes){let a=t.nodes[i].spec.parseDOM;a&&a.forEach(s=>{r(s=SC(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Qa(t,Qa.schemaRules(t)))}}const g3={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},qH={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},y3={ol:!0,ul:!0},zu=1,vb=2,ku=4;function bC(e,t,n){return t!=null?(t?zu:0)|(t==="full"?vb:0):e&&e.whitespace=="pre"?zu|vb:n&~ku}class th{constructor(t,n,r,i,a,s){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=ot.none,this.match=a||(s&ku?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(le.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&zu)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let a=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let n=le.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(le.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!g3.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class wC{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,a,s=bC(null,n.preserveWhitespace,0)|(r?ku:0);i?a=new th(i.type,i.attrs,ot.none,!0,n.topMatch||i.type.contentMatch,s):r?a=new th(null,null,ot.none,!0,null,s):a=new th(t.schema.topNodeType,null,ot.none,!0,null,s),this.nodes=[a],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,a=i.options&vb?"full":this.localPreserveWS||(i.options&zu)>0,{schema:s}=this.parser;if(a==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(a)if(a==="full")r=r.replace(/\r\n?/g,`
`);else if(s.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(s.linebreakReplacement.create())){let c=r.split(/\r?\n|\r/);for(let u=0;u<c.length;u++)u&&this.insertNode(s.linebreakReplacement.create(),n,!0),c[u]&&this.insertNode(s.text(c[u]),n,!/\S/.test(c[u]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let c=i.content[i.content.length-1],u=t.previousSibling;(!c||u&&u.nodeName=="BR"||c.isText&&/[ \t\r\n\u000c]$/.test(c.text))&&(r=r.slice(1))}r&&this.insertNode(s.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,a=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),c;y3.hasOwnProperty(s)&&this.parser.normalizeLists&&KH(t);let u=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(c=this.parser.matchTag(t,this,r));e:if(u?u.ignore:qH.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(t=u.skip);let d,p=this.needsBlock;if(g3.hasOwnProperty(s))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),d=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let m=u&&u.skip?n:this.readStyles(t,n);m&&this.addAll(t,m),d&&this.sync(a),this.needsBlock=p}else{let d=this.readStyles(t,n);d&&this.addElementByRule(t,u,d,u.consuming===!1?c:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],s=r.getPropertyValue(a);if(s)for(let c=void 0;;){let u=this.parser.matchStyle(a,s,this,c);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(d=>!u.clearMark(d)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)c=u;else break}}return n}addElementByRule(t,n,r,i){let a,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let u=this.enter(s,n.attrs||null,r,n.preserveWhitespace);u&&(a=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let c=this.top;if(s&&s.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(u=>this.insertNode(u,r,!1));else{let u=t;typeof n.contentElement=="string"?u=t.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(t):n.contentElement&&(u=n.contentElement),this.findAround(t,u,!0),this.addAll(u,r),this.findAround(t,u,!1)}a&&this.sync(c)&&this.open--}addAll(t,n,r,i){let a=r||0;for(let s=r?t.childNodes[r]:t.firstChild,c=i==null?null:t.childNodes[i];s!=c;s=s.nextSibling,++a)this.findAtPoint(t,a),this.addDOM(s,n);this.findAtPoint(t,a)}findPlace(t,n,r){let i,a;for(let s=this.open,c=0;s>=0;s--){let u=this.nodes[s],d=u.findWrapping(t);if(d&&(!i||i.length>d.length+c)&&(i=d,a=u,!d.length))break;if(u.solid){if(r)break;c+=2}}if(!i)return null;this.sync(a);for(let s=0;s<i.length;s++)n=this.enterInner(i[s],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(n=this.enterInner(a,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(t.type));let s=ot.none;for(let c of i.concat(t.marks))(a.type?a.type.allowsMarkType(c.type):NC(c.type,t.type))&&(s=c.addToSet(s));return a.content.push(t.mark(s)),!0}return!1}enter(t,n,r,i){let a=this.findPlace(t.create(n),r,!1);return a&&(a=this.enterInner(t,n,r,!0,i)),a}enterInner(t,n,r,i=!1,a){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let c=bC(t,a,s.options);s.options&ku&&s.content.length==0&&(c|=ku);let u=ot.none;return r=r.filter(d=>(s.type?s.type.allowsMarkType(d.type):NC(d.type,t))?(u=d.addToSet(u),!1):!0),this.nodes.push(new th(t,n,u,i,null,c)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=zu)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),a=-(r?r.depth+1:0)+(i?0:1),s=(c,u)=>{for(;c>=0;c--){let d=n[c];if(d==""){if(c==n.length-1||c==0)continue;for(;u>=a;u--)if(s(c-1,u))return!0;return!1}else{let p=u>0||u==0&&i?this.nodes[u].type:r&&u>=a?r.node(u-a).type:null;if(!p||p.name!=d&&!p.isInGroup(d))return!1;u--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function KH(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&y3.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function VH(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function SC(e){let t={};for(let n in e)t[n]=e[n];return t}function NC(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let a=[],s=c=>{a.push(c);for(let u=0;u<c.edgeCount;u++){let{type:d,next:p}=c.edge(u);if(d==t||a.indexOf(p)<0&&s(p))return!0}};if(s(i.contentMatch))return!0}}class bo{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=Qy(n).createDocumentFragment());let i=r,a=[];return t.forEach(s=>{if(a.length||s.marks.length){let c=0,u=0;for(;c<a.length&&u<s.marks.length;){let d=s.marks[u];if(!this.marks[d.type.name]){u++;continue}if(!d.eq(a[c][0])||d.type.spec.spanning===!1)break;c++,u++}for(;c<a.length;)i=a.pop()[1];for(;u<s.marks.length;){let d=s.marks[u++],p=this.serializeMark(d,s.isInline,n);p&&(a.push([d,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=_h(Qy(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let a=this.serializeMark(t.marks[i],t.isInline,n);a&&((a.contentDOM||a.dom).appendChild(r),r=a.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&_h(Qy(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return _h(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new bo(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=jC(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return jC(t.marks)}}function jC(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Qy(e){return e.document||window.document}const kC=new WeakMap;function FH(e){let t=kC.get(e);return t===void 0&&kC.set(e,t=WH(e)),t}function WH(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function _h(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(a=FH(r))&&a.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let c,u=n?e.createElementNS(n,i):e.createElement(i),d=t[1],p=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){p=2;for(let m in d)if(d[m]!=null){let y=m.indexOf(" ");y>0?u.setAttributeNS(m.slice(0,y),m.slice(y+1),d[m]):m=="style"&&u.style?u.style.cssText=d[m]:u.setAttribute(m,d[m])}}for(let m=p;m<t.length;m++){let y=t[m];if(y===0){if(m<t.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:v,contentDOM:b}=_h(e,y,n,r);if(u.appendChild(v),b){if(c)throw new RangeError("Multiple content holes");c=b}}}return{dom:u,contentDOM:c}}const v3=65535,x3=Math.pow(2,16);function GH(e,t){return e+t*x3}function EC(e){return e&v3}function YH(e){return(e-(e&v3))/x3}const b3=1,w3=2,Dh=4,S3=8;class xb{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&S3)>0}get deletedBefore(){return(this.delInfo&(b3|Dh))>0}get deletedAfter(){return(this.delInfo&(w3|Dh))>0}get deletedAcross(){return(this.delInfo&Dh)>0}}class cr{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&cr.empty)return cr.empty}recover(t){let n=0,r=EC(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+YH(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,a=this.inverted?2:1,s=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?i:0);if(u>t)break;let d=this.ranges[c+a],p=this.ranges[c+s],m=u+d;if(t<=m){let y=d?t==u?-1:t==m?1:n:n,v=u+i+(y<0?0:p);if(r)return v;let b=t==(n<0?u:m)?null:GH(c/3,t-u),w=t==u?w3:t==m?b3:Dh;return(n<0?t!=u:t!=m)&&(w|=S3),new xb(v,w,b)}i+=p-d}return r?t+i:new xb(t+i,0,null)}touches(t,n){let r=0,i=EC(n),a=this.inverted?2:1,s=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?r:0);if(u>t)break;let d=this.ranges[c+a],p=u+d;if(t<=p&&c==i*3)return!0;r+=this.ranges[c+s]-d}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let s=this.ranges[i],c=s-(this.inverted?a:0),u=s+(this.inverted?0:a),d=this.ranges[i+n],p=this.ranges[i+r];t(c,c+d,u,u+p),a+=p-d}}invert(){return new cr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?cr.empty:new cr(t<0?[0,-t,0]:[0,0,t])}}cr.empty=new cr([]);class $u{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new $u(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new $u;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let a=this.from;a<this.to;a++){let s=this._maps[a],c=s.mapResult(t,n);if(c.recover!=null){let u=this.getMirror(a);if(u!=null&&u>a&&u<this.to){a=u,t=this._maps[u].recover(c.recover);continue}}i|=c.delInfo,t=c.pos}return r?t:new xb(t,i,null)}}const Zy=Object.create(null);let Tn=class{getMap(){return cr.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Zy[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Zy)throw new RangeError("Duplicate use of step JSON ID "+t);return Zy[t]=n,n.prototype.jsonID=t,n}};class It{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new It(t,null)}static fail(t){return new It(null,t)}static fromReplace(t,n,r,i){try{return It.ok(t.replace(n,r,i))}catch(a){if(a instanceof Zh)return It.fail(a.message);throw a}}}function nw(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let a=e.child(i);a.content.size&&(a=a.copy(nw(a.content,t,a))),a.isInline&&(a=t(a,n,i)),r.push(a)}return le.fromArray(r)}class Ga extends Tn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),a=new ge(nw(n.content,(s,c)=>!s.isAtom||!c.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return It.fromReplace(t,this.from,this.to,a)}invert(){return new Xr(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ga(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ga&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ga(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ga(n.from,n.to,t.markFromJSON(n.mark))}}Tn.jsonID("addMark",Ga);class Xr extends Tn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new ge(nw(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return It.fromReplace(t,this.from,this.to,r)}invert(){return new Ga(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Xr(n.pos,r.pos,this.mark)}merge(t){return t instanceof Xr&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Xr(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Xr(n.from,n.to,t.markFromJSON(n.mark))}}Tn.jsonID("removeMark",Xr);class Ya extends Tn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return It.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return It.fromReplace(t,this.pos,this.pos+1,new ge(le.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Ya(this.pos,n.marks[i]);return new Ya(this.pos,this.mark)}}return new co(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ya(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ya(n.pos,t.markFromJSON(n.mark))}}Tn.jsonID("addNodeMark",Ya);class co extends Tn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return It.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return It.fromReplace(t,this.pos,this.pos+1,new ge(le.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ya(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new co(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new co(n.pos,t.markFromJSON(n.mark))}}Tn.jsonID("removeNodeMark",co);class nn extends Tn{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&bb(t,this.from,this.to)?It.fail("Structure replace would overwrite content"):It.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new cr([this.from,this.to-this.from,this.slice.size])}invert(t){return new nn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new nn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof nn)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?ge.empty:new ge(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new nn(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?ge.empty:new ge(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new nn(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new nn(n.from,n.to,ge.fromJSON(t,n.slice),!!n.structure)}}Tn.jsonID("replace",nn);class rn extends Tn{constructor(t,n,r,i,a,s,c=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=a,this.insert=s,this.structure=c}apply(t){if(this.structure&&(bb(t,this.from,this.gapFrom)||bb(t,this.gapTo,this.to)))return It.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return It.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?It.fromReplace(t,this.from,this.to,r):It.fail("Content does not fit in gap")}getMap(){return new cr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new rn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),a=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||a>r.pos?null:new rn(n.pos,r.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new rn(n.from,n.to,n.gapFrom,n.gapTo,ge.fromJSON(t,n.slice),n.insert,!!n.structure)}}Tn.jsonID("replaceAround",rn);function bb(e,t,n){let r=e.resolve(t),i=n-t,a=r.depth;for(;i>0&&a>0&&r.indexAfter(a)==r.node(a).childCount;)a--,i--;if(i>0){let s=r.node(a).maybeChild(r.indexAfter(a));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function XH(e,t,n,r){let i=[],a=[],s,c;e.doc.nodesBetween(t,n,(u,d,p)=>{if(!u.isInline)return;let m=u.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let y=Math.max(d,t),v=Math.min(d+u.nodeSize,n),b=r.addToSet(m);for(let w=0;w<m.length;w++)m[w].isInSet(b)||(s&&s.to==y&&s.mark.eq(m[w])?s.to=v:i.push(s=new Xr(y,v,m[w])));c&&c.to==y?c.to=v:a.push(c=new Ga(y,v,r))}}),i.forEach(u=>e.step(u)),a.forEach(u=>e.step(u))}function QH(e,t,n,r){let i=[],a=0;e.doc.nodesBetween(t,n,(s,c)=>{if(!s.isInline)return;a++;let u=null;if(r instanceof _m){let d=s.marks,p;for(;p=r.isInSet(d);)(u||(u=[])).push(p),d=p.removeFromSet(d)}else r?r.isInSet(s.marks)&&(u=[r]):u=s.marks;if(u&&u.length){let d=Math.min(c+s.nodeSize,n);for(let p=0;p<u.length;p++){let m=u[p],y;for(let v=0;v<i.length;v++){let b=i[v];b.step==a-1&&m.eq(i[v].style)&&(y=b)}y?(y.to=d,y.step=a):i.push({style:m,from:Math.max(c,t),to:d,step:a})}}}),i.forEach(s=>e.step(new Xr(s.from,s.to,s.style)))}function rw(e,t,n,r=n.contentMatch,i=!0){let a=e.doc.nodeAt(t),s=[],c=t+1;for(let u=0;u<a.childCount;u++){let d=a.child(u),p=c+d.nodeSize,m=r.matchType(d.type);if(!m)s.push(new nn(c,p,ge.empty));else{r=m;for(let y=0;y<d.marks.length;y++)n.allowsMarkType(d.marks[y].type)||e.step(new Xr(c,p,d.marks[y]));if(i&&d.isText&&n.whitespace!="pre"){let y,v=/\r?\n|\r/g,b;for(;y=v.exec(d.text);)b||(b=new ge(le.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),s.push(new nn(c+y.index,c+y.index+y[0].length,b))}}c=p}if(!r.validEnd){let u=r.fillBefore(le.empty,!0);e.replace(c,c,new ge(u,0,0))}for(let u=s.length-1;u>=0;u--)e.step(s[u])}function ZH(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Xl(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),a=e.$from.index(r),s=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(a,s,n))return r;if(r==0||i.type.spec.isolating||!ZH(i,a,s))break}return null}function JH(e,t,n){let{$from:r,$to:i,depth:a}=t,s=r.before(a+1),c=i.after(a+1),u=s,d=c,p=le.empty,m=0;for(let b=a,w=!1;b>n;b--)w||r.index(b)>0?(w=!0,p=le.from(r.node(b).copy(p)),m++):u--;let y=le.empty,v=0;for(let b=a,w=!1;b>n;b--)w||i.after(b+1)<i.end(b)?(w=!0,y=le.from(i.node(b).copy(y)),v++):d++;e.step(new rn(u,d,s,c,new ge(p.append(y),m,v),p.size-m,!0))}function iw(e,t,n=null,r=e){let i=eq(e,t),a=i&&tq(r,t);return a?i.map(CC).concat({type:t,attrs:n}).concat(a.map(CC)):null}function CC(e){return{type:e,attrs:null}}function eq(e,t){let{parent:n,startIndex:r,endIndex:i}=e,a=n.contentMatchAt(r).findWrapping(t);if(!a)return null;let s=a.length?a[0]:t;return n.canReplaceWith(r,i,s)?a:null}function tq(e,t){let{parent:n,startIndex:r,endIndex:i}=e,a=n.child(r),s=t.contentMatch.findWrapping(a.type);if(!s)return null;let u=(s.length?s[s.length-1]:t).contentMatch;for(let d=r;u&&d<i;d++)u=u.matchType(n.child(d).type);return!u||!u.validEnd?null:s}function nq(e,t,n){let r=le.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let c=n[s].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=le.from(n[s].type.create(n[s].attrs,r))}let i=t.start,a=t.end;e.step(new rn(i,a,i,a,new ge(r,0,0),n.length,!0))}function rq(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=e.steps.length;e.doc.nodesBetween(t,n,(s,c)=>{let u=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,u)&&iq(e.doc,e.mapping.slice(a).map(c),r)){let d=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!b?d=!1:!v&&b&&(d=!0)}d===!1&&j3(e,s,c,a),rw(e,e.mapping.slice(a).map(c,1),r,void 0,d===null);let p=e.mapping.slice(a),m=p.map(c,1),y=p.map(c+s.nodeSize,1);return e.step(new rn(m,y,m+1,y-1,new ge(le.from(r.create(u,null,s.marks)),0,0),1,!0)),d===!0&&N3(e,s,c,a),!1}})}function N3(e,t,n,r){t.forEach((i,a)=>{if(i.isText){let s,c=/\r?\n|\r/g;for(;s=c.exec(i.text);){let u=e.mapping.slice(r).map(n+1+a+s.index);e.replaceWith(u,u+1,t.type.schema.linebreakReplacement.create())}}})}function j3(e,t,n,r){t.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let s=e.mapping.slice(r).map(n+1+a);e.replaceWith(s,s+1,t.type.schema.text(`
`))}})}function iq(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function aq(e,t,n,r,i){let a=e.doc.nodeAt(t);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let s=n.create(r,null,i||a.marks);if(a.isLeaf)return e.replaceWith(t,t+a.nodeSize,s);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new rn(t,t+a.nodeSize,t+1,t+a.nodeSize-1,new ge(le.from(s),0,0),1,!0))}function Wi(e,t,n=1,r){let i=e.resolve(t),a=i.depth-n,s=r&&r[r.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,p=n-2;d>a;d--,p--){let m=i.node(d),y=i.index(d);if(m.type.spec.isolating)return!1;let v=m.content.cutByIndex(y,m.childCount),b=r&&r[p+1];b&&(v=v.replaceChild(0,b.type.create(b.attrs)));let w=r&&r[p]||m;if(!m.canReplace(y+1,m.childCount)||!w.type.validContent(v))return!1}let c=i.indexAfter(a),u=r&&r[0];return i.node(a).canReplaceWith(c,c,u?u.type:i.node(a+1).type)}function sq(e,t,n=1,r){let i=e.doc.resolve(t),a=le.empty,s=le.empty;for(let c=i.depth,u=i.depth-n,d=n-1;c>u;c--,d--){a=le.from(i.node(c).copy(a));let p=r&&r[d];s=le.from(p?p.type.create(p.attrs,s):i.node(c).copy(s))}e.step(new nn(t,t,new ge(a.append(s),n,n),!0))}function us(e,t){let n=e.resolve(t),r=n.index();return k3(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function oq(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let a=t.child(i),s=a.type==r?e.type.schema.nodes.text:a.type;if(n=n.matchType(s),!n||!e.type.allowsMarks(a.marks))return!1}return n.validEnd}function k3(e,t){return!!(e&&t&&!e.isLeaf&&oq(e,t))}function Dm(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let a,s,c=r.index(i);if(i==r.depth?(a=r.nodeBefore,s=r.nodeAfter):n>0?(a=r.node(i+1),c++,s=r.node(i).maybeChild(c)):(a=r.node(i).maybeChild(c-1),s=r.node(i+1)),a&&!a.isTextblock&&k3(a,s)&&r.node(i).canReplace(c,c+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function lq(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,a=e.doc.resolve(t-n),s=a.node().type;if(i&&s.inlineContent){let p=s.whitespace=="pre",m=!!s.contentMatch.matchType(i);p&&!m?r=!1:!p&&m&&(r=!0)}let c=e.steps.length;if(r===!1){let p=e.doc.resolve(t+n);j3(e,p.node(),p.before(),c)}s.inlineContent&&rw(e,t+n-1,s,a.node().contentMatchAt(a.index()),r==null);let u=e.mapping.slice(c),d=u.map(t-n);if(e.step(new nn(d,u.map(t+n,-1),ge.empty,!0)),r===!0){let p=e.doc.resolve(d);N3(e,p.node(),p.before(),e.steps.length)}return e}function cq(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let a=r.index(i);if(r.node(i).canReplaceWith(a,a,n))return r.before(i+1);if(a>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let a=r.indexAfter(i);if(r.node(i).canReplaceWith(a,a,n))return r.after(i+1);if(a<r.node(i).childCount)return null}return null}function E3(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let a=0;a<n.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(let s=r.depth;s>=0;s--){let c=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,u=r.index(s)+(c>0?1:0),d=r.node(s),p=!1;if(a==1)p=d.canReplace(u,u,i);else{let m=d.contentMatchAt(u).findWrapping(i.firstChild.type);p=m&&d.canReplaceWith(u,u,m[0])}if(p)return c==0?r.pos:c<0?r.before(s+1):r.after(s+1)}return null}function Pm(e,t,n=t,r=ge.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),a=e.resolve(n);return C3(i,a,r)?new nn(t,n,r):new uq(i,a,r).fit()}function C3(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class uq{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=le.empty;for(let i=0;i<=t.depth;i++){let a=t.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=le.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let a=this.placed,s=r.depth,c=i.depth;for(;s&&c&&a.childCount==1;)a=a.firstChild.content,s--,c--;let u=new ge(a,s,c);return t>-1?new rn(r.pos,t,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new nn(r.pos,i.pos,u):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let a=n.firstChild;if(n.childCount>1&&(i=0),a.type.spec.isolating&&i<=r){t=r;break}n=a.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,a=null;r?(a=Jy(this.unplaced.content,r-1).firstChild,i=a.content):i=this.unplaced.content;let s=i.firstChild;for(let c=this.depth;c>=0;c--){let{type:u,match:d}=this.frontier[c],p,m=null;if(n==1&&(s?d.matchType(s.type)||(m=d.fillBefore(le.from(s),!1)):a&&u.compatibleContent(a.type)))return{sliceDepth:r,frontierDepth:c,parent:a,inject:m};if(n==2&&s&&(p=d.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:c,parent:a,wrap:p};if(a&&d.matchType(a.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Jy(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ge(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Jy(t,n);if(i.childCount<=1&&n>0){let a=t.size-n<=n+i.size;this.unplaced=new ge(vu(t,n-1,1),n-1,a?n-1:r)}else this.unplaced=new ge(vu(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:a}){for(;this.depth>n;)this.closeFrontierNode();if(a)for(let w=0;w<a.length;w++)this.openFrontierNode(a[w]);let s=this.unplaced,c=r?r.content:s.content,u=s.openStart-t,d=0,p=[],{match:m,type:y}=this.frontier[n];if(i){for(let w=0;w<i.childCount;w++)p.push(i.child(w));m=m.matchFragment(i)}let v=c.size+t-(s.content.size-s.openEnd);for(;d<c.childCount;){let w=c.child(d),S=m.matchType(w.type);if(!S)break;d++,(d>1||u==0||w.content.size)&&(m=S,p.push(O3(w.mark(y.allowedMarks(w.marks)),d==1?u:0,d==c.childCount?v:-1)))}let b=d==c.childCount;b||(v=-1),this.placed=xu(this.placed,n,le.from(p)),this.frontier[n].match=m,b&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,S=c;w<v;w++){let k=S.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),S=k.content}this.unplaced=b?t==0?ge.empty:new ge(vu(s.content,t-1,1),t-1,v<0?s.openEnd:t-1):new ge(vu(s.content,t,d),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!ev(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],a=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=ev(t,n,i,r,a);if(s){for(let c=n-1;c>=0;c--){let{match:u,type:d}=this.frontier[c],p=ev(t,c,d,u,!0);if(!p||p.childCount)continue e}return{depth:n,fit:s,move:a?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=xu(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),a=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,a)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=xu(this.placed,this.depth,le.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(le.empty,!0);n.childCount&&(this.placed=xu(this.placed,this.frontier.length,n))}}function vu(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(vu(e.firstChild.content,t-1,n)))}function xu(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(xu(e.lastChild.content,t-1,n)))}function Jy(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function O3(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,O3(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(le.empty,!0)))),e.copy(r)}function ev(e,t,n,r,i){let a=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==a.childCount&&!n.compatibleContent(a.type))return null;let c=r.fillBefore(a.content,!0,s);return c&&!dq(n,a.content,s)?c:null}function dq(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function fq(e){return e.spec.defining||e.spec.definingForContent}function hq(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),a=e.doc.resolve(n);if(C3(i,a,r))return e.step(new nn(t,n,r));let s=A3(i,e.doc.resolve(n));s[s.length-1]==0&&s.pop();let c=-(i.depth+1);s.unshift(c);for(let y=i.depth,v=i.pos-1;y>0;y--,v--){let b=i.node(y).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;s.indexOf(y)>-1?c=y:i.before(y)==v&&s.splice(1,0,-y)}let u=s.indexOf(c),d=[],p=r.openStart;for(let y=r.content,v=0;;v++){let b=y.firstChild;if(d.push(b),v==r.openStart)break;y=b.content}for(let y=p-1;y>=0;y--){let v=d[y],b=fq(v.type);if(b&&!v.sameMarkup(i.node(Math.abs(c)-1)))p=y;else if(b||!v.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let v=(y+p+1)%(r.openStart+1),b=d[v];if(b)for(let w=0;w<s.length;w++){let S=s[(w+u)%s.length],k=!0;S<0&&(k=!1,S=-S);let E=i.node(S-1),O=i.index(S-1);if(E.canReplaceWith(O,O,b.type,b.marks))return e.replace(i.before(S),k?a.after(S):n,new ge(T3(r.content,0,r.openStart,v),v,r.openEnd))}}let m=e.steps.length;for(let y=s.length-1;y>=0&&(e.replace(t,n,r),!(e.steps.length>m));y--){let v=s[y];v<0||(t=i.before(v),n=a.after(v))}}function T3(e,t,n,r,i){if(t<n){let a=e.firstChild;e=e.replaceChild(0,a.copy(T3(a.content,t+1,n,r,a)))}if(t>r){let a=i.contentMatchAt(0),s=a.fillBefore(e).append(e);e=s.append(a.matchFragment(s).fillBefore(le.empty,!0))}return e}function pq(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=cq(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new ge(le.from(r),0,0))}function mq(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),a=A3(r,i);for(let s=0;s<a.length;s++){let c=a[s],u=s==a.length-1;if(u&&c==0||r.node(c).type.contentMatch.validEnd)return e.delete(r.start(c),i.end(c));if(c>0&&(u||r.node(c-1).canReplace(r.index(c-1),i.indexAfter(c-1))))return e.delete(r.before(c),i.after(c))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return e.delete(r.before(s),n);e.delete(t,n)}function A3(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let a=e.start(i);if(a<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(a==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==a-1)&&n.push(i)}return n}class wl extends Tn{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return It.fail("No node at attribute step's position");let r=Object.create(null);for(let a in n.attrs)r[a]=n.attrs[a];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return It.fromReplace(t,this.pos,this.pos+1,new ge(le.from(i),0,n.isLeaf?0:1))}getMap(){return cr.empty}invert(t){return new wl(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new wl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new wl(n.pos,n.attr,n.value)}}Tn.jsonID("attr",wl);class Uu extends Tn{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return It.ok(r)}getMap(){return cr.empty}invert(t){return new Uu(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Uu(n.attr,n.value)}}Tn.jsonID("docAttr",Uu);let Ol=class extends Error{};Ol=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Ol.prototype=Object.create(Error.prototype);Ol.prototype.constructor=Ol;Ol.prototype.name="TransformError";class M3{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new $u}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Ol(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=ge.empty){let i=Pm(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new ge(le.from(r),0,0))}delete(t,n){return this.replace(t,n,ge.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return hq(this,t,n,r),this}replaceRangeWith(t,n,r){return pq(this,t,n,r),this}deleteRange(t,n){return mq(this,t,n),this}lift(t,n){return JH(this,t,n),this}join(t,n=1){return lq(this,t,n),this}wrap(t,n){return nq(this,t,n),this}setBlockType(t,n=t,r,i=null){return rq(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return aq(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new wl(t,n,r)),this}setDocAttribute(t,n){return this.step(new Uu(t,n)),this}addNodeMark(t,n){return this.step(new Ya(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof ot)n.isInSet(r.marks)&&this.step(new co(t,n));else{let i=r.marks,a,s=[];for(;a=n.isInSet(i);)s.push(new co(t,a)),i=a.removeFromSet(i);for(let c=s.length-1;c>=0;c--)this.step(s[c])}return this}split(t,n=1,r){return sq(this,t,n,r),this}addMark(t,n,r){return XH(this,t,n,r),this}removeMark(t,n,r){return QH(this,t,n,r),this}clearIncompatible(t,n,r){return rw(this,t,n,r),this}}const tv=Object.create(null);class $e{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new gq(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=ge.empty){let r=n.content.lastChild,i=null;for(let c=0;c<n.openEnd;c++)i=r,r=r.lastChild;let a=t.steps.length,s=this.ranges;for(let c=0;c<s.length;c++){let{$from:u,$to:d}=s[c],p=t.mapping.slice(a);t.replaceRange(p.map(u.pos),p.map(d.pos),c?ge.empty:n),c==0&&AC(t,a,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:s,$to:c}=i[a],u=t.mapping.slice(r),d=u.map(s.pos),p=u.map(c.pos);a?t.deleteRange(d,p):(t.replaceRangeWith(d,p,n),AC(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Le(t):hl(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let a=t.depth-1;a>=0;a--){let s=n<0?hl(t.node(0),t.node(a),t.before(a+1),t.index(a),n,r):hl(t.node(0),t.node(a),t.after(a+1),t.index(a)+1,n,r);if(s)return s}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new dr(t.node(0))}static atStart(t){return hl(t,t,0,0,1)||new dr(t)}static atEnd(t){return hl(t,t,t.content.size,t.childCount,-1)||new dr(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=tv[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in tv)throw new RangeError("Duplicate use of selection JSON ID "+t);return tv[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Le.between(this.$anchor,this.$head).getBookmark()}}$e.prototype.visible=!0;class gq{constructor(t,n){this.$from=t,this.$to=n}}let OC=!1;function TC(e){!OC&&!e.parent.inlineContent&&(OC=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Le extends $e{constructor(t,n=t){TC(t),TC(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return $e.near(r);let i=t.resolve(n.map(this.anchor));return new Le(i.parent.inlineContent?i:r,r)}replace(t,n=ge.empty){if(super.replace(t,n),n==ge.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Le&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Rm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Le(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let a=$e.findFrom(n,r,!0)||$e.findFrom(n,-r,!0);if(a)n=a.$head;else return $e.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=($e.findFrom(t,-r,!0)||$e.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Le(t,n)}}$e.jsonID("text",Le);class Rm{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Rm(t.map(this.anchor),t.map(this.head))}resolve(t){return Le.between(t.resolve(this.anchor),t.resolve(this.head))}}class Ae extends $e{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),a=t.resolve(i);return r?$e.near(a):new Ae(a)}content(){return new ge(le.from(this.node),0,0)}eq(t){return t instanceof Ae&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new aw(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ae(t.resolve(n.anchor))}static create(t,n){return new Ae(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Ae.prototype.visible=!1;$e.jsonID("node",Ae);class aw{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Rm(r,r):new aw(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Ae.isSelectable(r)?new Ae(n):$e.near(n)}}class dr extends $e{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=ge.empty){if(n==ge.empty){t.delete(0,t.doc.content.size);let r=$e.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new dr(t)}map(t){return new dr(t)}eq(t){return t instanceof dr}getBookmark(){return yq}}$e.jsonID("all",dr);const yq={map(){return this},resolve(e){return new dr(e)}};function hl(e,t,n,r,i,a=!1){if(t.inlineContent)return Le.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let c=t.child(s);if(c.isAtom){if(!a&&Ae.isSelectable(c))return Ae.create(e,n-(i<0?c.nodeSize:0))}else{let u=hl(e,c,n+i,i<0?c.childCount:0,i,a);if(u)return u}n+=c.nodeSize*i}return null}function AC(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof nn||i instanceof rn))return;let a=e.mapping.maps[r],s;a.forEach((c,u,d,p)=>{s==null&&(s=p)}),e.setSelection($e.near(e.doc.resolve(s),n))}const MC=1,nh=2,_C=4;class vq extends M3{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|MC)&~nh,this.storedMarks=null,this}get selectionSet(){return(this.updated&MC)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=nh,this}ensureMarks(t){return ot.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&nh)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~nh,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||ot.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let a=this.storedMarks;if(!a){let s=this.doc.resolve(n);a=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,a)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection($e.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=_C,this}get scrolledIntoView(){return(this.updated&_C)>0}}function DC(e,t){return!t||!e?e:e.bind(t)}class bu{constructor(t,n,r){this.name=t,this.init=DC(n.init,r),this.apply=DC(n.apply,r)}}const xq=[new bu("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new bu("selection",{init(e,t){return e.selection||$e.atStart(t.doc)},apply(e){return e.selection}}),new bu("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new bu("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class nv{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=xq.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new bu(r.key,r.spec.state,r))})}}class vl{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let a=!1;for(let s=0;s<this.config.plugins.length;s++){let c=this.config.plugins[s];if(c.spec.appendTransaction){let u=i?i[s].n:0,d=i?i[s].state:this,p=u<n.length&&c.spec.appendTransaction.call(c,u?n.slice(u):n,d,r);if(p&&r.filterTransaction(p,s)){if(p.setMeta("appendedTransaction",t),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<s?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),a=!0}i&&(i[s]={state:r,n:n.length})}}if(!a)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new vl(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let a=r[i];n[a.name]=a.apply(t,this[a.name],this,n)}return n}get tr(){return new vq(this)}static create(t){let n=new nv(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new vl(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new nv(this.schema,t.plugins),r=n.fields,i=new vl(n);for(let a=0;a<r.length;a++){let s=r[a].name;i[s]=this.hasOwnProperty(s)?this[s]:r[a].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],a=i.spec.state;a&&a.toJSON&&(n[r]=a.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new nv(t.schema,t.plugins),a=new vl(i);return i.fields.forEach(s=>{if(s.name=="doc")a.doc=Qr.fromJSON(t.schema,n.doc);else if(s.name=="selection")a.selection=$e.fromJSON(a.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(a.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let c in r){let u=r[c],d=u.spec.state;if(u.key==s.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){a[s.name]=d.fromJSON.call(u,t,n[c],a);return}}a[s.name]=s.init(t,a)}}),a}}function _3(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=_3(i,t,{})),n[r]=i}return n}class Mt{constructor(t){this.spec=t,this.props={},t.props&&_3(t.props,this,this.props),this.key=t.key?t.key.key:D3("plugin")}getState(t){return t[this.key]}}const rv=Object.create(null);function D3(e){return e in rv?e+"$"+ ++rv[e]:(rv[e]=0,e+"$")}class sn{constructor(t="key"){this.key=D3(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const sw=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function P3(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const R3=(e,t,n)=>{let r=P3(e,n);if(!r)return!1;let i=ow(r);if(!i){let s=r.blockRange(),c=s&&Xl(s);return c==null?!1:(t&&t(e.tr.lift(s,c).scrollIntoView()),!0)}let a=i.nodeBefore;if(K3(e,i,t,-1))return!0;if(r.parent.content.size==0&&(Tl(a,"end")||Ae.isSelectable(a)))for(let s=r.depth;;s--){let c=Pm(e.doc,r.before(s),r.after(s),ge.empty);if(c&&c.slice.size<c.to-c.from){if(t){let u=e.tr.step(c);u.setSelection(Tl(a,"end")?$e.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):Ae.create(u.doc,i.pos-a.nodeSize)),t(u.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return a.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1},bq=(e,t,n)=>{let r=P3(e,n);if(!r)return!1;let i=ow(r);return i?L3(e,i,t):!1},wq=(e,t,n)=>{let r=I3(e,n);if(!r)return!1;let i=lw(r);return i?L3(e,i,t):!1};function L3(e,t,n){let r=t.nodeBefore,i=r,a=t.pos-1;for(;!i.isTextblock;a--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let s=t.nodeAfter,c=s,u=t.pos+1;for(;!c.isTextblock;u++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let d=Pm(e.doc,a,u,ge.empty);if(!d||d.from!=a||d instanceof nn&&d.slice.size>=u-a)return!1;if(n){let p=e.tr.step(d);p.setSelection(Le.create(p.doc,a)),n(p.scrollIntoView())}return!0}function Tl(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const B3=(e,t,n)=>{let{$head:r,empty:i}=e.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;a=ow(r)}let s=a&&a.nodeBefore;return!s||!Ae.isSelectable(s)?!1:(t&&t(e.tr.setSelection(Ae.create(e.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)};function ow(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function I3(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const z3=(e,t,n)=>{let r=I3(e,n);if(!r)return!1;let i=lw(r);if(!i)return!1;let a=i.nodeAfter;if(K3(e,i,t,1))return!0;if(r.parent.content.size==0&&(Tl(a,"start")||Ae.isSelectable(a))){let s=Pm(e.doc,r.before(),r.after(),ge.empty);if(s&&s.slice.size<s.to-s.from){if(t){let c=e.tr.step(s);c.setSelection(Tl(a,"start")?$e.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):Ae.create(c.doc,c.mapping.map(i.pos))),t(c.scrollIntoView())}return!0}}return a.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},$3=(e,t,n)=>{let{$head:r,empty:i}=e.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;a=lw(r)}let s=a&&a.nodeAfter;return!s||!Ae.isSelectable(s)?!1:(t&&t(e.tr.setSelection(Ae.create(e.doc,a.pos)).scrollIntoView()),!0)};function lw(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Sq=(e,t)=>{let n=e.selection,r=n instanceof Ae,i;if(r){if(n.node.isTextblock||!us(e.doc,n.from))return!1;i=n.from}else if(i=Dm(e.doc,n.from,-1),i==null)return!1;if(t){let a=e.tr.join(i);r&&a.setSelection(Ae.create(a.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(a.scrollIntoView())}return!0},Nq=(e,t)=>{let n=e.selection,r;if(n instanceof Ae){if(n.node.isTextblock||!us(e.doc,n.to))return!1;r=n.to}else if(r=Dm(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},jq=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),a=i&&Xl(i);return a==null?!1:(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)},U3=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function cw(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const kq=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),a=n.indexAfter(-1),s=cw(i.contentMatchAt(a));if(!s||!i.canReplaceWith(a,a,s))return!1;if(t){let c=n.after(),u=e.tr.replaceWith(c,c,s.createAndFill());u.setSelection($e.near(u.doc.resolve(c),1)),t(u.scrollIntoView())}return!0},H3=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof dr||r.parent.inlineContent||i.parent.inlineContent)return!1;let a=cw(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(t){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=e.tr.insert(s,a.createAndFill());c.setSelection(Le.create(c.doc,s+1)),t(c.scrollIntoView())}return!0},q3=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let a=n.before();if(Wi(e.doc,a))return t&&t(e.tr.split(a).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Xl(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function Eq(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof Ae&&t.selection.node.isBlock)return!r.parentOffset||!Wi(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let a=[],s,c,u=!1,d=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){u=r.end(v)==r.pos+(r.depth-v),d=r.start(v)==r.pos-(r.depth-v),c=cw(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),a.unshift(u&&c?{type:c}:null),s=v;break}else{if(v==1)return!1;a.unshift(null)}let p=t.tr;(t.selection instanceof Le||t.selection instanceof dr)&&p.deleteSelection();let m=p.mapping.map(r.pos),y=Wi(p.doc,m,a.length,a);if(y||(a[0]=c?{type:c}:null,y=Wi(p.doc,m,a.length,a)),!y)return!1;if(p.split(m,a.length,a),!u&&d&&r.node(s).type!=c){let v=p.mapping.map(r.before(s)),b=p.doc.resolve(v);c&&r.node(s-1).canReplaceWith(b.index(),b.index()+1,c)&&p.setNodeMarkup(p.mapping.map(r.before(s)),c)}return n&&n(p.scrollIntoView()),!0}}const Cq=Eq(),Oq=(e,t)=>{let{$from:n,to:r}=e.selection,i,a=n.sharedDepth(r);return a==0?!1:(i=n.before(a),t&&t(e.tr.setSelection(Ae.create(e.doc,i))),!0)};function Tq(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,a=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(a,a+1)||!(i.isTextblock||us(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function K3(e,t,n,r){let i=t.nodeBefore,a=t.nodeAfter,s,c,u=i.type.spec.isolating||a.type.spec.isolating;if(!u&&Tq(e,t,n))return!0;let d=!u&&t.parent.canReplace(t.index(),t.index()+1);if(d&&(s=(c=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&c.matchType(s[0]||a.type).validEnd){if(n){let v=t.pos+a.nodeSize,b=le.empty;for(let k=s.length-1;k>=0;k--)b=le.from(s[k].create(null,b));b=le.from(i.copy(b));let w=e.tr.step(new rn(t.pos-1,v,t.pos,v,new ge(b,1,0),s.length,!0)),S=w.doc.resolve(v+2*s.length);S.nodeAfter&&S.nodeAfter.type==i.type&&us(w.doc,S.pos)&&w.join(S.pos),n(w.scrollIntoView())}return!0}let p=a.type.spec.isolating||r>0&&u?null:$e.findFrom(t,1),m=p&&p.$from.blockRange(p.$to),y=m&&Xl(m);if(y!=null&&y>=t.depth)return n&&n(e.tr.lift(m,y).scrollIntoView()),!0;if(d&&Tl(a,"start",!0)&&Tl(i,"end")){let v=i,b=[];for(;b.push(v),!v.isTextblock;)v=v.lastChild;let w=a,S=1;for(;!w.isTextblock;w=w.firstChild)S++;if(v.canReplace(v.childCount,v.childCount,w.content)){if(n){let k=le.empty;for(let O=b.length-1;O>=0;O--)k=le.from(b[O].copy(k));let E=e.tr.step(new rn(t.pos-b.length,t.pos+a.nodeSize,t.pos+S,t.pos+a.nodeSize-S,new ge(k,b.length,0),0,!0));n(E.scrollIntoView())}return!0}}return!1}function V3(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(n&&n(t.tr.setSelection(Le.create(t.doc,e<0?i.start(a):i.end(a)))),!0):!1}}const Aq=V3(-1),Mq=V3(1);function _q(e,t=null){return function(n,r){let{$from:i,$to:a}=n.selection,s=i.blockRange(a),c=s&&iw(s,e,t);return c?(r&&r(n.tr.wrap(s,c).scrollIntoView()),!0):!1}}function PC(e,t=null){return function(n,r){let i=!1;for(let a=0;a<n.selection.ranges.length&&!i;a++){let{$from:{pos:s},$to:{pos:c}}=n.selection.ranges[a];n.doc.nodesBetween(s,c,(u,d)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(e,t)))if(u.type==e)i=!0;else{let p=n.doc.resolve(d),m=p.index();i=p.parent.canReplaceWith(m,m+1,e)}})}if(!i)return!1;if(r){let a=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:c},$to:{pos:u}}=n.selection.ranges[s];a.setBlockType(c,u,e,t)}r(a.scrollIntoView())}return!0}}function uw(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}uw(sw,R3,B3);uw(sw,z3,$3);uw(U3,H3,q3,Cq);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Dq(e,t=null){return function(n,r){let{$from:i,$to:a}=n.selection,s=i.blockRange(a);if(!s)return!1;let c=r?n.tr:null;return Pq(c,s,e,t)?(r&&r(c.scrollIntoView()),!0):!1}}function Pq(e,t,n,r=null){let i=!1,a=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let u=s.resolve(t.start-2);a=new ep(u,u,t.depth),t.endIndex<t.parent.childCount&&(t=new ep(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let c=iw(a,n,r,t);return c?(e&&Rq(e,t,c,i,n),!0):!1}function Rq(e,t,n,r,i){let a=le.empty;for(let p=n.length-1;p>=0;p--)a=le.from(n[p].type.create(n[p].attrs,a));e.step(new rn(t.start-(r?2:0),t.end,t.start,t.end,new ge(a,0,0),n.length,!0));let s=0;for(let p=0;p<n.length;p++)n[p].type==i&&(s=p+1);let c=n.length-s,u=t.start+n.length-(r?2:0),d=t.parent;for(let p=t.startIndex,m=t.endIndex,y=!0;p<m;p++,y=!1)!y&&Wi(e.doc,u,c)&&(e.split(u,c),u+=2*c),u+=d.child(p).nodeSize;return e}function Lq(e){return function(t,n){let{$from:r,$to:i}=t.selection,a=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==e);return a?n?r.node(a.depth-1).type==e?Bq(t,n,e,a):Iq(t,n,a):!0:!1}}function Bq(e,t,n,r){let i=e.tr,a=r.end,s=r.$to.end(r.depth);a<s&&(i.step(new rn(a-1,s,a,s,new ge(le.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new ep(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const c=Xl(r);if(c==null)return!1;i.lift(r,c);let u=i.doc.resolve(i.mapping.map(a,-1)-1);return us(i.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&i.join(u.pos),t(i.scrollIntoView()),!0}function Iq(e,t,n){let r=e.tr,i=n.parent;for(let v=n.end,b=n.endIndex-1,w=n.startIndex;b>w;b--)v-=i.child(b).nodeSize,r.delete(v-1,v+1);let a=r.doc.resolve(n.start),s=a.nodeAfter;if(r.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,u=n.endIndex==i.childCount,d=a.node(-1),p=a.index(-1);if(!d.canReplace(p+(c?0:1),p+1,s.content.append(u?le.empty:le.from(i))))return!1;let m=a.pos,y=m+s.nodeSize;return r.step(new rn(m-(c?1:0),y+(u?1:0),m+1,y-1,new ge((c?le.empty:le.from(i.copy(le.empty))).append(u?le.empty:le.from(i.copy(le.empty))),c?0:1,u?0:1),c?0:1)),t(r.scrollIntoView()),!0}function zq(e){return function(t,n){let{$from:r,$to:i}=t.selection,a=r.blockRange(i,d=>d.childCount>0&&d.firstChild.type==e);if(!a)return!1;let s=a.startIndex;if(s==0)return!1;let c=a.parent,u=c.child(s-1);if(u.type!=e)return!1;if(n){let d=u.lastChild&&u.lastChild.type==c.type,p=le.from(d?e.create():null),m=new ge(le.from(e.create(null,le.from(c.type.create(null,p)))),d?3:1,0),y=a.start,v=a.end;n(t.tr.step(new rn(y-(d?3:1),v,y,v,m,1,!0)).scrollIntoView())}return!0}}const mn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Al=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let wb=null;const zi=function(e,t,n){let r=wb||(wb=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},$q=function(){wb=null},uo=function(e,t,n,r){return n&&(RC(e,t,n,r,-1)||RC(e,t,n,r,1))},Uq=/^(img|br|input|textarea|hr)$/i;function RC(e,t,n,r,i){for(var a;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Rr(e))){let s=e.parentNode;if(!s||s.nodeType!=1||pd(e)||Uq.test(e.nodeName)||e.contentEditable=="false")return!1;t=mn(e)+(i<0?0:1),e=s}else if(e.nodeType==1){let s=e.childNodes[t+(i<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((a=s.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)t+=i;else return!1;else e=s,t=i<0?Rr(e):0}else return!1}}function Rr(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Hq(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Rr(e)}else if(e.parentNode&&!pd(e))t=mn(e),e=e.parentNode;else return null}}function qq(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!pd(e))t=mn(e)+1,e=e.parentNode;else return null}}function Kq(e,t,n){for(let r=t==0,i=t==Rr(e);r||i;){if(e==n)return!0;let a=mn(e);if(e=e.parentNode,!e)return!1;r=r&&a==0,i=i&&a==Rr(e)}}function pd(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Lm=function(e){return e.focusNode&&uo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Us(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Vq(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Fq(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Rr(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Rr(r.startContainer),r.startOffset)}}}const mi=typeof navigator<"u"?navigator:null,LC=typeof document<"u"?document:null,ds=mi&&mi.userAgent||"",Sb=/Edge\/(\d+)/.exec(ds),F3=/MSIE \d/.exec(ds),Nb=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ds),Yn=!!(F3||Nb||Sb),Za=F3?document.documentMode:Nb?+Nb[1]:Sb?+Sb[1]:0,Ir=!Yn&&/gecko\/(\d+)/i.test(ds);Ir&&+(/Firefox\/(\d+)/.exec(ds)||[0,0])[1];const jb=!Yn&&/Chrome\/(\d+)/.exec(ds),kn=!!jb,W3=jb?+jb[1]:0,Ln=!Yn&&!!mi&&/Apple Computer/.test(mi.vendor),Ml=Ln&&(/Mobile\/\w+/.test(ds)||!!mi&&mi.maxTouchPoints>2),Dr=Ml||(mi?/Mac/.test(mi.platform):!1),Wq=mi?/Win/.test(mi.platform):!1,qi=/Android \d/.test(ds),md=!!LC&&"webkitFontSmoothing"in LC.documentElement.style,Gq=md?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Yq(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Ri(e,t){return typeof e=="number"?e:e[t]}function Xq(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function BC(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,a=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(s.nodeType!=1){s=Al(s);continue}let c=s,u=c==a.body,d=u?Yq(a):Xq(c),p=0,m=0;if(t.top<d.top+Ri(r,"top")?m=-(d.top-t.top+Ri(i,"top")):t.bottom>d.bottom-Ri(r,"bottom")&&(m=t.bottom-t.top>d.bottom-d.top?t.top+Ri(i,"top")-d.top:t.bottom-d.bottom+Ri(i,"bottom")),t.left<d.left+Ri(r,"left")?p=-(d.left-t.left+Ri(i,"left")):t.right>d.right-Ri(r,"right")&&(p=t.right-d.right+Ri(i,"right")),p||m)if(u)a.defaultView.scrollBy(p,m);else{let v=c.scrollLeft,b=c.scrollTop;m&&(c.scrollTop+=m),p&&(c.scrollLeft+=p);let w=c.scrollLeft-v,S=c.scrollTop-b;t={left:t.left-w,top:t.top-S,right:t.right-w,bottom:t.bottom-S}}let y=u?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(y))break;s=y=="absolute"?s.offsetParent:Al(s)}}function Qq(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let a=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){let c=e.root.elementFromPoint(a,s);if(!c||c==e.dom||!e.dom.contains(c))continue;let u=c.getBoundingClientRect();if(u.top>=n-20){r=c,i=u.top;break}}return{refDOM:r,refTop:i,stack:G3(e.dom)}}function G3(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Al(r));return t}function Zq({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;Y3(n,r==0?0:r-t)}function Y3(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:a}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=a&&(r.scrollLeft=a)}}let ul=null;function Jq(e){if(e.setActive)return e.setActive();if(ul)return e.focus(ul);let t=G3(e);e.focus(ul==null?{get preventScroll(){return ul={preventScroll:!0},!0}}:void 0),ul||(ul=!1,Y3(t,0))}function X3(e,t){let n,r=2e8,i,a=0,s=t.top,c=t.top,u,d;for(let p=e.firstChild,m=0;p;p=p.nextSibling,m++){let y;if(p.nodeType==1)y=p.getClientRects();else if(p.nodeType==3)y=zi(p).getClientRects();else continue;for(let v=0;v<y.length;v++){let b=y[v];if(b.top<=s&&b.bottom>=c){s=Math.max(b.bottom,s),c=Math.min(b.top,c);let w=b.left>t.left?b.left-t.left:b.right<t.left?t.left-b.right:0;if(w<r){n=p,r=w,i=w&&n.nodeType==3?{left:b.right<t.left?b.right:b.left,top:t.top}:t,p.nodeType==1&&w&&(a=m+(t.left>=(b.left+b.right)/2?1:0));continue}}else b.top>t.top&&!u&&b.left<=t.left&&b.right>=t.left&&(u=p,d={left:Math.max(b.left,Math.min(b.right,t.left)),top:b.top});!n&&(t.left>=b.right&&t.top>=b.top||t.left>=b.left&&t.top>=b.bottom)&&(a=m+1)}}return!n&&u&&(n=u,i=d,r=0),n&&n.nodeType==3?eK(n,i):!n||r&&n.nodeType==1?{node:e,offset:a}:X3(n,i)}function eK(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let a=Ba(r,1);if(a.top!=a.bottom&&dw(t,a))return{node:e,offset:i+(t.left>=(a.left+a.right)/2?1:0)}}return{node:e,offset:0}}function dw(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function tK(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function nK(e,t,n){let{node:r,offset:i}=X3(t,n),a=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,i,a)}function rK(e,t,n,r){let i=-1;for(let a=t,s=!1;a!=e.dom;){let c=e.docView.nearestDesc(a,!0),u;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((u=c.dom.getBoundingClientRect()).width||u.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!s&&u.left>r.left||u.top>r.top?i=c.posBefore:(!s&&u.right<r.left||u.bottom<r.top)&&(i=c.posAfter),s=!0),!c.contentDOM&&i<0&&!c.node.isText))return(c.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?c.posBefore:c.posAfter;a=c.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function Q3(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),a=i;;){let s=e.childNodes[a];if(s.nodeType==1){let c=s.getClientRects();for(let u=0;u<c.length;u++){let d=c[u];if(dw(t,d))return Q3(s,t,d)}}if((a=(a+1)%r)==i)break}return e}function iK(e,t){let n=e.dom.ownerDocument,r,i=0,a=Fq(n,t.left,t.top);a&&({node:r,offset:i}=a);let s=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),c;if(!s||!e.dom.contains(s.nodeType!=1?s.parentNode:s)){let d=e.dom.getBoundingClientRect();if(!dw(t,d)||(s=Q3(e.dom,t,d),!s))return null}if(Ln)for(let d=s;r&&d;d=Al(d))d.draggable&&(r=void 0);if(s=tK(s,t),r){if(Ir&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=t.left&&m.bottom>t.top&&i++}let d;md&&i&&r.nodeType==1&&(d=r.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?c=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(c=rK(e,r,i,t))}c==null&&(c=nK(e,s,t));let u=e.docView.nearestDesc(s,!0);return{pos:c,inside:u?u.posAtStart-u.border:-1}}function IC(e){return e.top<e.bottom||e.left<e.right}function Ba(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(IC(r))return r}return Array.prototype.find.call(n,IC)||e.getBoundingClientRect()}const aK=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Z3(e,t,n){let{node:r,offset:i,atom:a}=e.docView.domFromPos(t,n<0?-1:1),s=md||Ir;if(r.nodeType==3)if(s&&(aK.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=Ba(zi(r,i,i),n);if(Ir&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let d=Ba(zi(r,i-1,i-1),-1);if(d.top==u.top){let p=Ba(zi(r,i,i+1),-1);if(p.top!=u.top)return lu(p,p.left<d.left)}}return u}else{let u=i,d=i,p=n<0?1:-1;return n<0&&!i?(d++,p=-1):n>=0&&i==r.nodeValue.length?(u--,p=1):n<0?u--:d++,lu(Ba(zi(r,u,d),p),p<0)}if(!e.state.doc.resolve(t-(a||0)).parent.inlineContent){if(a==null&&i&&(n<0||i==Rr(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return iv(u.getBoundingClientRect(),!1)}if(a==null&&i<Rr(r)){let u=r.childNodes[i];if(u.nodeType==1)return iv(u.getBoundingClientRect(),!0)}return iv(r.getBoundingClientRect(),n>=0)}if(a==null&&i&&(n<0||i==Rr(r))){let u=r.childNodes[i-1],d=u.nodeType==3?zi(u,Rr(u)-(s?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(d)return lu(Ba(d,1),!1)}if(a==null&&i<Rr(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let d=u?u.nodeType==3?zi(u,0,s?0:1):u.nodeType==1?u:null:null;if(d)return lu(Ba(d,-1),!0)}return lu(Ba(r.nodeType==3?zi(r):r,-n),n>=0)}function lu(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function iv(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function J3(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function sK(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return J3(e,t,()=>{let{node:a}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let c=e.docView.nearestDesc(a,!0);if(!c)break;if(c.node.isBlock){a=c.contentDOM||c.dom;break}a=c.dom.parentNode}let s=Z3(e,i.pos,1);for(let c=a.firstChild;c;c=c.nextSibling){let u;if(c.nodeType==1)u=c.getClientRects();else if(c.nodeType==3)u=zi(c,0,c.nodeValue.length).getClientRects();else continue;for(let d=0;d<u.length;d++){let p=u[d];if(p.bottom>p.top+1&&(n=="up"?s.top-p.top>(p.bottom-s.top)*2:p.bottom-s.bottom>(s.bottom-p.top)*2))return!1}}return!0})}const oK=/[\u0590-\u08ac]/;function lK(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,a=!i,s=i==r.parent.content.size,c=e.domSelection();return c?!oK.test(r.parent.textContent)||!c.modify?n=="left"||n=="backward"?a:s:J3(e,t,()=>{let{focusNode:u,focusOffset:d,anchorNode:p,anchorOffset:m}=e.domSelectionRange(),y=c.caretBidiLevel;c.modify("move",n,"character");let v=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:b,focusOffset:w}=e.domSelectionRange(),S=b&&!v.contains(b.nodeType==1?b:b.parentNode)||u==b&&d==w;try{c.collapse(p,m),u&&(u!=p||d!=m)&&c.extend&&c.extend(u,d)}catch{}return y!=null&&(c.caretBidiLevel=y),S}):r.pos==r.start()||r.pos==r.end()}let zC=null,$C=null,UC=!1;function cK(e,t,n){return zC==t&&$C==n?UC:(zC=t,$C=n,UC=n=="up"||n=="down"?sK(e,t,n):lK(e,t,n))}const zr=0,HC=1,qs=2,gi=3;class gd{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=zr,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let a,s;if(t==this.contentDOM)a=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.previousSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(s)+s.size:this.posAtStart}else{let a,s;if(t==this.contentDOM)a=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.nextSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(s):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>mn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let a=t;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let a=t;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let a=this.getDesc(i),s;if(a&&(!n||a.node))if(r&&(s=a.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))r=!1;else return a}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],a=r+i.size;if(r==t&&a!=r){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let c=i.children[s];if(c.size){i=c;break}}return i}if(t<a)return i.descAt(t-r-i.border);r=a}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let a=0;r<this.children.length;r++){let s=this.children[r],c=a+s.size;if(c>t||s instanceof tP){i=t-a;break}a=c}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let a;r&&!(a=this.children[r-1]).size&&a instanceof eP&&a.side>=0;r--);if(n<=0){let a,s=!0;for(;a=r?this.children[r-1]:null,!(!a||a.dom.parentNode==this.contentDOM);r--,s=!1);return a&&n&&s&&!a.border&&!a.domAtom?a.domFromPos(a.size,n):{node:this.contentDOM,offset:a?mn(a.dom)+1:0}}else{let a,s=!0;for(;a=r<this.children.length?this.children[r]:null,!(!a||a.dom.parentNode==this.contentDOM);r++,s=!1);return a&&s&&!a.border&&!a.domAtom?a.domFromPos(0,n):{node:this.contentDOM,offset:a?mn(a.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let s=r,c=0;;c++){let u=this.children[c],d=s+u.size;if(i==-1&&t<=d){let p=s+u.border;if(t>=p&&n<=d-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(t,n,p);t=s;for(let m=c;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){i=mn(y.dom)+1;break}t-=y.size}i==-1&&(i=0)}if(i>-1&&(d>n||c==this.children.length-1)){n=d;for(let p=c+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){a=mn(m.dom);break}n+=m.size}a==-1&&(a=this.contentDOM.childNodes.length);break}s=d}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:a}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let a=Math.min(t,n),s=Math.max(t,n);for(let v=0,b=0;v<this.children.length;v++){let w=this.children[v],S=b+w.size;if(a>b&&s<S)return w.setSelection(t-b-w.border,n-b-w.border,r,i);b=S}let c=this.domFromPos(t,t?-1:1),u=n==t?c:this.domFromPos(n,n?-1:1),d=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((Ir||Ln)&&t==n){let{node:v,offset:b}=c;if(v.nodeType==3){if(m=!!(b&&v.nodeValue[b-1]==`
`),m&&b==v.nodeValue.length)for(let w=v,S;w;w=w.parentNode){if(S=w.nextSibling){S.nodeName=="BR"&&(c=u={node:S.parentNode,offset:mn(S)+1});break}let k=w.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let w=v.childNodes[b-1];m=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(Ir&&p.focusNode&&p.focusNode!=u.node&&p.focusNode.nodeType==1){let v=p.focusNode.childNodes[p.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||m&&Ln)&&uo(c.node,c.offset,p.anchorNode,p.anchorOffset)&&uo(u.node,u.offset,p.focusNode,p.focusOffset))return;let y=!1;if((d.extend||t==n)&&!(m&&Ir)){d.collapse(c.node,c.offset);try{t!=n&&d.extend(u.node,u.offset),y=!0}catch{}}if(!y){if(t>n){let b=c;c=u,u=b}let v=document.createRange();v.setEnd(u.node,u.offset),v.setStart(c.node,c.offset),d.removeAllRanges(),d.addRange(v)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let a=this.children[i],s=r+a.size;if(r==s?t<=s&&n>=r:t<s&&n>r){let c=r+a.border,u=s-a.border;if(t>=c&&n<=u){this.dirty=t==r||n==s?qs:HC,t==c&&n==u&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=gi:a.markDirty(t-c,n-c);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?qs:gi}r=s}this.dirty=qs}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?qs:HC;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class eP extends gd{constructor(t,n,r,i){let a,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!n.type.spec.raw){if(s.nodeType!=1){let c=document.createElement("span");c.appendChild(s),s=c}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=n,this.widget=n,a=this}matchesWidget(t){return this.dirty==zr&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class uK extends gd{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class fo extends gd{constructor(t,n,r,i,a){super(t,[],r,i),this.mark=n,this.spec=a}static create(t,n,r,i){let a=i.nodeViews[n.type.name],s=a&&a(n,i,r);return(!s||!s.dom)&&(s=bo.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new fo(t,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&gi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=gi&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=zr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=zr}}slice(t,n,r){let i=fo.create(this.parent,this.mark,!0,r),a=this.children,s=this.size;n<s&&(a=Eb(a,n,s,r)),t>0&&(a=Eb(a,0,t,r));for(let c=0;c<a.length;c++)a[c].parent=i;return i.children=a,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ja extends gd{constructor(t,n,r,i,a,s,c,u,d){super(t,[],a,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=c}static create(t,n,r,i,a,s){let c=a.nodeViews[n.type.name],u,d=c&&c(n,a,()=>{if(!u)return s;if(u.parent)return u.parent.posBeforeChild(u)},r,i),p=d&&d.dom,m=d&&d.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=bo.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let y=p;return p=iP(p,r,n),d?u=new dK(t,n,r,i,p,m||null,y,d,a,s+1):n.isText?new Bm(t,n,r,i,p,y,a):new Ja(t,n,r,i,p,m||null,y,a,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>le.empty)}return t}matchesNode(t,n,r){return this.dirty==zr&&t.eq(this.node)&&np(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,a=t.composing?this.localCompositionInfo(t,n):null,s=a&&a.pos>-1?a:null,c=a&&a.pos<0,u=new hK(this,s&&s.node,t);gK(this.node,this.innerDeco,(d,p,m)=>{d.spec.marks?u.syncToMarks(d.spec.marks,r,t):d.type.side>=0&&!m&&u.syncToMarks(p==this.node.childCount?ot.none:this.node.child(p).marks,r,t),u.placeWidget(d,t,i)},(d,p,m,y)=>{u.syncToMarks(d.marks,r,t);let v;u.findNodeMatch(d,p,m,y)||c&&t.state.selection.from>i&&t.state.selection.to<i+d.nodeSize&&(v=u.findIndexWithChild(a.node))>-1&&u.updateNodeAt(d,p,m,v,t)||u.updateNextNode(d,p,m,t,y,i)||u.addNode(d,p,m,t,i),i+=d.nodeSize}),u.syncToMarks([],r,t),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==qs)&&(s&&this.protectLocalComposition(t,s),nP(this.contentDOM,this.children,t),Ml&&yK(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Le)||r<n||i>n+this.node.content.size)return null;let a=t.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let s=a.nodeValue,c=vK(this.node.content,s,r-n,i-n);return c<0?null:{node:a,pos:c,text:s}}else return{node:a,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let a=n;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let s=new uK(this,a,n,i);t.input.compositionNodes.push(s),this.children=Eb(this.children,r,r+i.length,t,s)}update(t,n,r,i){return this.dirty==gi||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=zr}updateOuterDeco(t){if(np(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=rP(this.dom,this.nodeDOM,kb(this.outerDeco,this.node,n),kb(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function qC(e,t,n,r,i){iP(r,t,e);let a=new Ja(void 0,e,t,n,r,r,r,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class Bm extends Ja{constructor(t,n,r,i,a,s,c){super(t,n,r,i,a,null,s,c,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==gi||this.dirty!=zr&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=zr||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=zr,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),a=document.createTextNode(i.text);return new Bm(this.parent,i,this.outerDeco,this.innerDeco,a,a,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=gi)}get domAtom(){return!1}isText(t){return this.node.text==t}}class tP extends gd{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==zr&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class dK extends Ja{constructor(t,n,r,i,a,s,c,u,d,p){super(t,n,r,i,a,s,c,d,p),this.spec=u}update(t,n,r,i){if(this.dirty==gi)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let a=this.spec.update(t,n,r);return a&&this.updateInner(t,n,r,i),a}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function nP(e,t,n){let r=e.firstChild,i=!1;for(let a=0;a<t.length;a++){let s=t[a],c=s.dom;if(c.parentNode==e){for(;c!=r;)r=KC(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(c,r);if(s instanceof fo){let u=r?r.previousSibling:e.lastChild;nP(s.contentDOM,s.children,n),r=u?u.nextSibling:e.firstChild}}for(;r;)r=KC(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const Eu=function(e){e&&(this.nodeName=e)};Eu.prototype=Object.create(null);const Ks=[new Eu];function kb(e,t,n){if(e.length==0)return Ks;let r=n?Ks[0]:new Eu,i=[r];for(let a=0;a<e.length;a++){let s=e[a].type.attrs;if(s){s.nodeName&&i.push(r=new Eu(s.nodeName));for(let c in s){let u=s[c];u!=null&&(n&&i.length==1&&i.push(r=new Eu(t.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+u:c=="style"?r.style=(r.style?r.style+";":"")+u:c!="nodeName"&&(r[c]=u))}}}return i}function rP(e,t,n,r){if(n==Ks&&r==Ks)return t;let i=t;for(let a=0;a<r.length;a++){let s=r[a],c=n[a];if(a){let u;c&&c.nodeName==s.nodeName&&i!=e&&(u=i.parentNode)&&u.nodeName.toLowerCase()==s.nodeName||(u=document.createElement(s.nodeName),u.pmIsDeco=!0,u.appendChild(i),c=Ks[0]),i=u}fK(i,c||Ks[0],s)}return i}function fK(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let a=0;a<r.length;a++)i.indexOf(r[a])==-1&&e.classList.remove(r[a]);for(let a=0;a<i.length;a++)r.indexOf(i[a])==-1&&e.classList.add(i[a]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function iP(e,t,n){return rP(e,e,Ks,kb(t,n,e.nodeType!=1))}function np(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function KC(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class hK{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=pK(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,a=this.stack.length>>1,s=Math.min(a,t.length);for(;i<s&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=zr,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<t.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let d=this.top.children[u];if(d.matchesMark(t[a])&&!this.isLocked(d.dom)){c=u;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let u=fo.create(this.top,t[a],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,a++}}findNodeMatch(t,n,r,i){let a=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,r))a=this.top.children.indexOf(s,this.index);else for(let c=this.index,u=Math.min(this.top.children.length,c+5);c<u;c++){let d=this.top.children[c];if(d.matchesNode(t,n,r)&&!this.preMatch.matched.has(d)){a=c;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(t,n,r,i,a){let s=this.top.children[i];return s.dirty==gi&&s.dom==s.contentDOM&&(s.dirty=qs),s.update(t,n,r,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,a,s){for(let c=this.index;c<this.top.children.length;c++){let u=this.top.children[c];if(u instanceof Ja){let d=this.preMatch.matched.get(u);if(d!=null&&d!=a)return!1;let p=u.dom,m,y=this.isLocked(p)&&!(t.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==t.text&&u.dirty!=gi&&np(n,u.outerDeco));if(!y&&u.update(t,n,r,i))return this.destroyBetween(this.index,c),u.dom!=p&&(this.changed=!0),this.index++,!0;if(!y&&(m=this.recreateWrapper(u,t,n,r,i,s)))return this.destroyBetween(this.index,c),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=qs,m.updateChildren(i,s+1),m.dirty=zr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,a,s){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!np(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let c=Ja.create(this.top,n,r,i,a,s);if(c.contentDOM){c.children=t.children,t.children=[];for(let u of c.children)u.parent=c}return t.destroy(),c}addNode(t,n,r,i,a){let s=Ja.create(this.top,t,n,r,i,a);s.contentDOM&&s.updateChildren(i,a+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new eP(this.top,t,n,r);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof fo;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Bm)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Ln||kn)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new tP(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function pK(e,t){let n=t,r=n.children.length,i=e.childCount,a=new Map,s=[];e:for(;i>0;){let c;for(;;)if(r){let d=n.children[r-1];if(d instanceof fo)n=d,r=d.children.length;else{c=d,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=c.node;if(u){if(u!=e.child(i-1))break;--i,a.set(c,i),s.push(c)}}return{index:i,matched:a,matches:s.reverse()}}function mK(e,t){return e.type.side-t.type.side}function gK(e,t,n,r){let i=t.locals(e),a=0;if(i.length==0){for(let d=0;d<e.childCount;d++){let p=e.child(d);r(p,i,t.forChild(a,p),d),a+=p.nodeSize}return}let s=0,c=[],u=null;for(let d=0;;){let p,m;for(;s<i.length&&i[s].to==a;){let S=i[s++];S.widget&&(p?(m||(m=[p])).push(S):p=S)}if(p)if(m){m.sort(mK);for(let S=0;S<m.length;S++)n(m[S],d,!!u)}else n(p,d,!!u);let y,v;if(u)v=-1,y=u,u=null;else if(d<e.childCount)v=d,y=e.child(d++);else break;for(let S=0;S<c.length;S++)c[S].to<=a&&c.splice(S--,1);for(;s<i.length&&i[s].from<=a&&i[s].to>a;)c.push(i[s++]);let b=a+y.nodeSize;if(y.isText){let S=b;s<i.length&&i[s].from<S&&(S=i[s].from);for(let k=0;k<c.length;k++)c[k].to<S&&(S=c[k].to);S<b&&(u=y.cut(S-a),y=y.cut(0,S-a),b=S,v=-1)}else for(;s<i.length&&i[s].to<b;)s++;let w=y.isInline&&!y.isLeaf?c.filter(S=>!S.inline):c.slice();r(y,w,t.forChild(a,y),v),a=b}}function yK(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function vK(e,t,n,r){for(let i=0,a=0;i<e.childCount&&a<=r;){let s=e.child(i++),c=a;if(a+=s.nodeSize,!s.isText)continue;let u=s.text;for(;i<e.childCount;){let d=e.child(i++);if(a+=d.nodeSize,!d.isText)break;u+=d.text}if(a>=n){if(a>=r&&u.slice(r-t.length-c,r-c)==t)return r-t.length;let d=c<r?u.lastIndexOf(t,r-c-1):-1;if(d>=0&&d+t.length+c>=n)return c+d;if(n==r&&u.length>=r+t.length-c&&u.slice(r-c,r-c+t.length)==t)return r}}return-1}function Eb(e,t,n,r,i){let a=[];for(let s=0,c=0;s<e.length;s++){let u=e[s],d=c,p=c+=u.size;d>=n||p<=t?a.push(u):(d<t&&a.push(u.slice(0,t-d,r)),i&&(a.push(i),i=void 0),p>n&&a.push(u.slice(n-d,u.size,r)))}return a}function fw(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),a=i&&i.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let c=r.resolve(s),u,d;if(Lm(n)){for(u=s;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&Ae.isSelectable(m)&&i.parent&&!(m.isInline&&Kq(n.focusNode,n.focusOffset,i.dom))){let y=i.posBefore;d=new Ae(s==y?c:r.resolve(y))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=s,y=s;for(let v=0;v<n.rangeCount;v++){let b=n.getRangeAt(v);m=Math.min(m,e.docView.posFromDOM(b.startContainer,b.startOffset,1)),y=Math.max(y,e.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(m<0)return null;[u,s]=y==e.state.selection.anchor?[y,m]:[m,y],c=r.resolve(s)}else u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let p=r.resolve(u);if(!d){let m=t=="pointer"||e.state.selection.head<c.pos&&!a?1:-1;d=hw(e,p,c,m)}return d}function aP(e){return e.editable?e.hasFocus():oP(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Gi(e,t=!1){let n=e.state.selection;if(sP(e,n),!!aP(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&kn){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&uo(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)bK(e);else{let{anchor:r,head:i}=n,a,s;VC&&!(n instanceof Le)&&(n.$from.parent.inlineContent||(a=FC(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=FC(e,n.to))),e.docView.setSelection(r,i,e,t),VC&&(a&&WC(a),s&&WC(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&xK(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const VC=Ln||kn&&W3<63;function FC(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,a=r?n.childNodes[r-1]:null;if(Ln&&i&&i.contentEditable=="false")return av(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return av(i);if(a)return av(a)}}function av(e){return e.contentEditable="true",Ln&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function WC(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function xK(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!aP(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function bK(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,mn(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&Yn&&Za<=11&&(n.disabled=!0,n.disabled=!1)}function sP(e,t){if(t instanceof Ae){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(GC(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else GC(e)}function GC(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function hw(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Le.between(t,n,r)}function YC(e){return e.editable&&!e.hasFocus()?!1:oP(e)}function oP(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function wK(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return uo(t.node,t.offset,n.anchorNode,n.anchorOffset)}function Cb(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),a=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return a&&$e.findFrom(a,t)}function Ia(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function XC(e,t,n){let r=e.state.selection;if(r instanceof Le)if(n.indexOf("s")>-1){let{$head:i}=r,a=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let s=e.state.doc.resolve(i.pos+a.nodeSize*(t<0?-1:1));return Ia(e,new Le(r.$anchor,s))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=Cb(e.state,t);return i&&i instanceof Ae?Ia(e,i):!1}else if(!(Dr&&n.indexOf("m")>-1)){let i=r.$head,a=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,s;if(!a||a.isText)return!1;let c=t<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(s=e.docView.descAt(c))&&!s.contentDOM?Ae.isSelectable(a)?Ia(e,new Ae(t<0?e.state.doc.resolve(i.pos-a.nodeSize):i)):md?Ia(e,new Le(e.state.doc.resolve(t<0?c:c+a.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ae&&r.node.isInline)return Ia(e,new Le(t>0?r.$to:r.$from));{let i=Cb(e.state,t);return i?Ia(e,i):!1}}}function rp(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Cu(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function dl(e,t){return t<0?SK(e):NK(e)}function SK(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,a,s=!1;for(Ir&&n.nodeType==1&&r<rp(n)&&Cu(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(Cu(c,-1))i=n,a=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(lP(n))break;{let c=n.previousSibling;for(;c&&Cu(c,-1);)i=n.parentNode,a=mn(c),c=c.previousSibling;if(c)n=c,r=rp(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?Ob(e,n,r):i&&Ob(e,i,a)}function NK(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=rp(n),a,s;for(;;)if(r<i){if(n.nodeType!=1)break;let c=n.childNodes[r];if(Cu(c,1))a=n,s=++r;else break}else{if(lP(n))break;{let c=n.nextSibling;for(;c&&Cu(c,1);)a=c.parentNode,s=mn(c)+1,c=c.nextSibling;if(c)n=c,r=0,i=rp(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}a&&Ob(e,a,s)}function lP(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function jK(e,t){for(;e&&t==e.childNodes.length&&!pd(e);)t=mn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function kK(e,t){for(;e&&!t&&!pd(e);)t=mn(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function Ob(e,t,n){if(t.nodeType!=3){let a,s;(s=jK(t,n))?(t=s,n=0):(a=kK(t,n))&&(t=a,n=a.nodeValue.length)}let r=e.domSelection();if(!r)return;if(Lm(r)){let a=document.createRange();a.setEnd(t,n),a.setStart(t,n),r.removeAllRanges(),r.addRange(a)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Gi(e)},50)}function QC(e,t){let n=e.state.doc.resolve(t);if(!(kn||Wq)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let a=e.coordsAtPos(t-1),s=(a.top+a.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(t<n.end()){let a=e.coordsAtPos(t+1),s=(a.top+a.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function ZC(e,t,n){let r=e.state.selection;if(r instanceof Le&&!r.empty||n.indexOf("s")>-1||Dr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:a}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let s=Cb(e.state,t);if(s&&s instanceof Ae)return Ia(e,s)}if(!i.parent.inlineContent){let s=t<0?i:a,c=r instanceof dr?$e.near(s,t):$e.findFrom(s,t);return c?Ia(e,c):!1}return!1}function JC(e,t){if(!(e.state.selection instanceof Le))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let a=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let s=e.state.tr;return t<0?s.delete(n.pos-a.nodeSize,n.pos):s.delete(n.pos,n.pos+a.nodeSize),e.dispatch(s),!0}return!1}function eO(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function EK(e){if(!Ln||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;eO(e,r,"true"),setTimeout(()=>eO(e,r,"false"),20)}return!1}function CK(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function OK(e,t){let n=t.keyCode,r=CK(t);if(n==8||Dr&&n==72&&r=="c")return JC(e,-1)||dl(e,-1);if(n==46&&!t.shiftKey||Dr&&n==68&&r=="c")return JC(e,1)||dl(e,1);if(n==13||n==27)return!0;if(n==37||Dr&&n==66&&r=="c"){let i=n==37?QC(e,e.state.selection.from)=="ltr"?-1:1:-1;return XC(e,i,r)||dl(e,i)}else if(n==39||Dr&&n==70&&r=="c"){let i=n==39?QC(e,e.state.selection.from)=="ltr"?1:-1:1;return XC(e,i,r)||dl(e,i)}else{if(n==38||Dr&&n==80&&r=="c")return ZC(e,-1,r)||dl(e,-1);if(n==40||Dr&&n==78&&r=="c")return EK(e)||ZC(e,1,r)||dl(e,1);if(r==(Dr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function pw(e,t){e.someProp("transformCopied",v=>{t=v(t,e)});let n=[],{content:r,openStart:i,openEnd:a}=t;for(;i>1&&a>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,a--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let s=e.someProp("clipboardSerializer")||bo.fromSchema(e.state.schema),c=pP(),u=c.createElement("div");u.appendChild(s.serializeFragment(r,{document:c}));let d=u.firstChild,p,m=0;for(;d&&d.nodeType==1&&(p=hP[d.nodeName.toLowerCase()]);){for(let v=p.length-1;v>=0;v--){let b=c.createElement(p[v]);for(;u.firstChild;)b.appendChild(u.firstChild);u.appendChild(b),m++}d=u.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${i} ${a}${m?` -${m}`:""} ${JSON.stringify(n)}`);let y=e.someProp("clipboardTextSerializer",v=>v(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:u,text:y,slice:t}}function cP(e,t,n,r,i){let a=i.parent.type.spec.code,s,c;if(!n&&!t)return null;let u=!!t&&(r||a||!n);if(u){if(e.someProp("transformPastedText",y=>{t=y(t,a||r,e)}),a)return c=new ge(le.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",y=>{c=y(c,e,!0)}),c;let m=e.someProp("clipboardTextParser",y=>y(t,i,r,e));if(m)c=m;else{let y=i.marks(),{schema:v}=e.state,b=bo.fromSchema(v);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(w=>{let S=s.appendChild(document.createElement("p"));w&&S.appendChild(b.serializeNode(v.text(w,y)))})}}else e.someProp("transformPastedHTML",m=>{n=m(n,e)}),s=_K(n),md&&DK(s);let d=s&&s.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let y=s.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;s=y}if(c||(c=(e.someProp("clipboardParser")||e.someProp("domParser")||Qa.fromSchema(e.state.schema)).parseSlice(s,{preserveWhitespace:!!(u||p),context:i,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!TK.test(y.parentNode.nodeName)?{ignore:!0}:null}})),p)c=PK(tO(c,+p[1],+p[2]),p[4]);else if(c=ge.maxOpen(AK(c.content,i),!0),c.openStart||c.openEnd){let m=0,y=0;for(let v=c.content.firstChild;m<c.openStart&&!v.type.spec.isolating;m++,v=v.firstChild);for(let v=c.content.lastChild;y<c.openEnd&&!v.type.spec.isolating;y++,v=v.lastChild);c=tO(c,m,y)}return e.someProp("transformPasted",m=>{c=m(c,e,u)}),c}const TK=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function AK(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),a,s=[];if(e.forEach(c=>{if(!s)return;let u=i.findWrapping(c.type),d;if(!u)return s=null;if(d=s.length&&a.length&&dP(u,a,c,s[s.length-1],0))s[s.length-1]=d;else{s.length&&(s[s.length-1]=fP(s[s.length-1],a.length));let p=uP(c,u);s.push(p),i=i.matchType(p.type),a=u}}),s)return le.from(s)}return e}function uP(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,le.from(e));return e}function dP(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let a=dP(e,t,n,r.lastChild,i+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(le.from(uP(n,e,i+1))))}}function fP(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,fP(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(le.empty,!0);return e.copy(n.append(r))}function Tb(e,t,n,r,i,a){let s=t<0?e.firstChild:e.lastChild,c=s.content;return e.childCount>1&&(a=0),i<r-1&&(c=Tb(c,t,n,r,i+1,a)),i>=n&&(c=t<0?s.contentMatchAt(0).fillBefore(c,a<=i).append(c):c.append(s.contentMatchAt(s.childCount).fillBefore(le.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(c))}function tO(e,t,n){return t<e.openStart&&(e=new ge(Tb(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new ge(Tb(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const hP={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let nO=null;function pP(){return nO||(nO=document.implementation.createHTMLDocument("title"))}let sv=null;function MK(e){let t=window.trustedTypes;return t?(sv||(sv=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),sv.createHTML(e)):e}function _K(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=pP().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&hP[r[1].toLowerCase()])&&(e=i.map(a=>"<"+a+">").join("")+e+i.map(a=>"</"+a+">").reverse().join("")),n.innerHTML=MK(e),i)for(let a=0;a<i.length;a++)n=n.querySelector(i[a])||n;return n}function DK(e){let t=e.querySelectorAll(kn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function PK(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:a,openEnd:s}=e;for(let c=r.length-2;c>=0;c-=2){let u=n.nodes[r[c]];if(!u||u.hasRequiredAttrs())break;i=le.from(u.create(r[c+1],i)),a++,s++}return new ge(i,a,s)}const Bn={},In={},RK={touchstart:!0,touchmove:!0};class LK{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function BK(e){for(let t in Bn){let n=Bn[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{zK(e,r)&&!mw(e,r)&&(e.editable||!(r.type in In))&&n(e,r)},RK[t]?{passive:!0}:void 0)}Ln&&e.dom.addEventListener("input",()=>null),Ab(e)}function Xa(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function IK(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Ab(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>mw(e,r))})}function mw(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function zK(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function $K(e,t){!mw(e,t)&&Bn[t.type]&&(e.editable||!(t.type in In))&&Bn[t.type](e,t)}In.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!gP(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(qi&&kn&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Ml&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,Us(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||OK(e,n)?n.preventDefault():Xa(e,"key")};In.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};In.keypress=(e,t)=>{let n=t;if(gP(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Dr&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Le)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),a=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,i,a))&&e.dispatch(a()),n.preventDefault()}};function Im(e){return{left:e.clientX,top:e.clientY}}function UK(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function gw(e,t,n,r,i){if(r==-1)return!1;let a=e.state.doc.resolve(r);for(let s=a.depth+1;s>0;s--)if(e.someProp(t,c=>s>a.depth?c(e,n,a.nodeAfter,a.before(s),i,!0):c(e,n,a.node(s),a.before(s),i,!1)))return!0;return!1}function Sl(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function HK(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Ae.isSelectable(r)?(Sl(e,new Ae(n)),!0):!1}function qK(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof Ae&&(r=n.node);let a=e.state.doc.resolve(t);for(let s=a.depth+1;s>0;s--){let c=s>a.depth?a.nodeAfter:a.node(s);if(Ae.isSelectable(c)){r&&n.$from.depth>0&&s>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?i=a.before(n.$from.depth):i=a.before(s);break}}return i!=null?(Sl(e,Ae.create(e.state.doc,i)),!0):!1}function KK(e,t,n,r,i){return gw(e,"handleClickOn",t,n,r)||e.someProp("handleClick",a=>a(e,t,r))||(i?qK(e,n):HK(e,n))}function VK(e,t,n,r){return gw(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function FK(e,t,n,r){return gw(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||WK(e,n,r)}function WK(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Sl(e,Le.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let a=i.depth+1;a>0;a--){let s=a>i.depth?i.nodeAfter:i.node(a),c=i.before(a);if(s.inlineContent)Sl(e,Le.create(r,c+1,c+1+s.content.size));else if(Ae.isSelectable(s))Sl(e,Ae.create(r,c));else continue;return!0}}function yw(e){return ip(e)}const mP=Dr?"metaKey":"ctrlKey";Bn.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=yw(e),i=Date.now(),a="singleClick";i-e.input.lastClick.time<500&&UK(n,e.input.lastClick)&&!n[mP]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?a="doubleClick":e.input.lastClick.type=="doubleClick"&&(a="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:a,button:n.button};let s=e.posAtCoords(Im(n));s&&(a=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new GK(e,s,n,!!r)):(a=="doubleClick"?VK:FK)(e,s.pos,s.inside,n)?n.preventDefault():Xa(e,"pointer"))};class GK{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[mP],this.allowDefault=r.shiftKey;let a,s;if(n.inside>-1)a=t.state.doc.nodeAt(n.inside),s=n.inside;else{let p=t.state.doc.resolve(n.pos);a=p.parent,s=p.depth?p.before():0}const c=i?null:r.target,u=c?t.docView.nearestDesc(c,!0):null;this.target=u&&u.nodeDOM.nodeType==1?u.nodeDOM:null;let{selection:d}=t.state;(r.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||d instanceof Ae&&d.from<=s&&d.to>s)&&(this.mightDrag={node:a,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ir&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Xa(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Gi(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Im(t))),this.updateAllowDefault(t),this.allowDefault||!n?Xa(this.view,"pointer"):KK(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Ln&&this.mightDrag&&!this.mightDrag.node.isAtom||kn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Sl(this.view,$e.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Xa(this.view,"pointer")}move(t){this.updateAllowDefault(t),Xa(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Bn.touchstart=e=>{e.input.lastTouch=Date.now(),yw(e),Xa(e,"pointer")};Bn.touchmove=e=>{e.input.lastTouch=Date.now(),Xa(e,"pointer")};Bn.contextmenu=e=>yw(e);function gP(e,t){return e.composing?!0:Ln&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const YK=qi?5e3:-1;In.compositionstart=In.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Le&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),ip(e,!0),e.markCursor=null;else if(ip(e,!t.selection.empty),Ir&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,a=r.focusOffset;i&&i.nodeType==1&&a!=0;){let s=a<0?i.lastChild:i.childNodes[a-1];if(!s)break;if(s.nodeType==3){let c=e.domSelection();c&&c.collapse(s,s.nodeValue.length);break}else i=s,a=-1}}e.input.composing=!0}yP(e,YK)};In.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,yP(e,20))};function yP(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>ip(e),t))}function vP(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=QK());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function XK(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=Hq(t.focusNode,t.focusOffset),r=qq(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,a=e.domObserver.lastChangedTextNode;if(n==a||r==a)return a;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function QK(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function ip(e,t=!1){if(!(qi&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),vP(e),t||e.docView&&e.docView.dirty){let n=fw(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function ZK(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Hu=Yn&&Za<15||Ml&&Gq<604;Bn.copy=In.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let a=Hu?null:n.clipboardData,s=r.content(),{dom:c,text:u}=pw(e,s);a?(n.preventDefault(),a.clearData(),a.setData("text/html",c.innerHTML),a.setData("text/plain",u)):ZK(e,c),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function JK(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function eV(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?qu(e,r.value,null,i,t):qu(e,r.textContent,r.innerHTML,i,t)},50)}function qu(e,t,n,r,i){let a=cP(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",u=>u(e,i,a||ge.empty)))return!0;if(!a)return!1;let s=JK(a),c=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(a);return e.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function xP(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}In.paste=(e,t)=>{let n=t;if(e.composing&&!qi)return;let r=Hu?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&qu(e,xP(r),r.getData("text/html"),i,n)?n.preventDefault():eV(e,n)};class bP{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const tV=Dr?"altKey":"ctrlKey";function wP(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[tV]}Bn.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,a=i.empty?null:e.posAtCoords(Im(n)),s;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof Ae?i.to-1:i.to))){if(r&&r.mightDrag)s=Ae.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=e.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=e.docView&&(s=Ae.create(e.state.doc,m.posBefore))}}let c=(s||e.state.selection).content(),{dom:u,text:d,slice:p}=pw(e,c);(!n.dataTransfer.files.length||!kn||W3>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Hu?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",Hu||n.dataTransfer.setData("text/plain",d),e.dragging=new bP(p,wP(e,n),s)};Bn.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};In.dragover=In.dragenter=(e,t)=>t.preventDefault();In.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(Im(n));if(!i)return;let a=e.state.doc.resolve(i.pos),s=r&&r.slice;s?e.someProp("transformPasted",b=>{s=b(s,e,!1)}):s=cP(e,xP(n.dataTransfer),Hu?null:n.dataTransfer.getData("text/html"),!1,a);let c=!!(r&&wP(e,n));if(e.someProp("handleDrop",b=>b(e,n,s||ge.empty,c))){n.preventDefault();return}if(!s)return;n.preventDefault();let u=s?E3(e.state.doc,a.pos,s):a.pos;u==null&&(u=a.pos);let d=e.state.tr;if(c){let{node:b}=r;b?b.replace(d):d.deleteSelection()}let p=d.mapping.map(u),m=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,y=d.doc;if(m?d.replaceRangeWith(p,p,s.content.firstChild):d.replaceRange(p,p,s),d.doc.eq(y))return;let v=d.doc.resolve(p);if(m&&Ae.isSelectable(s.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(s.content.firstChild))d.setSelection(new Ae(v));else{let b=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((w,S,k,E)=>b=E),d.setSelection(hw(e,v,d.doc.resolve(b)))}e.focus(),e.dispatch(d.setMeta("uiEvent","drop"))};Bn.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Gi(e)},20))};Bn.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Bn.beforeinput=(e,t)=>{if(kn&&qi&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",a=>a(e,Us(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in In)Bn[e]=In[e];function Ku(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class ap{constructor(t,n){this.toDOM=t,this.spec=n||eo,this.side=this.spec.side||0}map(t,n,r,i){let{pos:a,deleted:s}=t.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Pn(a-r,a-r,this)}valid(){return!0}eq(t){return this==t||t instanceof ap&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Ku(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class es{constructor(t,n){this.attrs=t,this.spec=n||eo}map(t,n,r,i){let a=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return a>=s?null:new Pn(a,s,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof es&&Ku(this.attrs,t.attrs)&&Ku(this.spec,t.spec)}static is(t){return t.type instanceof es}destroy(){}}class vw{constructor(t,n){this.attrs=t,this.spec=n||eo}map(t,n,r,i){let a=t.mapResult(n.from+i,1);if(a.deleted)return null;let s=t.mapResult(n.to+i,-1);return s.deleted||s.pos<=a.pos?null:new Pn(a.pos-r,s.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),a;return i==n.from&&!(a=t.child(r)).isText&&i+a.nodeSize==n.to}eq(t){return this==t||t instanceof vw&&Ku(this.attrs,t.attrs)&&Ku(this.spec,t.spec)}destroy(){}}class Pn{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Pn(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Pn(t,t,new ap(n,r))}static inline(t,n,r,i){return new Pn(t,n,new es(r,i))}static node(t,n,r,i){return new Pn(t,n,new vw(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof es}get widget(){return this.type instanceof ap}}const pl=[],eo={};class Nt{constructor(t,n){this.local=t.length?t:pl,this.children=n.length?n:pl}static create(t,n){return n.length?sp(n,t,0,eo):Sn}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,a){for(let s=0;s<this.local.length;s++){let c=this.local[s];c.from<=n&&c.to>=t&&(!a||a(c.spec))&&r.push(c.copy(c.from+i,c.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let c=this.children[s]+1;this.children[s+2].findInner(t-c,n-c,r,i+c,a)}}map(t,n,r){return this==Sn||t.maps.length==0?this:this.mapInner(t,n,0,0,r||eo)}mapInner(t,n,r,i,a){let s;for(let c=0;c<this.local.length;c++){let u=this.local[c].map(t,r,i);u&&u.type.valid(n,u)?(s||(s=[])).push(u):a.onRemove&&a.onRemove(this.local[c].spec)}return this.children.length?nV(this.children,s||[],t,n,r,i,a):s?new Nt(s.sort(to),pl):Sn}add(t,n){return n.length?this==Sn?Nt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,a=0;t.forEach((c,u)=>{let d=u+r,p;if(p=NP(n,c,d)){for(i||(i=this.children.slice());a<i.length&&i[a]<u;)a+=3;i[a]==u?i[a+2]=i[a+2].addInner(c,p,d+1):i.splice(a,0,u,u+c.nodeSize,sp(p,c,d+1,eo)),a+=3}});let s=SP(a?jP(n):n,-r);for(let c=0;c<s.length;c++)s[c].type.valid(t,s[c])||s.splice(c--,1);return new Nt(s.length?this.local.concat(s).sort(to):this.local,i||this.children)}remove(t){return t.length==0||this==Sn?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let a=0;a<r.length;a+=3){let s,c=r[a]+n,u=r[a+1]+n;for(let p=0,m;p<t.length;p++)(m=t[p])&&m.from>c&&m.to<u&&(t[p]=null,(s||(s=[])).push(m));if(!s)continue;r==this.children&&(r=this.children.slice());let d=r[a+2].removeInner(s,c+1);d!=Sn?r[a+2]=d:(r.splice(a,3),a-=3)}if(i.length){for(let a=0,s;a<t.length;a++)if(s=t[a])for(let c=0;c<i.length;c++)i[c].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(c--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Nt(i,r):Sn}forChild(t,n){if(this==Sn)return this;if(n.isLeaf)return Nt.empty;let r,i;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=t){this.children[c]==t&&(r=this.children[c+2]);break}let a=t+1,s=a+n.content.size;for(let c=0;c<this.local.length;c++){let u=this.local[c];if(u.from<s&&u.to>a&&u.type instanceof es){let d=Math.max(a,u.from)-a,p=Math.min(s,u.to)-a;d<p&&(i||(i=[])).push(u.copy(d,p))}}if(i){let c=new Nt(i.sort(to),pl);return r?new Va([c,r]):c}return r||Sn}eq(t){if(this==t)return!0;if(!(t instanceof Nt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return xw(this.localsInner(t))}localsInner(t){if(this==Sn)return pl;if(t.inlineContent||!this.local.some(es.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof es||n.push(this.local[r]);return n}forEachSet(t){t(this)}}Nt.empty=new Nt([],[]);Nt.removeOverlap=xw;const Sn=Nt.empty;class Va{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,eo));return Va.from(r)}forChild(t,n){if(n.isLeaf)return Nt.empty;let r=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(t,n);a!=Sn&&(a instanceof Va?r=r.concat(a.members):r.push(a))}return Va.from(r)}eq(t){if(!(t instanceof Va)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(t);if(a.length)if(!n)n=a;else{r&&(n=n.slice(),r=!1);for(let s=0;s<a.length;s++)n.push(a[s])}}return n?xw(r?n:n.sort(to)):pl}static from(t){switch(t.length){case 0:return Sn;case 1:return t[0];default:return new Va(t.every(n=>n instanceof Nt)?t:t.reduce((n,r)=>n.concat(r instanceof Nt?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function nV(e,t,n,r,i,a,s){let c=e.slice();for(let d=0,p=a;d<n.maps.length;d++){let m=0;n.maps[d].forEach((y,v,b,w)=>{let S=w-b-(v-y);for(let k=0;k<c.length;k+=3){let E=c[k+1];if(E<0||y>E+p-m)continue;let O=c[k]+p-m;v>=O?c[k+1]=y<=O?-2:-1:y>=p&&S&&(c[k]+=S,c[k+1]+=S)}m+=S}),p=n.maps[d].map(p,-1)}let u=!1;for(let d=0;d<c.length;d+=3)if(c[d+1]<0){if(c[d+1]==-2){u=!0,c[d+1]=-1;continue}let p=n.map(e[d]+a),m=p-i;if(m<0||m>=r.content.size){u=!0;continue}let y=n.map(e[d+1]+a,-1),v=y-i,{index:b,offset:w}=r.content.findIndex(m),S=r.maybeChild(b);if(S&&w==m&&w+S.nodeSize==v){let k=c[d+2].mapInner(n,S,p+1,e[d]+a+1,s);k!=Sn?(c[d]=m,c[d+1]=v,c[d+2]=k):(c[d+1]=-2,u=!0)}else u=!0}if(u){let d=rV(c,e,t,n,i,a,s),p=sp(d,r,0,s);t=p.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,y=0;m<p.children.length;m+=3){let v=p.children[m];for(;y<c.length&&c[y]<v;)y+=3;c.splice(y,0,p.children[m],p.children[m+1],p.children[m+2])}}return new Nt(t.sort(to),c)}function SP(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Pn(i.from+t,i.to+t,i.type))}return n}function rV(e,t,n,r,i,a,s){function c(u,d){for(let p=0;p<u.local.length;p++){let m=u.local[p].map(r,i,d);m?n.push(m):s.onRemove&&s.onRemove(u.local[p].spec)}for(let p=0;p<u.children.length;p+=3)c(u.children[p+2],u.children[p]+d+1)}for(let u=0;u<e.length;u+=3)e[u+1]==-1&&c(e[u+2],t[u]+a+1);return n}function NP(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let a=0,s;a<e.length;a++)(s=e[a])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),e[a]=null);return i}function jP(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function sp(e,t,n,r){let i=[],a=!1;t.forEach((c,u)=>{let d=NP(e,c,u+n);if(d){a=!0;let p=sp(d,c,n+u+1,r);p!=Sn&&i.push(u,u+c.nodeSize,p)}});let s=SP(a?jP(e):e,-n).sort(to);for(let c=0;c<s.length;c++)s[c].type.valid(t,s[c])||(r.onRemove&&r.onRemove(s[c].spec),s.splice(c--,1));return s.length||i.length?new Nt(s,i):Sn}function to(e,t){return e.from-t.from||e.to-t.to}function xw(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let a=t[i];if(a.from==r.from){a.to!=r.to&&(t==e&&(t=e.slice()),t[i]=a.copy(a.from,r.to),rO(t,i+1,a.copy(r.to,a.to)));continue}else{a.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,a.from),rO(t,i,r.copy(a.from,r.to)));break}}}return t}function rO(e,t,n){for(;t<e.length&&to(n,e[t])>0;)t++;e.splice(t,0,n)}function ov(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Sn&&t.push(r)}),e.cursorWrapper&&t.push(Nt.create(e.state.doc,[e.cursorWrapper.deco])),Va.from(t)}const iV={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},aV=Yn&&Za<=11;class sV{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class oV{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new sV,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Yn&&Za<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),aV&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,iV)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(YC(this.view)){if(this.suppressingSelectionUpdates)return Gi(this.view);if(Yn&&Za<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&uo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let a=t.focusNode;a;a=Al(a))n.add(a);for(let a=t.anchorNode;a;a=Al(a))if(n.has(a)){r=a;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&YC(t)&&!this.ignoreSelectionChange(r),a=-1,s=-1,c=!1,u=[];if(t.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],u);m&&(a=a<0?m.from:Math.min(m.from,a),s=s<0?m.to:Math.max(m.to,s),m.typeOver&&(c=!0))}if(Ir&&u.length){let p=u.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,y]=p;m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let y of p){let v=y.parentNode;v&&v.nodeName=="LI"&&(!m||uV(t,m)!=v)&&y.remove()}}}let d=null;a<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Lm(r)&&(d=fw(t))&&d.eq($e.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Gi(t),this.currentSelection.set(r),t.scrollToSelection()):(a>-1||i)&&(a>-1&&(t.docView.markDirty(a,s),lV(t)),this.handleDOMChange(a,s,c,u),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Gi(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let p=0;p<t.addedNodes.length;p++){let m=t.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,a=t.nextSibling;if(Yn&&Za<=11&&t.addedNodes.length)for(let p=0;p<t.addedNodes.length;p++){let{previousSibling:m,nextSibling:y}=t.addedNodes[p];(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(i=m),(!y||Array.prototype.indexOf.call(t.addedNodes,y)<0)&&(a=y)}let s=i&&i.parentNode==t.target?mn(i)+1:0,c=r.localPosFromDOM(t.target,s,-1),u=a&&a.parentNode==t.target?mn(a):t.target.childNodes.length,d=r.localPosFromDOM(t.target,u,1);return{from:c,to:d}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let iO=new WeakMap,aO=!1;function lV(e){if(!iO.has(e)&&(iO.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Ir,aO)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),aO=!0}}function sO(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,a=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return uo(s.node,s.offset,i,a)&&([n,r,i,a]=[i,a,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}}function cV(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return sO(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?sO(e,n):null}function uV(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function dV(e,t,n){let{node:r,fromOffset:i,toOffset:a,from:s,to:c}=e.docView.parseRange(t,n),u=e.domSelectionRange(),d,p=u.anchorNode;if(p&&e.dom.contains(p.nodeType==1?p:p.parentNode)&&(d=[{node:p,offset:u.anchorOffset}],Lm(u)||d.push({node:u.focusNode,offset:u.focusOffset})),kn&&e.input.lastKeyCode===8)for(let S=a;S>i;S--){let k=r.childNodes[S-1],E=k.pmViewDesc;if(k.nodeName=="BR"&&!E){a=S;break}if(!E||E.size)break}let m=e.state.doc,y=e.someProp("domParser")||Qa.fromSchema(e.state.schema),v=m.resolve(s),b=null,w=y.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:i,to:a,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:fV,context:v});if(d&&d[0].pos!=null){let S=d[0].pos,k=d[1]&&d[1].pos;k==null&&(k=S),b={anchor:S+s,head:k+s}}return{doc:w,sel:b,from:s,to:c}}function fV(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Ln&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Ln&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const hV=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function pV(e,t,n,r,i){let a=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let D=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,B=fw(e,D);if(B&&!e.state.selection.eq(B)){if(kn&&qi&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",L=>L(e,Us(13,"Enter"))))return;let q=e.state.tr.setSelection(B);D=="pointer"?q.setMeta("pointer",!0):D=="key"&&q.scrollIntoView(),a&&q.setMeta("composition",a),e.dispatch(q)}return}let s=e.state.doc.resolve(t),c=s.sharedDepth(n);t=s.before(c+1),n=e.state.doc.resolve(n).after(c+1);let u=e.state.selection,d=dV(e,t,n),p=e.state.doc,m=p.slice(d.from,d.to),y,v;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(y=e.state.selection.to,v="end"):(y=e.state.selection.from,v="start"),e.input.lastKeyCode=null;let b=yV(m.content,d.doc.content,d.from,y,v);if(b&&e.input.domChangeCount++,(Ml&&e.input.lastIOSEnter>Date.now()-225||qi)&&i.some(D=>D.nodeType==1&&!hV.test(D.nodeName))&&(!b||b.endA>=b.endB)&&e.someProp("handleKeyDown",D=>D(e,Us(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!b)if(r&&u instanceof Le&&!u.empty&&u.$head.sameParent(u.$anchor)&&!e.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))b={start:u.from,endA:u.to,endB:u.to};else{if(d.sel){let D=oO(e,e.state.doc,d.sel);if(D&&!D.eq(e.state.selection)){let B=e.state.tr.setSelection(D);a&&B.setMeta("composition",a),e.dispatch(B)}}return}e.state.selection.from<e.state.selection.to&&b.start==b.endB&&e.state.selection instanceof Le&&(b.start>e.state.selection.from&&b.start<=e.state.selection.from+2&&e.state.selection.from>=d.from?b.start=e.state.selection.from:b.endA<e.state.selection.to&&b.endA>=e.state.selection.to-2&&e.state.selection.to<=d.to&&(b.endB+=e.state.selection.to-b.endA,b.endA=e.state.selection.to)),Yn&&Za<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>d.from&&d.doc.textBetween(b.start-d.from-1,b.start-d.from+1)=="  "&&(b.start--,b.endA--,b.endB--);let w=d.doc.resolveNoCache(b.start-d.from),S=d.doc.resolveNoCache(b.endB-d.from),k=p.resolve(b.start),E=w.sameParent(S)&&w.parent.inlineContent&&k.end()>=b.endA;if((Ml&&e.input.lastIOSEnter>Date.now()-225&&(!E||i.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!E&&w.pos<d.doc.content.size&&(!w.sameParent(S)||!w.parent.inlineContent)&&w.pos<S.pos&&!/\S/.test(d.doc.textBetween(w.pos,S.pos,"","")))&&e.someProp("handleKeyDown",D=>D(e,Us(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>b.start&&gV(p,b.start,b.endA,w,S)&&e.someProp("handleKeyDown",D=>D(e,Us(8,"Backspace")))){qi&&kn&&e.domObserver.suppressSelectionUpdates();return}kn&&b.endB==b.start&&(e.input.lastChromeDelete=Date.now()),qi&&!E&&w.start()!=S.start()&&S.parentOffset==0&&w.depth==S.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==b.endA&&(b.endB-=2,S=d.doc.resolveNoCache(b.endB-d.from),setTimeout(()=>{e.someProp("handleKeyDown",function(D){return D(e,Us(13,"Enter"))})},20));let O=b.start,_=b.endA,T=D=>{let B=D||e.state.tr.replace(O,_,d.doc.slice(b.start-d.from,b.endB-d.from));if(d.sel){let q=oO(e,B.doc,d.sel);q&&!(kn&&e.composing&&q.empty&&(b.start!=b.endB||e.input.lastChromeDelete<Date.now()-100)&&(q.head==O||q.head==B.mapping.map(_)-1)||Yn&&q.empty&&q.head==O)&&B.setSelection(q)}return a&&B.setMeta("composition",a),B.scrollIntoView()},M;if(E)if(w.pos==S.pos){Yn&&Za<=11&&w.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Gi(e),20));let D=T(e.state.tr.delete(O,_)),B=p.resolve(b.start).marksAcross(p.resolve(b.endA));B&&D.ensureMarks(B),e.dispatch(D)}else if(b.endA==b.endB&&(M=mV(w.parent.content.cut(w.parentOffset,S.parentOffset),k.parent.content.cut(k.parentOffset,b.endA-k.start())))){let D=T(e.state.tr);M.type=="add"?D.addMark(O,_,M.mark):D.removeMark(O,_,M.mark),e.dispatch(D)}else if(w.parent.child(w.index()).isText&&w.index()==S.index()-(S.textOffset?0:1)){let D=w.parent.textBetween(w.parentOffset,S.parentOffset),B=()=>T(e.state.tr.insertText(D,O,_));e.someProp("handleTextInput",q=>q(e,O,_,D,B))||e.dispatch(B())}else e.dispatch(T());else e.dispatch(T())}function oO(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:hw(e,t.resolve(n.anchor),t.resolve(n.head))}function mV(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,a=r,s,c,u;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<n.length;p++)a=n[p].removeFromSet(a);if(i.length==1&&a.length==0)c=i[0],s="add",u=p=>p.mark(c.addToSet(p.marks));else if(i.length==0&&a.length==1)c=a[0],s="remove",u=p=>p.mark(c.removeFromSet(p.marks));else return null;let d=[];for(let p=0;p<t.childCount;p++)d.push(u(t.child(p)));if(le.from(d).eq(e))return{mark:c,type:s}}function gV(e,t,n,r,i){if(n-t<=i.pos-r.pos||lv(r,!0,!1)<i.pos)return!1;let a=e.resolve(t);if(!r.parent.isTextblock){let c=a.nodeAfter;return c!=null&&n==t+c.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let s=e.resolve(lv(a,!0,!0));return!s.parent.isTextblock||s.pos>n||lv(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function lv(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let a=e.node(r).maybeChild(e.indexAfter(r));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function yV(e,t,n,r,i){let a=e.findDiffStart(t,n);if(a==null)return null;let{a:s,b:c}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let u=Math.max(0,a-Math.min(s,c));r-=s+u-a}if(s<a&&e.size<t.size){let u=r<=a&&r>=s?a-r:0;a-=u,a&&a<t.size&&lO(t.textBetween(a-1,a+1))&&(a+=u?1:-1),c=a+(c-s),s=a}else if(c<a){let u=r<=a&&r>=c?a-r:0;a-=u,a&&a<e.size&&lO(e.textBetween(a-1,a+1))&&(a+=u?1:-1),s=a+(s-c),c=a}return{start:a,endA:s,endB:c}}function lO(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class kP{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new LK,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(hO),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=dO(this),uO(this),this.nodeViews=fO(this),this.docView=qC(this.state.doc,cO(this),ov(this),this.dom,this),this.domObserver=new oV(this,(r,i,a,s)=>pV(this,r,i,a,s)),this.domObserver.start(),BK(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Ab(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(hO),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,a=!1,s=!1;t.storedMarks&&this.composing&&(vP(this),s=!0),this.state=t;let c=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=fO(this);xV(v,this.nodeViews)&&(this.nodeViews=v,a=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&Ab(this),this.editable=dO(this),uO(this);let u=ov(this),d=cO(this),p=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=a||!this.docView.matchesNode(t.doc,d,u);(m||!t.selection.eq(i.selection))&&(s=!0);let y=p=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Qq(this);if(s){this.domObserver.stop();let v=m&&(Yn||kn)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&vV(i.selection,t.selection);if(m){let b=kn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=XK(this)),(a||!this.docView.update(t.doc,d,u,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=qC(t.doc,d,u,this.dom,this)),b&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&wK(this))?Gi(this,v):(sP(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():y&&Zq(y)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ae){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&BC(this,n.getBoundingClientRect(),t)}else BC(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let a=r.from+(this.state.doc.content.size-n.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==r.node&&(i=a)}this.dragging=new bP(t.slice,t.move,i<0?void 0:Ae.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let c=this.directPlugins[s].props[t];if(c!=null&&(i=n?n(c):c))return i}let a=this.state.plugins;if(a)for(let s=0;s<a.length;s++){let c=a[s].props[t];if(c!=null&&(i=n?n(c):c))return i}}hasFocus(){if(Yn){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Jq(this.dom),Gi(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return iK(this,t)}coordsAtPos(t,n=1){return Z3(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return cK(this,n||this.state,t)}pasteHTML(t,n){return qu(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return qu(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return pw(this,t)}destroy(){this.docView&&(IK(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ov(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,$q())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return $K(this,t)}domSelectionRange(){let t=this.domSelection();return t?Ln&&this.root.nodeType===11&&Vq(this.dom.ownerDocument)==this.dom&&cV(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}kP.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function cO(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Pn.node(0,e.state.doc.content.size,t)]}function uO(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Pn.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function dO(e){return!e.someProp("editable",t=>t(e.state)===!1)}function vV(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function fO(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function xV(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function hO(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ns={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},op={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},bV=typeof navigator<"u"&&/Mac/.test(navigator.platform),wV=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var gn=0;gn<10;gn++)ns[48+gn]=ns[96+gn]=String(gn);for(var gn=1;gn<=24;gn++)ns[gn+111]="F"+gn;for(var gn=65;gn<=90;gn++)ns[gn]=String.fromCharCode(gn+32),op[gn]=String.fromCharCode(gn);for(var cv in ns)op.hasOwnProperty(cv)||(op[cv]=ns[cv]);function SV(e){var t=bV&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||wV&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?op:ns)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const NV=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),jV=typeof navigator<"u"&&/Win/.test(navigator.platform);function kV(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,a,s;for(let c=0;c<t.length-1;c++){let u=t[c];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))a=!0;else if(/^mod$/i.test(u))NV?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function EV(e){let t=Object.create(null);for(let n in e)t[kV(n)]=e[n];return t}function uv(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function CV(e){return new Mt({props:{handleKeyDown:EP(e)}})}function EP(e){let t=EV(e);return function(n,r){let i=SV(r),a,s=t[uv(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let c=t[uv(i,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(jV&&r.ctrlKey&&r.altKey)&&(a=ns[r.keyCode])&&a!=i){let c=t[uv(a,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}var OV=Object.defineProperty,bw=(e,t)=>{for(var n in t)OV(e,n,{get:t[n],enumerable:!0})};function zm(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:a}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return a},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,a=n.storedMarks,n}}}var $m=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,a=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([s,c])=>[s,(...d)=>{const p=c(...d)(a);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:a}=r,s=[],c=!!e,u=e||i.tr,d=()=>(!c&&t&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(u),s.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(n).map(([m,y])=>[m,(...b)=>{const w=this.buildProps(u,t),S=y(...b)(w);return s.push(S),p}])),run:d};return p}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,a=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(t).map(([c,u])=>[c,(...d)=>u(...d)({...a,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:a}=r,s={tr:e,editor:r,view:a,state:zm({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([c,u])=>[c,(...d)=>u(...d)(s)]))}};return s}},CP={};bw(CP,{blur:()=>TV,clearContent:()=>AV,clearNodes:()=>MV,command:()=>_V,createParagraphNear:()=>DV,cut:()=>PV,deleteCurrentNode:()=>RV,deleteNode:()=>LV,deleteRange:()=>BV,deleteSelection:()=>IV,enter:()=>zV,exitCode:()=>$V,extendMarkRange:()=>UV,first:()=>HV,focus:()=>KV,forEach:()=>VV,insertContent:()=>FV,insertContentAt:()=>YV,joinBackward:()=>ZV,joinDown:()=>QV,joinForward:()=>JV,joinItemBackward:()=>eF,joinItemForward:()=>tF,joinTextblockBackward:()=>nF,joinTextblockForward:()=>rF,joinUp:()=>XV,keyboardShortcut:()=>aF,lift:()=>sF,liftEmptyBlock:()=>oF,liftListItem:()=>lF,newlineInCode:()=>cF,resetAttributes:()=>uF,scrollIntoView:()=>dF,selectAll:()=>fF,selectNodeBackward:()=>hF,selectNodeForward:()=>pF,selectParentNode:()=>mF,selectTextblockEnd:()=>gF,selectTextblockStart:()=>yF,setContent:()=>vF,setMark:()=>LF,setMeta:()=>BF,setNode:()=>IF,setNodeSelection:()=>zF,setTextSelection:()=>$F,sinkListItem:()=>UF,splitBlock:()=>HF,splitListItem:()=>qF,toggleList:()=>KF,toggleMark:()=>VF,toggleNode:()=>FF,toggleWrap:()=>WF,undoInputRule:()=>GF,unsetAllMarks:()=>YF,unsetMark:()=>XF,updateAttributes:()=>QF,wrapIn:()=>ZF,wrapInList:()=>JF});var TV=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),AV=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),MV=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:a,$to:s})=>{e.doc.nodesBetween(a.pos,s.pos,(c,u)=>{if(c.type.isText)return;const{doc:d,mapping:p}=t,m=d.resolve(p.map(u)),y=d.resolve(p.map(u+c.nodeSize)),v=m.blockRange(y);if(!v)return;const b=Xl(v);if(c.type.isTextblock){const{defaultType:w}=m.parent.contentMatchAt(m.index());t.setNodeMarkup(v.start,w)}(b||b===0)&&t.lift(v,b)})}),!0},_V=e=>t=>e(t),DV=()=>({state:e,dispatch:t})=>H3(e,t),PV=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,a=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const s=r.mapping.map(t);return r.insert(s,a.content),r.setSelection(new Le(r.doc.resolve(Math.max(s-1,0)))),!0},RV=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===r.type){if(t){const c=i.before(a),u=i.after(a);e.delete(c,u).scrollIntoView()}return!0}return!1};function Ut(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var LV=e=>({tr:t,state:n,dispatch:r})=>{const i=Ut(e,n.schema),a=t.selection.$anchor;for(let s=a.depth;s>0;s-=1)if(a.node(s).type===i){if(r){const u=a.before(s),d=a.after(s);t.delete(u,d).scrollIntoView()}return!0}return!1},BV=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},IV=()=>({state:e,dispatch:t})=>sw(e,t),zV=()=>({commands:e})=>e.keyboardShortcut("Enter"),$V=()=>({state:e,dispatch:t})=>kq(e,t);function ww(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function lp(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:ww(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function OP(e,t,n={}){return e.find(r=>r.type===t&&lp(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function pO(e,t,n={}){return!!OP(e,t,n)}function Sw(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===t)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!OP([...i.node.marks],t,n)))return;let s=i.index,c=e.start()+i.offset,u=s+1,d=c+i.node.nodeSize;for(;s>0&&pO([...e.parent.child(s-1).marks],t,n);)s-=1,c-=e.parent.child(s).nodeSize;for(;u<e.parent.childCount&&pO([...e.parent.child(u).marks],t,n);)d+=e.parent.child(u).nodeSize,u+=1;return{from:c,to:d}}function ia(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var UV=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const a=ia(e,r.schema),{doc:s,selection:c}=n,{$from:u,from:d,to:p}=c;if(i){const m=Sw(u,a,t);if(m&&m.from<=d&&m.to>=p){const y=Le.create(s,m.from,m.to);n.setSelection(y)}}return!0},HV=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function TP(e){return e instanceof Le}function Vs(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function AP(e,t=null){if(!t)return null;const n=$e.atStart(e),r=$e.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,a=r.to;return t==="all"?Le.create(e,Vs(0,i,a),Vs(e.content.size,i,a)):Le.create(e,Vs(t,i,a),Vs(t,i,a))}function qV(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Nw(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var KV=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:a})=>{t={scrollIntoView:!0,...t};const s=()=>{(Nw()||qV())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(a&&e===null&&!TP(n.state.selection))return s(),!0;const c=AP(i.doc,e)||n.state.selection,u=n.state.selection.eq(c);return a&&(u||i.setSelection(c),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},VV=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),FV=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),MP=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&MP(r)}return e};function rh(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return MP(n)}function Vu(e,t,n){if(e instanceof Qr||e instanceof le)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return le.fromArray(e.map(c=>t.nodeFromJSON(c)));const s=t.nodeFromJSON(e);return n.errorOnInvalidContent&&s.check(),s}catch(a){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",a),Vu("",t,n)}if(i){if(n.errorOnInvalidContent){let s=!1,c="";const u=new m3({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(s=!0,c=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?Qa.fromSchema(u).parseSlice(rh(e),n.parseOptions):Qa.fromSchema(u).parse(rh(e),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const a=Qa.fromSchema(t);return n.slice?a.parseSlice(rh(e),n.parseOptions).content:a.parse(rh(e),n.parseOptions)}return Vu("",t,n)}function WV(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof nn||i instanceof rn))return;const a=e.mapping.maps[r];let s=0;a.forEach((c,u,d,p)=>{s===0&&(s=p)}),e.setSelection($e.near(e.doc.resolve(s),n))}var GV=e=>!("type"in e),YV=(e,t,n)=>({tr:r,dispatch:i,editor:a})=>{var s;if(i){n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const u=S=>{a.emit("contentError",{editor:a,error:S,disableCollaboration:()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{Vu(t,a.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(S){u(S)}try{c=Vu(t,a.schema,{parseOptions:d,errorOnInvalidContent:(s=n.errorOnInvalidContent)!=null?s:a.options.enableContentCheck})}catch(S){return u(S),!1}let{from:p,to:m}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},y=!0,v=!0;if((GV(c)?c:[c]).forEach(S=>{S.check(),y=y?S.isText&&S.marks.length===0:!1,v=v?S.isBlock:!1}),p===m&&v){const{parent:S}=r.doc.resolve(p);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(p-=1,m+=1)}let w;if(y){if(Array.isArray(t))w=t.map(S=>S.text||"").join("");else if(t instanceof le){let S="";t.forEach(k=>{k.text&&(S+=k.text)}),w=S}else typeof t=="object"&&t&&t.text?w=t.text:w=t;r.insertText(w,p,m)}else{w=c;const S=r.doc.resolve(p),k=S.node(),E=S.parentOffset===0,O=k.isText||k.isTextblock,_=k.content.size>0;E&&O&&_&&(p=Math.max(0,p-1)),r.replaceWith(p,m,w)}n.updateSelection&&WV(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:w}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:w})}return!0},XV=()=>({state:e,dispatch:t})=>Sq(e,t),QV=()=>({state:e,dispatch:t})=>Nq(e,t),ZV=()=>({state:e,dispatch:t})=>R3(e,t),JV=()=>({state:e,dispatch:t})=>z3(e,t),eF=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Dm(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},tF=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Dm(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},nF=()=>({state:e,dispatch:t})=>bq(e,t),rF=()=>({state:e,dispatch:t})=>wq(e,t);function _P(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function iF(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,a,s;for(let c=0;c<t.length-1;c+=1){const u=t[c];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))a=!0;else if(/^mod$/i.test(u))Nw()||_P()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),a&&(n=`Shift-${n}`),n}var aF=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const a=iF(e).split(/-(?!$)/),s=a.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),c=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),u=t.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,c))});return u?.steps.forEach(d=>{const p=d.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function rs(e,t,n={}){const{from:r,to:i,empty:a}=e.selection,s=t?Ut(t,e.schema):null,c=[];e.doc.nodesBetween(r,i,(m,y)=>{if(m.isText)return;const v=Math.max(r,y),b=Math.min(i,y+m.nodeSize);c.push({node:m,from:v,to:b})});const u=i-r,d=c.filter(m=>s?s.name===m.node.type.name:!0).filter(m=>lp(m.node.attrs,n,{strict:!1}));return a?!!d.length:d.reduce((m,y)=>m+y.to-y.from,0)>=u}var sF=(e,t={})=>({state:n,dispatch:r})=>{const i=Ut(e,n.schema);return rs(n,i,t)?jq(n,r):!1},oF=()=>({state:e,dispatch:t})=>q3(e,t),lF=e=>({state:t,dispatch:n})=>{const r=Ut(e,t.schema);return Lq(r)(t,n)},cF=()=>({state:e,dispatch:t})=>U3(e,t);function Um(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function mO(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}var uF=(e,t)=>({tr:n,state:r,dispatch:i})=>{let a=null,s=null;const c=Um(typeof e=="string"?e:e.name,r.schema);return c?(c==="node"&&(a=Ut(e,r.schema)),c==="mark"&&(s=ia(e,r.schema)),i&&n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(d,p)=>{a&&a===d.type&&n.setNodeMarkup(p,void 0,mO(d.attrs,t)),s&&d.marks.length&&d.marks.forEach(m=>{s===m.type&&n.addMark(p,p+d.nodeSize,s.create(mO(m.attrs,t)))})})}),!0):!1},dF=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),fF=()=>({tr:e,dispatch:t})=>{if(t){const n=new dr(e.doc);e.setSelection(n)}return!0},hF=()=>({state:e,dispatch:t})=>B3(e,t),pF=()=>({state:e,dispatch:t})=>$3(e,t),mF=()=>({state:e,dispatch:t})=>Oq(e,t),gF=()=>({state:e,dispatch:t})=>Mq(e,t),yF=()=>({state:e,dispatch:t})=>Aq(e,t);function Mb(e,t,n={},r={}){return Vu(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var vF=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:a,dispatch:s,commands:c})=>{const{doc:u}=a;if(r.preserveWhitespace!=="full"){const d=Mb(e,i.schema,r,{errorOnInvalidContent:t??i.options.enableContentCheck});return s&&a.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!n),!0}return s&&a.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:u.content.size},e,{parseOptions:r,errorOnInvalidContent:t??i.options.enableContentCheck})};function DP(e,t){const n=ia(t,e.schema),{from:r,to:i,empty:a}=e.selection,s=[];a?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,u=>{s.push(...u.marks)});const c=s.find(u=>u.type.name===n.name);return c?{...c.attrs}:{}}function PP(e,t){const n=new M3(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function xF(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function bF(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,a)=>{n(i)&&r.push({node:i,pos:a})}),r}function wF(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function Hm(e){return t=>wF(t.$from,e)}function Te(e,t,n){return e.config[t]===void 0&&e.parent?Te(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Te(e.parent,t,n):null}):e.config[t]}function jw(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=Te(t,"addExtensions",n);return r?[t,...jw(r())]:t}).flat(10)}function kw(e,t){const n=bo.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function RP(e){return typeof e=="function"}function et(e,t=void 0,...n){return RP(e)?t?e.bind(t)(...n):e(...n):e}function SF(e={}){return Object.keys(e).length===0&&e.constructor===Object}function Fu(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function LP(e){const t=[],{nodeExtensions:n,markExtensions:r}=Fu(e),i=[...n,...r],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(s=>{const c={name:s.name,options:s.options,storage:s.storage,extensions:i},u=Te(s,"addGlobalAttributes",c);if(!u)return;u().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([y,v])=>{t.push({type:m,name:y,attribute:{...a,...v}})})})})}),i.forEach(s=>{const c={name:s.name,options:s.options,storage:s.storage},u=Te(s,"addAttributes",c);if(!u)return;const d=u();Object.entries(d).forEach(([p,m])=>{const y={...a,...m};typeof y?.default=="function"&&(y.default=y.default()),y?.isRequired&&y?.default===void 0&&delete y.default,t.push({type:s.name,name:p,attribute:y})})}),t}function Ht(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([i,a])=>{if(!r[i]){r[i]=a;return}if(i==="class"){const c=a?String(a).split(" "):[],u=r[i]?r[i].split(" "):[],d=c.filter(p=>!u.includes(p));r[i]=[...u,...d].join(" ")}else if(i==="style"){const c=a?a.split(";").map(p=>p.trim()).filter(Boolean):[],u=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],d=new Map;u.forEach(p=>{const[m,y]=p.split(":").map(v=>v.trim());d.set(m,y)}),c.forEach(p=>{const[m,y]=p.split(":").map(v=>v.trim());d.set(m,y)}),r[i]=Array.from(d.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[i]=a}),r},{})}function cp(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>Ht(n,r),{})}function NF(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function gO(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((a,s)=>{const c=s.attribute.parseHTML?s.attribute.parseHTML(n):NF(n.getAttribute(s.name));return c==null?a:{...a,[s.name]:c}},{});return{...r,...i}}}}function yO(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&SF(n)?!1:n!=null))}function jF(e,t){var n;const r=LP(e),{nodeExtensions:i,markExtensions:a}=Fu(e),s=(n=i.find(d=>Te(d,"topNode")))==null?void 0:n.name,c=Object.fromEntries(i.map(d=>{const p=r.filter(k=>k.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:t},y=e.reduce((k,E)=>{const O=Te(E,"extendNodeSchema",m);return{...k,...O?O(d):{}}},{}),v=yO({...y,content:et(Te(d,"content",m)),marks:et(Te(d,"marks",m)),group:et(Te(d,"group",m)),inline:et(Te(d,"inline",m)),atom:et(Te(d,"atom",m)),selectable:et(Te(d,"selectable",m)),draggable:et(Te(d,"draggable",m)),code:et(Te(d,"code",m)),whitespace:et(Te(d,"whitespace",m)),linebreakReplacement:et(Te(d,"linebreakReplacement",m)),defining:et(Te(d,"defining",m)),isolating:et(Te(d,"isolating",m)),attrs:Object.fromEntries(p.map(k=>{var E,O;return[k.name,{default:(E=k?.attribute)==null?void 0:E.default,validate:(O=k?.attribute)==null?void 0:O.validate}]}))}),b=et(Te(d,"parseHTML",m));b&&(v.parseDOM=b.map(k=>gO(k,p)));const w=Te(d,"renderHTML",m);w&&(v.toDOM=k=>w({node:k,HTMLAttributes:cp(k,p)}));const S=Te(d,"renderText",m);return S&&(v.toText=S),[d.name,v]})),u=Object.fromEntries(a.map(d=>{const p=r.filter(S=>S.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:t},y=e.reduce((S,k)=>{const E=Te(k,"extendMarkSchema",m);return{...S,...E?E(d):{}}},{}),v=yO({...y,inclusive:et(Te(d,"inclusive",m)),excludes:et(Te(d,"excludes",m)),group:et(Te(d,"group",m)),spanning:et(Te(d,"spanning",m)),code:et(Te(d,"code",m)),attrs:Object.fromEntries(p.map(S=>{var k,E;return[S.name,{default:(k=S?.attribute)==null?void 0:k.default,validate:(E=S?.attribute)==null?void 0:E.validate}]}))}),b=et(Te(d,"parseHTML",m));b&&(v.parseDOM=b.map(S=>gO(S,p)));const w=Te(d,"renderHTML",m);return w&&(v.toDOM=S=>w({mark:S,HTMLAttributes:cp(S,p)})),[d.name,v]}));return new m3({topNode:s,nodes:c,marks:u})}function kF(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function Ew(e){return e.sort((n,r)=>{const i=Te(n,"priority")||100,a=Te(r,"priority")||100;return i>a?-1:i<a?1:0})}function BP(e){const t=Ew(jw(e)),n=kF(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function IP(e,t,n){const{from:r,to:i}=t,{blockSeparator:a=`

`,textSerializers:s={}}=n||{};let c="";return e.nodesBetween(r,i,(u,d,p,m)=>{var y;u.isBlock&&d>r&&(c+=a);const v=s?.[u.type.name];if(v)return p&&(c+=v({node:u,pos:d,parent:p,index:m,range:t})),!1;u.isText&&(c+=(y=u?.text)==null?void 0:y.slice(Math.max(r,d)-d,i-d))}),c}function EF(e,t){const n={from:0,to:e.content.size};return IP(e,n,t)}function zP(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function CF(e,t){const n=Ut(t,e.schema),{from:r,to:i}=e.selection,a=[];e.doc.nodesBetween(r,i,c=>{a.push(c)});const s=a.reverse().find(c=>c.type.name===n.name);return s?{...s.attrs}:{}}function $P(e,t){const n=Um(typeof t=="string"?t:t.name,e.schema);return n==="node"?CF(e,t):n==="mark"?DP(e,t):{}}function OF(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function TF(e){const t=OF(e);return t.length===1?t:t.filter((n,r)=>!t.filter((a,s)=>s!==r).some(a=>n.oldRange.from>=a.oldRange.from&&n.oldRange.to<=a.oldRange.to&&n.newRange.from>=a.newRange.from&&n.newRange.to<=a.newRange.to))}function UP(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,a)=>{const s=[];if(i.ranges.length)i.forEach((c,u)=>{s.push({from:c,to:u})});else{const{from:c,to:u}=n[a];if(c===void 0||u===void 0)return;s.push({from:c,to:u})}s.forEach(({from:c,to:u})=>{const d=t.slice(a).map(c,-1),p=t.slice(a).map(u),m=t.invert().map(d,-1),y=t.invert().map(p);r.push({oldRange:{from:m,to:y},newRange:{from:d,to:p}})})}),TF(r)}function Cw(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const a=n.resolve(e),s=Sw(a,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(e,t,(i,a)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(s=>({from:a,to:a+i.nodeSize,mark:s})))}),r}var AF=(e,t,n,r=20)=>{const i=e.doc.resolve(n);let a=r,s=null;for(;a>0&&s===null;){const c=i.node(a);c?.type.name===t?s=c:a-=1}return[s,a]};function dv(e,t){return t.nodes[e]||t.marks[e]||null}function Ph(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(a=>a.type===t&&a.name===r);return i?i.attribute.keepOnSplit:!1}))}var MF=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,a,s,c)=>{var u,d;const p=((d=(u=i.type.spec).toText)==null?void 0:d.call(u,{node:i,pos:a,parent:s,index:c}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-a))}),n};function _b(e,t,n={}){const{empty:r,ranges:i}=e.selection,a=t?ia(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(m=>a?a.name===m.type.name:!0).find(m=>lp(m.attrs,n,{strict:!1}));let s=0;const c=[];if(i.forEach(({$from:m,$to:y})=>{const v=m.pos,b=y.pos;e.doc.nodesBetween(v,b,(w,S)=>{if(!w.isText&&!w.marks.length)return;const k=Math.max(v,S),E=Math.min(b,S+w.nodeSize),O=E-k;s+=O,c.push(...w.marks.map(_=>({mark:_,from:k,to:E})))})}),s===0)return!1;const u=c.filter(m=>a?a.name===m.mark.type.name:!0).filter(m=>lp(m.mark.attrs,n,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),d=c.filter(m=>a?m.mark.type!==a&&m.mark.type.excludes(a):!0).reduce((m,y)=>m+y.to-y.from,0);return(u>0?u+d:u)>=s}function _F(e,t,n={}){if(!t)return rs(e,null,n)||_b(e,null,n);const r=Um(t,e.schema);return r==="node"?rs(e,t,n):r==="mark"?_b(e,t,n):!1}var DF=(e,t)=>{const{$from:n,$to:r,$anchor:i}=e.selection;if(t){const a=Hm(c=>c.type.name===t)(e.selection);if(!a)return!1;const s=e.doc.resolve(a.pos+1);return i.pos+1===s.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},PF=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function vO(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function xO(e,t){const{nodeExtensions:n}=Fu(t),r=n.find(s=>s.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},a=et(Te(r,"group",i));return typeof a!="string"?!1:a.split(" ").includes("list")}function qm(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(a=>{i!==!1&&(qm(a,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function HP(e){return e instanceof Ae}function RF(e,t,n){var r;const{selection:i}=t;let a=null;if(TP(i)&&(a=i.$cursor),a){const c=(r=e.storedMarks)!=null?r:a.marks();return a.parent.type.allowsMarkType(n)&&(!!n.isInSet(c)||!c.some(d=>d.type.excludes(n)))}const{ranges:s}=i;return s.some(({$from:c,$to:u})=>{let d=c.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(c.pos,u.pos,(p,m,y)=>{if(d)return!1;if(p.isInline){const v=!y||y.type.allowsMarkType(n),b=!!n.isInSet(p.marks)||!p.marks.some(w=>w.type.excludes(n));d=v&&b}return!d}),d})}var LF=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:a}=n,{empty:s,ranges:c}=a,u=ia(e,r.schema);if(i)if(s){const d=DP(r,u);n.addStoredMark(u.create({...d,...t}))}else c.forEach(d=>{const p=d.$from.pos,m=d.$to.pos;r.doc.nodesBetween(p,m,(y,v)=>{const b=Math.max(v,p),w=Math.min(v+y.nodeSize,m);y.marks.find(k=>k.type===u)?y.marks.forEach(k=>{u===k.type&&n.addMark(b,w,u.create({...k.attrs,...t}))}):n.addMark(b,w,u.create(t))})});return RF(r,n,u)},BF=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),IF=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const a=Ut(e,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),a.isTextblock?i().command(({commands:c})=>PC(a,{...s,...t})(n)?!0:c.clearNodes()).command(({state:c})=>PC(a,{...s,...t})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},zF=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=Vs(e,0,r.content.size),a=Ae.create(r,i);t.setSelection(a)}return!0},$F=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:a}=typeof e=="number"?{from:e,to:e}:e,s=Le.atStart(r).from,c=Le.atEnd(r).to,u=Vs(i,s,c),d=Vs(a,s,c),p=Le.create(r,u,d);t.setSelection(p)}return!0},UF=e=>({state:t,dispatch:n})=>{const r=Ut(e,t.schema);return zq(r)(t,n)};function bO(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t?.includes(i.type.name));e.tr.ensureMarks(r)}}var HF=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:a,doc:s}=t,{$from:c,$to:u}=a,d=i.extensionManager.attributes,p=Ph(d,c.node().type.name,c.node().attrs);if(a instanceof Ae&&a.node.isBlock)return!c.parentOffset||!Wi(s,c.pos)?!1:(r&&(e&&bO(n,i.extensionManager.splittableMarks),t.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const m=u.parentOffset===u.parent.content.size,y=c.depth===0?void 0:xF(c.node(-1).contentMatchAt(c.indexAfter(-1)));let v=m&&y?[{type:y,attrs:p}]:void 0,b=Wi(t.doc,t.mapping.map(c.pos),1,v);if(!v&&!b&&Wi(t.doc,t.mapping.map(c.pos),1,y?[{type:y}]:void 0)&&(b=!0,v=y?[{type:y,attrs:p}]:void 0),r){if(b&&(a instanceof Le&&t.deleteSelection(),t.split(t.mapping.map(c.pos),1,v),y&&!m&&!c.parentOffset&&c.parent.type!==y)){const w=t.mapping.map(c.before()),S=t.doc.resolve(w);c.node(-1).canReplaceWith(S.index(),S.index()+1,y)&&t.setNodeMarkup(t.mapping.map(c.before()),y)}e&&bO(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return b},qF=(e,t={})=>({tr:n,state:r,dispatch:i,editor:a})=>{var s;const c=Ut(e,r.schema),{$from:u,$to:d}=r.selection,p=r.selection.node;if(p&&p.isBlock||u.depth<2||!u.sameParent(d))return!1;const m=u.node(-1);if(m.type!==c)return!1;const y=a.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==c||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let k=le.empty;const E=u.index(-1)?1:u.index(-2)?2:3;for(let B=u.depth-E;B>=u.depth-3;B-=1)k=le.from(u.node(B).copy(k));const O=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,_={...Ph(y,u.node().type.name,u.node().attrs),...t},T=((s=c.contentMatch.defaultType)==null?void 0:s.createAndFill(_))||void 0;k=k.append(le.from(c.createAndFill(null,T)||void 0));const M=u.before(u.depth-(E-1));n.replace(M,u.after(-O),new ge(k,4-E,0));let D=-1;n.doc.nodesBetween(M,n.doc.content.size,(B,q)=>{if(D>-1)return!1;B.isTextblock&&B.content.size===0&&(D=q+1)}),D>-1&&n.setSelection(Le.near(n.doc.resolve(D))),n.scrollIntoView()}return!0}const v=d.pos===u.end()?m.contentMatchAt(0).defaultType:null,b={...Ph(y,m.type.name,m.attrs),...t},w={...Ph(y,u.node().type.name,u.node().attrs),...t};n.delete(u.pos,d.pos);const S=v?[{type:c,attrs:b},{type:v,attrs:w}]:[{type:c,attrs:b}];if(!Wi(n.doc,u.pos,2))return!1;if(i){const{selection:k,storedMarks:E}=r,{splittableMarks:O}=a.extensionManager,_=E||k.$to.parentOffset&&k.$from.marks();if(n.split(u.pos,2,S).scrollIntoView(),!_||!i)return!0;const T=_.filter(M=>O.includes(M.type.name));n.ensureMarks(T)}return!0},fv=(e,t)=>{const n=Hm(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&us(e.doc,n.pos)&&e.join(n.pos),!0},hv=(e,t)=>{const n=Hm(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&us(e.doc,r)&&e.join(r),!0},KF=(e,t,n,r={})=>({editor:i,tr:a,state:s,dispatch:c,chain:u,commands:d,can:p})=>{const{extensions:m,splittableMarks:y}=i.extensionManager,v=Ut(e,s.schema),b=Ut(t,s.schema),{selection:w,storedMarks:S}=s,{$from:k,$to:E}=w,O=k.blockRange(E),_=S||w.$to.parentOffset&&w.$from.marks();if(!O)return!1;const T=Hm(M=>xO(M.type.name,m))(w);if(O.depth>=1&&T&&O.depth-T.depth<=1){if(T.node.type===v)return d.liftListItem(b);if(xO(T.node.type.name,m)&&v.validContent(T.node.content)&&c)return u().command(()=>(a.setNodeMarkup(T.pos,v),!0)).command(()=>fv(a,v)).command(()=>hv(a,v)).run()}return!n||!_||!c?u().command(()=>p().wrapInList(v,r)?!0:d.clearNodes()).wrapInList(v,r).command(()=>fv(a,v)).command(()=>hv(a,v)).run():u().command(()=>{const M=p().wrapInList(v,r),D=_.filter(B=>y.includes(B.type.name));return a.ensureMarks(D),M?!0:d.clearNodes()}).wrapInList(v,r).command(()=>fv(a,v)).command(()=>hv(a,v)).run()},VF=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:a=!1}=n,s=ia(e,r.schema);return _b(r,s,t)?i.unsetMark(s,{extendEmptyMarkRange:a}):i.setMark(s,t)},FF=(e,t,n={})=>({state:r,commands:i})=>{const a=Ut(e,r.schema),s=Ut(t,r.schema),c=rs(r,a,n);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),c?i.setNode(s,u):i.setNode(a,{...u,...n})},WF=(e,t={})=>({state:n,commands:r})=>{const i=Ut(e,n.schema);return rs(n,i,t)?r.lift(i):r.wrapIn(i,t)},GF=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let a;if(i.spec.isInputRules&&(a=i.getState(e))){if(t){const s=e.tr,c=a.transform;for(let u=c.steps.length-1;u>=0;u-=1)s.step(c.steps[u].invert(c.docs[u]));if(a.text){const u=s.doc.resolve(a.from).marks();s.replaceWith(a.from,a.to,e.schema.text(a.text,u))}else s.delete(a.from,a.to)}return!0}}return!1},YF=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(a=>{e.removeMark(a.$from.pos,a.$to.pos)}),!0},XF=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var a;const{extendEmptyMarkRange:s=!1}=t,{selection:c}=n,u=ia(e,r.schema),{$from:d,empty:p,ranges:m}=c;if(!i)return!0;if(p&&s){let{from:y,to:v}=c;const b=(a=d.marks().find(S=>S.type===u))==null?void 0:a.attrs,w=Sw(d,u,b);w&&(y=w.from,v=w.to),n.removeMark(y,v,u)}else m.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,u)});return n.removeStoredMark(u),!0},QF=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let a=null,s=null;const c=Um(typeof e=="string"?e:e.name,r.schema);return c?(c==="node"&&(a=Ut(e,r.schema)),c==="mark"&&(s=ia(e,r.schema)),i&&n.selection.ranges.forEach(u=>{const d=u.$from.pos,p=u.$to.pos;let m,y,v,b;n.selection.empty?r.doc.nodesBetween(d,p,(w,S)=>{a&&a===w.type&&(v=Math.max(S,d),b=Math.min(S+w.nodeSize,p),m=S,y=w)}):r.doc.nodesBetween(d,p,(w,S)=>{S<d&&a&&a===w.type&&(v=Math.max(S,d),b=Math.min(S+w.nodeSize,p),m=S,y=w),S>=d&&S<=p&&(a&&a===w.type&&n.setNodeMarkup(S,void 0,{...w.attrs,...t}),s&&w.marks.length&&w.marks.forEach(k=>{if(s===k.type){const E=Math.max(S,d),O=Math.min(S+w.nodeSize,p);n.addMark(E,O,s.create({...k.attrs,...t}))}}))}),y&&(m!==void 0&&n.setNodeMarkup(m,void 0,{...y.attrs,...t}),s&&y.marks.length&&y.marks.forEach(w=>{s===w.type&&n.addMark(v,b,s.create({...w.attrs,...t}))}))}),!0):!1},ZF=(e,t={})=>({state:n,dispatch:r})=>{const i=Ut(e,n.schema);return _q(i,t)(n,r)},JF=(e,t={})=>({state:n,dispatch:r})=>{const i=Ut(e,n.schema);return Dq(i,t)(n,r)},eW=class{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(i=>i.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t]),this}once(t,n){const r=(...i)=>{this.off(t,r),n.apply(this,i)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}},Km=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},tW=(e,t)=>{if(ww(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function ih(e){var t;const{editor:n,from:r,to:i,text:a,rules:s,plugin:c}=e,{view:u}=n;if(u.composing)return!1;const d=u.state.doc.resolve(r);if(d.parent.type.spec.code||(t=d.nodeBefore||d.nodeAfter)!=null&&t.marks.find(y=>y.type.spec.code))return!1;let p=!1;const m=MF(d)+a;return s.forEach(y=>{if(p)return;const v=tW(m,y.find);if(!v)return;const b=u.state.tr,w=zm({state:u.state,transaction:b}),S={from:r-(v[0].length-a.length),to:i},{commands:k,chain:E,can:O}=new $m({editor:n,state:w});y.handler({state:w,range:S,match:v,commands:k,chain:E,can:O})===null||!b.steps.length||(y.undoable&&b.setMeta(c,{transform:b,from:r,to:i,text:a}),u.dispatch(b),p=!0)}),p}function nW(e){const{editor:t,rules:n}=e,r=new Mt({state:{init(){return null},apply(i,a,s){const c=i.getMeta(r);if(c)return c;const u=i.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:p}=u;typeof p=="string"?p=p:p=kw(le.from(p),s.schema);const{from:m}=u,y=m+p.length;ih({editor:t,from:m,to:y,text:p,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:a}},props:{handleTextInput(i,a,s,c){return ih({editor:t,from:a,to:s,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:a}=i.state.selection;a&&ih({editor:t,from:a.pos,to:a.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,a){if(a.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?ih({editor:t,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function rW(e){return Object.prototype.toString.call(e).slice(8,-1)}function ah(e){return rW(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function qP(e,t){const n={...e};return ah(e)&&ah(t)&&Object.keys(t).forEach(r=>{ah(t[r])&&ah(e[r])?n[r]=qP(e[r],t[r]):n[r]=t[r]}),n}var Ow=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...et(Te(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...et(Te(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>qP(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},wo=class KP extends Ow{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new KP(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(d=>d?.type.name===n.name))return!1;const u=s.find(d=>d?.type.name===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function iW(e){return typeof e=="number"}var aW=class{constructor(e){this.find=e.find,this.handler=e.handler}},sW=(e,t,n)=>{if(ww(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(i=>{const a=[i.text];return a.index=i.index,a.input=e,a.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(i.replaceWith)),a}):[]};function oW(e){const{editor:t,state:n,from:r,to:i,rule:a,pasteEvent:s,dropEvent:c}=e,{commands:u,chain:d,can:p}=new $m({editor:t,state:n}),m=[];return n.doc.nodesBetween(r,i,(v,b)=>{var w,S,k,E,O;if((S=(w=v.type)==null?void 0:w.spec)!=null&&S.code||!(v.isText||v.isTextblock||v.isInline))return;const _=(O=(E=(k=v.content)==null?void 0:k.size)!=null?E:v.nodeSize)!=null?O:0,T=Math.max(r,b),M=Math.min(i,b+_);if(T>=M)return;const D=v.isText?v.text||"":v.textBetween(T-b,M-b,void 0,"￼");sW(D,a.find,s).forEach(q=>{if(q.index===void 0)return;const L=T+q.index+1,K=L+q[0].length,V={from:n.tr.mapping.map(L),to:n.tr.mapping.map(K)},te=a.handler({state:n,range:V,match:q,commands:u,chain:d,can:p,pasteEvent:s,dropEvent:c});m.push(te)})}),m.every(v=>v!==null)}var sh=null,lW=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function cW(e){const{editor:t,rules:n}=e;let r=null,i=!1,a=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const u=({state:p,from:m,to:y,rule:v,pasteEvt:b})=>{const w=p.tr,S=zm({state:p,transaction:w});if(!(!oW({editor:t,state:S,from:Math.max(m-1,0),to:y.b-1,rule:v,pasteEvent:b,dropEvent:c})||!w.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return n.map(p=>new Mt({view(m){const y=b=>{var w;r=(w=m.dom.parentElement)!=null&&w.contains(b.target)?m.dom.parentElement:null,r&&(sh=t)},v=()=>{sh&&(sh=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(m,y)=>{if(a=r===m.dom.parentElement,c=y,!a){const v=sh;v?.isEditable&&setTimeout(()=>{const b=v.state.selection;b&&v.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(m,y)=>{var v;const b=(v=y.clipboardData)==null?void 0:v.getData("text/html");return s=y,i=!!b?.includes("data-pm-slice"),!1}}},appendTransaction:(m,y,v)=>{const b=m[0],w=b.getMeta("uiEvent")==="paste"&&!i,S=b.getMeta("uiEvent")==="drop"&&!a,k=b.getMeta("applyPasteRules"),E=!!k;if(!w&&!S&&!E)return;if(E){let{text:T}=k;typeof T=="string"?T=T:T=kw(le.from(T),v.schema);const{from:M}=k,D=M+T.length,B=lW(T);return u({rule:p,state:v,from:M,to:{b:D},pasteEvt:B})}const O=y.doc.content.findDiffStart(v.doc.content),_=y.doc.content.findDiffEnd(v.doc.content);if(!(!iW(O)||!_||O===_.b))return u({rule:p,state:v,from:O,to:_,pasteEvt:s})}}))}var Vm=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=BP(e),this.schema=jF(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:dv(t.name,this.schema)},r=Te(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return Ew([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:dv(r.name,this.schema)},a=[],s=Te(r,"addKeyboardShortcuts",i);let c={};if(r.type==="mark"&&Te(r,"exitable",i)&&(c.ArrowRight=()=>wo.handleExit({editor:e,mark:r})),s){const y=Object.fromEntries(Object.entries(s()).map(([v,b])=>[v,()=>b({editor:e})]));c={...c,...y}}const u=CV(c);a.push(u);const d=Te(r,"addInputRules",i);if(vO(r,e.options.enableInputRules)&&d){const y=d();if(y&&y.length){const v=nW({editor:e,rules:y}),b=Array.isArray(v)?v:[v];a.push(...b)}}const p=Te(r,"addPasteRules",i);if(vO(r,e.options.enablePasteRules)&&p){const y=p();if(y&&y.length){const v=cW({editor:e,rules:y});a.push(...v)}}const m=Te(r,"addProseMirrorPlugins",i);if(m){const y=m();a.push(...y)}return a})}get attributes(){return LP(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Fu(this.extensions);return Object.fromEntries(t.filter(n=>!!Te(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Ut(n.name,this.schema)},a=Te(n,"addNodeView",i);if(!a)return[];const s=(c,u,d,p,m)=>{const y=cp(c,r);return a()({node:c,view:u,getPos:d,decorations:p,innerDecorations:m,editor:e,extension:n,HTMLAttributes:y})};return[n.name,s]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=Fu(this.extensions);return Object.fromEntries(t.filter(n=>!!Te(n,"addMarkView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:ia(n.name,this.schema)},a=Te(n,"addMarkView",i);if(!a)return[];const s=(c,u,d)=>{const p=cp(c,r);return a()({mark:c,view:u,inline:d,editor:e,extension:n,HTMLAttributes:p,updateAttributes:m=>{NW(c,e,m)}})};return[n.name,s]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:dv(t.name,this.schema)};t.type==="mark"&&((n=et(Te(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const i=Te(t,"onBeforeCreate",r),a=Te(t,"onCreate",r),s=Te(t,"onUpdate",r),c=Te(t,"onSelectionUpdate",r),u=Te(t,"onTransaction",r),d=Te(t,"onFocus",r),p=Te(t,"onBlur",r),m=Te(t,"onDestroy",r);i&&this.editor.on("beforeCreate",i),a&&this.editor.on("create",a),s&&this.editor.on("update",s),c&&this.editor.on("selectionUpdate",c),u&&this.editor.on("transaction",u),d&&this.editor.on("focus",d),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}};Vm.resolve=BP;Vm.sort=Ew;Vm.flatten=jw;var uW={};bw(uW,{ClipboardTextSerializer:()=>FP,Commands:()=>WP,Delete:()=>GP,Drop:()=>YP,Editable:()=>XP,FocusEvents:()=>ZP,Keymap:()=>JP,Paste:()=>e4,Tabindex:()=>t4,focusEventsPluginKey:()=>QP});var qt=class VP extends Ow{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new VP(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},FP=qt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Mt({key:new sn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:a}=i,s=Math.min(...a.map(p=>p.$from.pos)),c=Math.max(...a.map(p=>p.$to.pos)),u=zP(n);return IP(r,{from:s,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),WP=qt.create({name:"commands",addCommands(){return{...CP}}}),GP=qt.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,i;const a=()=>{var s,c,u,d;if((d=(u=(c=(s=this.editor.options.coreExtensionOptions)==null?void 0:s.delete)==null?void 0:c.filterTransaction)==null?void 0:u.call(c,e))!=null?d:e.getMeta("y-sync$"))return;const p=PP(e.before,[e,...t]);UP(p).forEach(v=>{p.mapping.mapResult(v.oldRange.from).deletedAfter&&p.mapping.mapResult(v.oldRange.to).deletedBefore&&p.before.nodesBetween(v.oldRange.from,v.oldRange.to,(b,w)=>{const S=w+b.nodeSize-2,k=v.oldRange.from<=w&&S<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:b,from:w,to:S,newFrom:p.mapping.map(w),newTo:p.mapping.map(S),deletedRange:v.oldRange,newRange:v.newRange,partial:!k,editor:this.editor,transaction:e,combinedTransform:p})})});const y=p.mapping;p.steps.forEach((v,b)=>{var w,S;if(v instanceof Xr){const k=y.slice(b).map(v.from,-1),E=y.slice(b).map(v.to),O=y.invert().map(k,-1),_=y.invert().map(E),T=(w=p.doc.nodeAt(k-1))==null?void 0:w.marks.some(D=>D.eq(v.mark)),M=(S=p.doc.nodeAt(E))==null?void 0:S.marks.some(D=>D.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:O,to:_},newRange:{from:k,to:E},partial:!!(M||T),editor:this.editor,transaction:e,combinedTransform:p})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(a,0):a()}}),YP=qt.create({name:"drop",addProseMirrorPlugins(){return[new Mt({key:new sn("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),XP=qt.create({name:"editable",addProseMirrorPlugins(){return[new Mt({key:new sn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),QP=new sn("focusEvents"),ZP=qt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Mt({key:QP,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),JP=qt.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:c})=>{const{selection:u,doc:d}=c,{empty:p,$anchor:m}=u,{pos:y,parent:v}=m,b=m.parent.isTextblock&&y>0?c.doc.resolve(y-1):m,w=b.parent.type.spec.isolating,S=m.pos-m.parentOffset,k=w&&b.parent.childCount===1?S===m.pos:$e.atStart(d).from===y;return!p||!v.type.isTextblock||v.textContent.length||!k||k&&m.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},a={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Nw()||_P()?a:i},addProseMirrorPlugins(){return[new Mt({key:new sn("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(w=>w.getMeta("composition")))return;const r=e.some(w=>w.docChanged)&&!t.doc.eq(n.doc),i=e.some(w=>w.getMeta("preventClearDocument"));if(!r||i)return;const{empty:a,from:s,to:c}=t.selection,u=$e.atStart(t.doc).from,d=$e.atEnd(t.doc).to;if(a||!(s===u&&c===d)||!qm(n.doc))return;const y=n.tr,v=zm({state:n,transaction:y}),{commands:b}=new $m({editor:this.editor,state:v});if(b.clearNodes(),!!y.steps.length)return y}})]}}),e4=qt.create({name:"paste",addProseMirrorPlugins(){return[new Mt({key:new sn("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),t4=qt.create({name:"tabindex",addProseMirrorPlugins(){return[new Mt({key:new sn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),dW=class ml{constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new ml(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new ml(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new ml(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,a=n.isAtom&&!n.isText,s=this.pos+r+(a?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(s);if(!i&&c.depth<=this.depth)return;const u=new ml(c,this.editor,i,i?n:null);i&&(u.actualDepth=this.depth+1),t.push(new ml(c,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){const a=i.node.attrs,s=Object.keys(n);for(let c=0;c<s.length;c+=1){const u=s[c];if(a[u]!==n[u])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const a=Object.keys(n);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===t&&a.every(u=>n[u]===s.node.attrs[u])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(t,n,r))))}),i}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},fW=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function hW(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var pW=class extends eW{constructor(e={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:a})=>this.options.onDrop(r,i,a)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=AP(t,this.options.autofocus);this.editorState=vl.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=hW(fW,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=RP(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(i=>{const a=typeof i=="string"?`${i}$`:i.key;n=n.filter(s=>!s.key.startsWith(a))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[XP,FP.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),WP,ZP,JP,t4,YP,e4,GP].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new Vm(r,this)}createCommandManager(){this.commandManager=new $m({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Mb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=Mb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new kP(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(d=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(d)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),i=n.includes(e),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=n.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),c=s?.getMeta("focus"),u=s?.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:s}),u&&this.emit("blur",{editor:this,event:u.event,transaction:s}),!(e.getMeta("preventUpdate")||!n.some(d=>d.docChanged)||a.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return $P(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return _F(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return kw(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return EF(this.state.doc,{blockSeparator:t,textSerializers:{...zP(this.schema),...n}})}get isEmpty(){return qm(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new dW(t,this)}get $doc(){return this.$pos(0)}};function _l(e){return new Km({find:e.find,handler:({state:t,range:n,match:r})=>{const i=et(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:a}=t,s=r[r.length-1],c=r[0];if(s){const u=c.search(/\S/),d=n.from+c.indexOf(s),p=d+s.length;if(Cw(n.from,n.to,t.doc).filter(v=>v.mark.type.excluded.find(w=>w===e.type&&w!==v.mark.type)).filter(v=>v.to>d).length)return null;p<n.to&&a.delete(p,n.to),d>n.from&&a.delete(n.from+u,d);const y=n.from+u+s.length;a.addMark(n.from+u,y,e.type.create(i||{})),a.removeStoredMark(e.type)}},undoable:e.undoable})}function mW(e){return new Km({find:e.find,handler:({state:t,range:n,match:r})=>{const i=et(e.getAttributes,void 0,r)||{},{tr:a}=t,s=n.from;let c=n.to;const u=e.type.create(i);if(r[1]){const d=r[0].lastIndexOf(r[1]);let p=s+d;p>c?p=c:c=p+r[1].length;const m=r[0][r[0].length-1];a.insertText(m,s+r[0].length-1),a.replaceWith(p,c,u)}else if(r[0]){const d=e.type.isInline?s:s-1;a.insert(d,e.type.create(i)).delete(a.mapping.map(s),a.mapping.map(c))}a.scrollIntoView()},undoable:e.undoable})}function Db(e){return new Km({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),a=et(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,a)},undoable:e.undoable})}function Dl(e){return new Km({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const a=et(e.getAttributes,void 0,r)||{},s=t.tr.delete(n.from,n.to),u=s.doc.resolve(n.from).blockRange(),d=u&&iw(u,e.type,a);if(!d)return null;if(s.wrap(u,d),e.keepMarks&&e.editor){const{selection:m,storedMarks:y}=t,{splittableMarks:v}=e.editor.extensionManager,b=y||m.$to.parentOffset&&m.$from.marks();if(b){const w=b.filter(S=>v.includes(S.type.name));s.ensureMarks(w)}}if(e.keepAttributes){const m=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,a).run()}const p=s.doc.resolve(n.from-1).nodeBefore;p&&p.type===e.type&&us(s.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,p))&&s.join(n.from-1)},undoable:e.undoable})}function gW(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof Ae){const a=r.index();return r.parent.canReplaceWith(a,a+1,t)}let i=r.depth;for(;i>=0;){const a=r.index(i);if(r.node(i).contentMatchAt(a).matchType(t))return!0;i-=1}return!1}var yW={};bw(yW,{createAtomBlockMarkdownSpec:()=>vW,createBlockMarkdownSpec:()=>xW,createInlineMarkdownSpec:()=>SW,parseAttributes:()=>Tw,parseIndentedBlocks:()=>Pb,renderNestedMarkdownContent:()=>Mw,serializeAttributes:()=>Aw});function Tw(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,d=>(n.push(d),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const d=i.map(p=>p.trim().slice(1));t.class=d.join(" ")}const a=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);a&&(t.id=a[1]);const s=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(s)).forEach(([,d,p])=>{var m;const y=parseInt(((m=p.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),v=n[y];v&&(t[d]=v.slice(1,-1))});const u=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return u&&u.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(t[p]=!0)}),t}function Aw(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function vW(e){const{nodeName:t,name:n,parseAttributes:r=Tw,serializeAttributes:i=Aw,defaultAttributes:a={},requiredAttributes:s=[],allowedAttributes:c}=e,u=n||t,d=p=>{if(!c)return p;const m={};return c.forEach(y=>{y in p&&(m[y]=p[y])}),m};return{parseMarkdown:(p,m)=>{const y={...a,...p.attributes};return m.createNode(t,y,[])},markdownTokenizer:{name:t,level:"block",start(p){var m;const y=new RegExp(`^:::${u}(?:\\s|$)`,"m"),v=(m=p.match(y))==null?void 0:m.index;return v!==void 0?v:-1},tokenize(p,m,y){const v=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),b=p.match(v);if(!b)return;const w=b[1]||"",S=r(w);if(!s.find(E=>!(E in S)))return{type:t,raw:b[0],attributes:S}}},renderMarkdown:p=>{const m=d(p.attrs||{}),y=i(m),v=y?` {${y}}`:"";return`:::${u}${v} :::`}}}function xW(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=Tw,serializeAttributes:a=Aw,defaultAttributes:s={},content:c="block",allowedAttributes:u}=e,d=n||t,p=m=>{if(!u)return m;const y={};return u.forEach(v=>{v in m&&(y[v]=m[v])}),y};return{parseMarkdown:(m,y)=>{let v;if(r){const w=r(m);v=typeof w=="string"?[{type:"text",text:w}]:w}else c==="block"?v=y.parseChildren(m.tokens||[]):v=y.parseInline(m.tokens||[]);const b={...s,...m.attributes};return y.createNode(t,b,v)},markdownTokenizer:{name:t,level:"block",start(m){var y;const v=new RegExp(`^:::${d}`,"m"),b=(y=m.match(v))==null?void 0:y.index;return b!==void 0?b:-1},tokenize(m,y,v){var b;const w=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),S=m.match(w);if(!S)return;const[k,E=""]=S,O=i(E);let _=1;const T=k.length;let M="";const D=/^:::([\w-]*)(\s.*)?/gm,B=m.slice(T);for(D.lastIndex=0;;){const q=D.exec(B);if(q===null)break;const L=q.index,K=q[1];if(!((b=q[2])!=null&&b.endsWith(":::"))){if(K)_+=1;else if(_-=1,_===0){const V=B.slice(0,L);M=V.trim();const te=m.slice(0,T+L+q[0].length);let oe=[];if(M)if(c==="block")for(oe=v.blockTokens(V),oe.forEach(ue=>{ue.text&&(!ue.tokens||ue.tokens.length===0)&&(ue.tokens=v.inlineTokens(ue.text))});oe.length>0;){const ue=oe[oe.length-1];if(ue.type==="paragraph"&&(!ue.text||ue.text.trim()===""))oe.pop();else break}else oe=v.inlineTokens(M);return{type:t,raw:te,attributes:O,content:M,tokens:oe}}}}}},renderMarkdown:(m,y)=>{const v=p(m.attrs||{}),b=a(v),w=b?` {${b}}`:"",S=y.renderChildren(m.content||[],`

`);return`:::${d}${w}

${S}

:::`}}}function bW(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,i,a,s]=r;t[i]=a||s,r=n.exec(e)}return t}function wW(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function SW(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=bW,serializeAttributes:a=wW,defaultAttributes:s={},selfClosing:c=!1,allowedAttributes:u}=e,d=n||t,p=y=>{if(!u)return y;const v={};return u.forEach(b=>{b in y&&(v[b]=y[b])}),v},m=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(y,v)=>{const b={...s,...y.attributes};if(c)return v.createNode(t,b);const w=r?r(y):y.content||"";return w?v.createNode(t,b,[v.createTextNode(w)]):v.createNode(t,b,[])},markdownTokenizer:{name:t,level:"inline",start(y){const v=c?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),b=y.match(v),w=b?.index;return w!==void 0?w:-1},tokenize(y,v,b){const w=c?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),S=y.match(w);if(!S)return;let k="",E="";if(c){const[,_]=S;E=_}else{const[,_,T]=S;E=_,k=T||""}const O=i(E.trim());return{type:t,raw:S[0],content:k.trim(),attributes:O}}},renderMarkdown:y=>{let v="";r?v=r(y):y.content&&y.content.length>0&&(v=y.content.filter(k=>k.type==="text").map(k=>k.text).join(""));const b=p(y.attrs||{}),w=a(b),S=w?` ${w}`:"";return c?`[${d}${S}]`:`[${d}${S}]${v}[/${d}]`}}}function Pb(e,t,n){var r,i,a,s;const c=e.split(`
`),u=[];let d="",p=0;const m=t.baseIndentSize||2;for(;p<c.length;){const y=c[p],v=y.match(t.itemPattern);if(!v){if(u.length>0)break;if(y.trim()===""){p+=1;continue}else return}const b=t.extractItemData(v),{indentLevel:w,mainContent:S}=b;d=`${d}${y}
`;const k=[S];for(p+=1;p<c.length;){const T=c[p];if(T.trim()===""){const D=c.slice(p+1).findIndex(L=>L.trim()!=="");if(D===-1)break;if((((i=(r=c[p+1+D].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>w){k.push(T),d=`${d}${T}
`,p+=1;continue}else break}if((((s=(a=T.match(/^(\s*)/))==null?void 0:a[1])==null?void 0:s.length)||0)>w)k.push(T),d=`${d}${T}
`,p+=1;else break}let E;const O=k.slice(1);if(O.length>0){const T=O.map(M=>M.slice(w+m)).join(`
`);T.trim()&&(t.customNestedParser?E=t.customNestedParser(T):E=n.blockTokens(T))}const _=t.createToken(b,E);u.push(_)}if(u.length!==0)return{items:u,raw:d.trim()}}function Mw(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const i=typeof n=="function"?n(r):n,[a,...s]=e.content,c=t.renderChildren([a]),u=[`${i}${c}`];return s&&s.length>0&&s.forEach(d=>{const p=t.renderChildren([d]);if(p){const m=p.split(`
`).map(y=>y?t.indent(y):"").join(`
`);u.push(m)}}),u.join(`
`)}function NW(e,t,n={}){const{state:r}=t,{doc:i,tr:a}=r,s=e;i.descendants((c,u)=>{const d=a.mapping.map(u),p=a.mapping.map(u)+c.nodeSize;let m=null;if(c.marks.forEach(v=>{if(v!==s)return!1;m=v}),!m)return;let y=!1;if(Object.keys(n).forEach(v=>{n[v]!==m.attrs[v]&&(y=!0)}),y){const v=e.type.create({...e.attrs,...n});a.removeMark(d,p,e.type),a.addMark(d,p,v)}}),a.docChanged&&t.view.dispatch(a)}var mr=class n4 extends Ow{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new n4(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function ho(e){return new aW({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const a=et(e.getAttributes,void 0,r,i);if(a===!1||a===null)return null;const{tr:s}=t,c=r[r.length-1],u=r[0];let d=n.to;if(c){const p=u.search(/\S/),m=n.from+u.indexOf(c),y=m+c.length;if(Cw(n.from,n.to,t.doc).filter(b=>b.mark.type.excluded.find(S=>S===e.type&&S!==b.mark.type)).filter(b=>b.to>m).length)return null;y<n.to&&s.delete(y,n.to),m>n.from&&s.delete(n.from+p,m),d=n.from+p+c.length,s.addMark(n.from+p,d,e.type.create(a||{})),s.removeStoredMark(e.type)}}})}var pv,wO;function jW(){return wO||(wO=1,pv=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;for(i of t.entries())if(!e(i[1],n.get(i[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(t[i]!==n[i])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var s=a[i];if(!(s==="_owner"&&t.$$typeof)&&!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}),pv}var kW=jW();const EW=Jr(kW);var mv={exports:{}},gv={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SO;function CW(){if(SO)return gv;SO=1;var e=ql(),t=ZD();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,c=e.useMemo,u=e.useDebugValue;return gv.useSyncExternalStoreWithSelector=function(d,p,m,y,v){var b=a(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=c(function(){function k(M){if(!E){if(E=!0,O=M,M=y(M),v!==void 0&&w.hasValue){var D=w.value;if(v(D,M))return _=D}return _=M}if(D=_,r(O,M))return D;var B=y(M);return v!==void 0&&v(D,B)?(O=M,D):(O=M,_=B)}var E=!1,O,_,T=m===void 0?null:m;return[function(){return k(p())},T===null?void 0:function(){return k(T())}]},[p,m,y,v]);var S=i(d,b[0],b[1]);return s(function(){w.hasValue=!0,w.value=S},[S]),u(S),S},gv}var NO;function OW(){return NO||(NO=1,mv.exports=CW()),mv.exports}var r4=OW(),TW=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},AW=({contentComponent:e})=>{const t=JD.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return h.jsx(h.Fragment,{children:Object.values(t)})};function MW(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:p8.createPortal(r.reactElement,r.element,n)},e.forEach(i=>i())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(i=>i())}}}var _W=class extends En.Component{constructor(e){var t;super(e),this.editorContentRef=En.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=MW(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return h.jsxs(h.Fragment,{children:[h.jsx("div",{ref:TW(t,this.editorContentRef),...n}),e?.contentComponent&&h.jsx(AW,{contentComponent:e.contentComponent})]})}},DW=j.forwardRef((e,t)=>{const n=En.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return En.createElement(_W,{key:n,innerRef:t,...e})}),PW=En.memo(DW),RW=typeof window<"u"?j.useLayoutEffect:j.useEffect,LW=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function BW(e){var t;const[n]=j.useState(()=>new LW(e.editor)),r=r4.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:EW);return RW(()=>n.watch(e.editor),[e.editor,n]),j.useDebugValue(r),r}var IW=!1,Rb=typeof window>"u",zW=Rb||!!(typeof window<"u"&&window.next),$W=class i4{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Rb||zW?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...r)=>{var i,a;return(a=(i=this.options.current).onBeforeCreate)==null?void 0:a.call(i,...r)},onBlur:(...r)=>{var i,a;return(a=(i=this.options.current).onBlur)==null?void 0:a.call(i,...r)},onCreate:(...r)=>{var i,a;return(a=(i=this.options.current).onCreate)==null?void 0:a.call(i,...r)},onDestroy:(...r)=>{var i,a;return(a=(i=this.options.current).onDestroy)==null?void 0:a.call(i,...r)},onFocus:(...r)=>{var i,a;return(a=(i=this.options.current).onFocus)==null?void 0:a.call(i,...r)},onSelectionUpdate:(...r)=>{var i,a;return(a=(i=this.options.current).onSelectionUpdate)==null?void 0:a.call(i,...r)},onTransaction:(...r)=>{var i,a;return(a=(i=this.options.current).onTransaction)==null?void 0:a.call(i,...r)},onUpdate:(...r)=>{var i,a;return(a=(i=this.options.current).onUpdate)==null?void 0:a.call(i,...r)},onContentError:(...r)=>{var i,a;return(a=(i=this.options.current).onContentError)==null?void 0:a.call(i,...r)},onDrop:(...r)=>{var i,a;return(a=(i=this.options.current).onDrop)==null?void 0:a.call(i,...r)},onPaste:(...r)=>{var i,a;return(a=(i=this.options.current).onPaste)==null?void 0:a.call(i,...r)},onDelete:(...r)=>{var i,a;return(a=(i=this.options.current).onDelete)==null?void 0:a.call(i,...r)}};return new pW(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((i,a)=>{var s;return i===((s=n.extensions)==null?void 0:s[a])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?i4.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,i)=>r===t[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function UW(e={},t=[]){const n=j.useRef(e);n.current=e;const[r]=j.useState(()=>new $W(n)),i=JD.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return j.useDebugValue(i),j.useEffect(r.onRender(t)),BW({editor:i,selector:({transactionNumber:a})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&a===0?0:a+1}),i}var HW=j.createContext({editor:null});HW.Consumer;var qW=j.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),KW=()=>j.useContext(qW);En.forwardRef((e,t)=>{const{onDragStart:n}=KW(),r=e.as||"div";return h.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});En.createContext({markViewContentRef:()=>{}});var up=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},VW=/^\s*>\s$/,FW=mr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return up("blockquote",{...Ht(this.options.HTMLAttributes,e),children:up("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=[];return e.content.forEach(i=>{const s=t.renderChildren(i).split(`
`).map(c=>`> ${c}`).join(`
`);n.push(s)}),n.flatMap(i=>[i,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Dl({find:VW,type:this.type})]}}),WW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,GW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,YW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,XW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,QW=wo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return up("strong",{...Ht(this.options.HTMLAttributes,e),children:up("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[_l({find:WW,type:this.type}),_l({find:YW,type:this.type})]},addPasteRules(){return[ho({find:GW,type:this.type}),ho({find:XW,type:this.type})]}}),ZW=/(^|[^`])`([^`]+)`(?!`)$/,JW=/(^|[^`])`([^`]+)`(?!`)/g,eG=wo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",Ht(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[_l({find:ZW,type:this.type})]},addPasteRules(){return[ho({find:JW,type:this.type})]}}),yv=4,tG=/^```([a-z]+)?[\s\n]$/,nG=/^~~~([a-z]+)?[\s\n]$/,rG=mr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:yv,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const a=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",Ht(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const i=((n=e.attrs)==null?void 0:n.language)||"";return e.content?r=[`\`\`\`${i}`,t.renderChildren(e.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:yv,{state:r}=e,{selection:i}=r,{$from:a,empty:s}=i;if(a.parent.type!==this.type)return!1;const c=" ".repeat(n);return s?e.commands.insertContent(c):e.commands.command(({tr:u})=>{const{from:d,to:p}=i,v=r.doc.textBetween(d,p,`
`,`
`).split(`
`).map(b=>c+b).join(`
`);return u.replaceWith(d,p,r.schema.text(v)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:yv,{state:r}=e,{selection:i}=r,{$from:a,empty:s}=i;return a.parent.type!==this.type?!1:s?e.commands.command(({tr:c})=>{var u;const{pos:d}=a,p=a.start(),m=a.end(),v=r.doc.textBetween(p,m,`
`,`
`).split(`
`);let b=0,w=0;const S=d-p;for(let M=0;M<v.length;M+=1){if(w+v[M].length>=S){b=M;break}w+=v[M].length+1}const E=((u=v[b].match(/^ */))==null?void 0:u[0])||"",O=Math.min(E.length,n);if(O===0)return!0;let _=p;for(let M=0;M<b;M+=1)_+=v[M].length+1;return c.delete(_,_+O),d-_<=O&&c.setSelection(Le.create(c.doc,_)),!0}):e.commands.command(({tr:c})=>{const{from:u,to:d}=i,y=r.doc.textBetween(u,d,`
`,`
`).split(`
`).map(v=>{var b;const w=((b=v.match(/^ */))==null?void 0:b[0])||"",S=Math.min(w.length,n);return v.slice(S)}).join(`
`);return c.replaceWith(u,d,r.schema.text(y)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const a=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!a||!s?!1:e.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:a}=n;if(!a||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const c=i.after();return c===void 0?!1:r.nodeAt(c)?e.commands.command(({tr:d})=>(d.setSelection($e.near(r.resolve(c))),!0)):e.commands.exitCode()}}},addInputRules(){return[Db({find:tG,type:this.type,getAttributes:e=>({language:e[1]})}),Db({find:nG,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Mt({key:new sn("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,a=i?.mode;if(!n||!a)return!1;const{tr:s,schema:c}=e.state,u=c.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:a},u)),s.selection.$from.parent.type!==this.type&&s.setSelection(Le.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}}),iG=mr.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),aG=mr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",Ht(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:(e,t)=>t.indent(`
`),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:a}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:c}=r.extensionManager,u=a||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:d,dispatch:p})=>{if(p&&u&&s){const m=u.filter(y=>c.includes(y.type.name));d.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),sG=mr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,Ht(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,i="#".repeat(r);return e.content?`${i} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Db({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),oG=mr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",Ht(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!gW(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,i=e();return HP(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:a,tr:s,dispatch:c})=>{if(c){const{$to:u}=s.selection,d=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?s.setSelection(Le.create(s.doc,u.pos+1)):u.nodeAfter.isBlock?s.setSelection(Ae.create(s.doc,u.pos)):s.setSelection(Le.create(s.doc,u.pos));else{const p=a.schema.nodes[this.options.nextNodeType]||u.parent.type.contentMatch.defaultType,m=p?.create();m&&(s.insert(d,m),s.setSelection(Le.create(s.doc,d+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[mW({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),lG=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,cG=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,uG=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,dG=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,fG=wo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Ht(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[_l({find:lG,type:this.type}),_l({find:uG,type:this.type})]},addPasteRules(){return[ho({find:cG,type:this.type}),ho({find:dG,type:this.type})]}});const hG="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",pG="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Lb="numeric",Bb="ascii",Ib="alpha",Ou="asciinumeric",wu="alphanumeric",zb="domain",a4="emoji",mG="scheme",gG="slashscheme",vv="whitespace";function yG(e,t){return e in t||(t[e]=[]),t[e]}function Fs(e,t,n){t[Lb]&&(t[Ou]=!0,t[wu]=!0),t[Bb]&&(t[Ou]=!0,t[Ib]=!0),t[Ou]&&(t[wu]=!0),t[Ib]&&(t[wu]=!0),t[wu]&&(t[zb]=!0),t[a4]&&(t[zb]=!0);for(const r in t){const i=yG(r,n);i.indexOf(e)<0&&i.push(e)}}function vG(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Vn(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Vn.groups={};Vn.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],a=t.jr[r][1];if(a&&i.test(e))return a}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||Vn.groups;let i;return t&&t.j?i=t:(i=new Vn(t),n&&r&&Fs(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const a=e.length;if(!a)return i;for(let s=0;s<a-1;s++)i=i.tt(e[s]);return i.tt(e[a-1],t,n,r)},tt(e,t,n,r){r=r||Vn.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const a=t;let s,c=i.go(e);if(c?(s=new Vn,Object.assign(s.j,c.j),s.jr.push.apply(s.jr,c.jr),s.jd=c.jd,s.t=c.t):s=new Vn,a){if(r)if(s.t&&typeof s.t=="string"){const u=Object.assign(vG(s.t,r),n);Fs(a,u,r)}else n&&Fs(a,n,r);s.t=a}return i.j[e]=s,s}};const ze=(e,t,n,r,i)=>e.ta(t,n,r,i),Ot=(e,t,n,r,i)=>e.tr(t,n,r,i),jO=(e,t,n,r,i)=>e.ts(t,n,r,i),ce=(e,t,n,r,i)=>e.tt(t,n,r,i),Ii="WORD",$b="UWORD",s4="ASCIINUMERICAL",o4="ALPHANUMERICAL",Wu="LOCALHOST",Ub="TLD",Hb="UTLD",Rh="SCHEME",gl="SLASH_SCHEME",_w="NUM",qb="WS",Dw="NL",Tu="OPENBRACE",Au="CLOSEBRACE",dp="OPENBRACKET",fp="CLOSEBRACKET",hp="OPENPAREN",pp="CLOSEPAREN",mp="OPENANGLEBRACKET",gp="CLOSEANGLEBRACKET",yp="FULLWIDTHLEFTPAREN",vp="FULLWIDTHRIGHTPAREN",xp="LEFTCORNERBRACKET",bp="RIGHTCORNERBRACKET",wp="LEFTWHITECORNERBRACKET",Sp="RIGHTWHITECORNERBRACKET",Np="FULLWIDTHLESSTHAN",jp="FULLWIDTHGREATERTHAN",kp="AMPERSAND",Ep="APOSTROPHE",Cp="ASTERISK",za="AT",Op="BACKSLASH",Tp="BACKTICK",Ap="CARET",Fa="COLON",Pw="COMMA",Mp="DOLLAR",ui="DOT",_p="EQUALS",Rw="EXCLAMATION",_r="HYPHEN",Mu="PERCENT",Dp="PIPE",Pp="PLUS",Rp="POUND",_u="QUERY",Lw="QUOTE",l4="FULLWIDTHMIDDLEDOT",Bw="SEMI",di="SLASH",Du="TILDE",Lp="UNDERSCORE",c4="EMOJI",Bp="SYM";var u4=Object.freeze({__proto__:null,ALPHANUMERICAL:o4,AMPERSAND:kp,APOSTROPHE:Ep,ASCIINUMERICAL:s4,ASTERISK:Cp,AT:za,BACKSLASH:Op,BACKTICK:Tp,CARET:Ap,CLOSEANGLEBRACKET:gp,CLOSEBRACE:Au,CLOSEBRACKET:fp,CLOSEPAREN:pp,COLON:Fa,COMMA:Pw,DOLLAR:Mp,DOT:ui,EMOJI:c4,EQUALS:_p,EXCLAMATION:Rw,FULLWIDTHGREATERTHAN:jp,FULLWIDTHLEFTPAREN:yp,FULLWIDTHLESSTHAN:Np,FULLWIDTHMIDDLEDOT:l4,FULLWIDTHRIGHTPAREN:vp,HYPHEN:_r,LEFTCORNERBRACKET:xp,LEFTWHITECORNERBRACKET:wp,LOCALHOST:Wu,NL:Dw,NUM:_w,OPENANGLEBRACKET:mp,OPENBRACE:Tu,OPENBRACKET:dp,OPENPAREN:hp,PERCENT:Mu,PIPE:Dp,PLUS:Pp,POUND:Rp,QUERY:_u,QUOTE:Lw,RIGHTCORNERBRACKET:bp,RIGHTWHITECORNERBRACKET:Sp,SCHEME:Rh,SEMI:Bw,SLASH:di,SLASH_SCHEME:gl,SYM:Bp,TILDE:Du,TLD:Ub,UNDERSCORE:Lp,UTLD:Hb,UWORD:$b,WORD:Ii,WS:qb});const Li=/[a-z]/,cu=new RegExp("\\p{L}","u"),xv=new RegExp("\\p{Emoji}","u"),Bi=/\d/,bv=/\s/,kO="\r",wv=`
`,xG="️",bG="‍",Sv="￼";let oh=null,lh=null;function wG(e=[]){const t={};Vn.groups=t;const n=new Vn;oh==null&&(oh=EO(hG)),lh==null&&(lh=EO(pG)),ce(n,"'",Ep),ce(n,"{",Tu),ce(n,"}",Au),ce(n,"[",dp),ce(n,"]",fp),ce(n,"(",hp),ce(n,")",pp),ce(n,"<",mp),ce(n,">",gp),ce(n,"（",yp),ce(n,"）",vp),ce(n,"「",xp),ce(n,"」",bp),ce(n,"『",wp),ce(n,"』",Sp),ce(n,"＜",Np),ce(n,"＞",jp),ce(n,"&",kp),ce(n,"*",Cp),ce(n,"@",za),ce(n,"`",Tp),ce(n,"^",Ap),ce(n,":",Fa),ce(n,",",Pw),ce(n,"$",Mp),ce(n,".",ui),ce(n,"=",_p),ce(n,"!",Rw),ce(n,"-",_r),ce(n,"%",Mu),ce(n,"|",Dp),ce(n,"+",Pp),ce(n,"#",Rp),ce(n,"?",_u),ce(n,'"',Lw),ce(n,"/",di),ce(n,";",Bw),ce(n,"~",Du),ce(n,"_",Lp),ce(n,"\\",Op),ce(n,"・",l4);const r=Ot(n,Bi,_w,{[Lb]:!0});Ot(r,Bi,r);const i=Ot(r,Li,s4,{[Ou]:!0}),a=Ot(r,cu,o4,{[wu]:!0}),s=Ot(n,Li,Ii,{[Bb]:!0});Ot(s,Bi,i),Ot(s,Li,s),Ot(i,Bi,i),Ot(i,Li,i);const c=Ot(n,cu,$b,{[Ib]:!0});Ot(c,Li),Ot(c,Bi,a),Ot(c,cu,c),Ot(a,Bi,a),Ot(a,Li),Ot(a,cu,a);const u=ce(n,wv,Dw,{[vv]:!0}),d=ce(n,kO,qb,{[vv]:!0}),p=Ot(n,bv,qb,{[vv]:!0});ce(n,Sv,p),ce(d,wv,u),ce(d,Sv,p),Ot(d,bv,p),ce(p,kO),ce(p,wv),Ot(p,bv,p),ce(p,Sv,p);const m=Ot(n,xv,c4,{[a4]:!0});ce(m,"#"),Ot(m,xv,m),ce(m,xG,m);const y=ce(m,bG);ce(y,"#"),Ot(y,xv,m);const v=[[Li,s],[Bi,i]],b=[[Li,null],[cu,c],[Bi,a]];for(let w=0;w<oh.length;w++)La(n,oh[w],Ub,Ii,v);for(let w=0;w<lh.length;w++)La(n,lh[w],Hb,$b,b);Fs(Ub,{tld:!0,ascii:!0},t),Fs(Hb,{utld:!0,alpha:!0},t),La(n,"file",Rh,Ii,v),La(n,"mailto",Rh,Ii,v),La(n,"http",gl,Ii,v),La(n,"https",gl,Ii,v),La(n,"ftp",gl,Ii,v),La(n,"ftps",gl,Ii,v),Fs(Rh,{scheme:!0,ascii:!0},t),Fs(gl,{slashscheme:!0,ascii:!0},t),e=e.sort((w,S)=>w[0]>S[0]?1:-1);for(let w=0;w<e.length;w++){const S=e[w][0],E=e[w][1]?{[mG]:!0}:{[gG]:!0};S.indexOf("-")>=0?E[zb]=!0:Li.test(S)?Bi.test(S)?E[Ou]=!0:E[Bb]=!0:E[Lb]=!0,jO(n,S,S,E)}return jO(n,"localhost",Wu,{ascii:!0}),n.jd=new Vn(Bp),{start:n,tokens:Object.assign({groups:t},u4)}}function d4(e,t){const n=SG(t.replace(/[A-Z]/g,c=>c.toLowerCase())),r=n.length,i=[];let a=0,s=0;for(;s<r;){let c=e,u=null,d=0,p=null,m=-1,y=-1;for(;s<r&&(u=c.go(n[s]));)c=u,c.accepts()?(m=0,y=0,p=c):m>=0&&(m+=n[s].length,y++),d+=n[s].length,a+=n[s].length,s++;a-=m,s-=y,d-=m,i.push({t:p.t,v:t.slice(a-d,a),s:a-d,e:a})}return i}function SG(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),a,s=i<55296||i>56319||r+1===n||(a=e.charCodeAt(r+1))<56320||a>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}function La(e,t,n,r,i){let a;const s=t.length;for(let c=0;c<s-1;c++){const u=t[c];e.j[u]?a=e.j[u]:(a=new Vn(r),a.jr=i.slice(),e.j[u]=a),e=a}return a=new Vn(n),a.jr=i.slice(),e.j[t[s-1]]=a,a}function EO(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let a=0;for(;i.indexOf(e[r+a])>=0;)a++;if(a>0){t.push(n.join(""));for(let s=parseInt(e.substring(r,r+a),10);s>0;s--)n.pop();r+=a}else n.push(e[r]),r++}return t}const Gu={defaultProtocol:"http",events:null,format:CO,formatHref:CO,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Iw(e,t=null){let n=Object.assign({},Gu);e&&(n=Object.assign(n,e instanceof Iw?e.o:e));const r=n.ignoreTags,i=[];for(let a=0;a<r.length;a++)i.push(r[a].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}Iw.prototype={o:Gu,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Gu[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function CO(e){return e}function f4(e,t){this.t="token",this.v=e,this.tk=t}f4.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Gu.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),a=this.toFormattedString(e),s={},c=e.get("className",n,t),u=e.get("target",n,t),d=e.get("rel",n,t),p=e.getObj("attributes",n,t),m=e.getObj("events",n,t);return s.href=r,c&&(s.class=c),u&&(s.target=u),d&&(s.rel=d),p&&Object.assign(s,p),{tagName:i,attributes:s,content:a,eventListeners:m}}};function Fm(e,t){class n extends f4{constructor(i,a){super(i,a),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const OO=Fm("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),TO=Fm("text"),NG=Fm("nl"),ch=Fm("url",{isLink:!0,toHref(e=Gu.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Wu&&e[1].t===Fa}}),Cr=e=>new Vn(e);function jG({groups:e}){const t=e.domain.concat([kp,Cp,za,Op,Tp,Ap,Mp,_p,_r,_w,Mu,Dp,Pp,Rp,di,Bp,Du,Lp]),n=[Ep,Fa,Pw,ui,Rw,Mu,_u,Lw,Bw,mp,gp,Tu,Au,fp,dp,hp,pp,yp,vp,xp,bp,wp,Sp,Np,jp],r=[kp,Ep,Cp,Op,Tp,Ap,Mp,_p,_r,Tu,Au,Mu,Dp,Pp,Rp,_u,di,Bp,Du,Lp],i=Cr(),a=ce(i,Du);ze(a,r,a),ze(a,e.domain,a);const s=Cr(),c=Cr(),u=Cr();ze(i,e.domain,s),ze(i,e.scheme,c),ze(i,e.slashscheme,u),ze(s,r,a),ze(s,e.domain,s);const d=ce(s,za);ce(a,za,d),ce(c,za,d),ce(u,za,d);const p=ce(a,ui);ze(p,r,a),ze(p,e.domain,a);const m=Cr();ze(d,e.domain,m),ze(m,e.domain,m);const y=ce(m,ui);ze(y,e.domain,m);const v=Cr(OO);ze(y,e.tld,v),ze(y,e.utld,v),ce(d,Wu,v);const b=ce(m,_r);ce(b,_r,b),ze(b,e.domain,m),ze(v,e.domain,m),ce(v,ui,y),ce(v,_r,b);const w=ce(v,Fa);ze(w,e.numeric,OO);const S=ce(s,_r),k=ce(s,ui);ce(S,_r,S),ze(S,e.domain,s),ze(k,r,a),ze(k,e.domain,s);const E=Cr(ch);ze(k,e.tld,E),ze(k,e.utld,E),ze(E,e.domain,s),ze(E,r,a),ce(E,ui,k),ce(E,_r,S),ce(E,za,d);const O=ce(E,Fa),_=Cr(ch);ze(O,e.numeric,_);const T=Cr(ch),M=Cr();ze(T,t,T),ze(T,n,M),ze(M,t,T),ze(M,n,M),ce(E,di,T),ce(_,di,T);const D=ce(c,Fa),B=ce(u,Fa),q=ce(B,di),L=ce(q,di);ze(c,e.domain,s),ce(c,ui,k),ce(c,_r,S),ze(u,e.domain,s),ce(u,ui,k),ce(u,_r,S),ze(D,e.domain,T),ce(D,di,T),ce(D,_u,T),ze(L,e.domain,T),ze(L,t,T),ce(L,di,T);const K=[[Tu,Au],[dp,fp],[hp,pp],[mp,gp],[yp,vp],[xp,bp],[wp,Sp],[Np,jp]];for(let V=0;V<K.length;V++){const[te,oe]=K[V],ue=ce(T,te);ce(M,te,ue),ce(ue,oe,T);const $=Cr(ch);ze(ue,t,$);const J=Cr();ze(ue,n),ze($,t,$),ze($,n,J),ze(J,t,$),ze(J,n,J),ce($,oe,T),ce(J,oe,T)}return ce(i,Wu,E),ce(i,Dw,NG),{start:i,tokens:u4}}function kG(e,t,n){let r=n.length,i=0,a=[],s=[];for(;i<r;){let c=e,u=null,d=null,p=0,m=null,y=-1;for(;i<r&&!(u=c.go(n[i].t));)s.push(n[i++]);for(;i<r&&(d=u||c.go(n[i].t));)u=null,c=d,c.accepts()?(y=0,m=c):y>=0&&y++,i++,p++;if(y<0)i-=p,i<r&&(s.push(n[i]),i++);else{s.length>0&&(a.push(Nv(TO,t,s)),s=[]),i-=y,p-=y;const v=m.t,b=n.slice(i-p,i);a.push(Nv(v,t,b))}}return s.length>0&&a.push(Nv(TO,t,s)),a}function Nv(e,t,n){const r=n[0].s,i=n[n.length-1].e,a=t.slice(r,i);return new e(a,n)}const EG=typeof console<"u"&&console&&console.warn||(()=>{}),CG="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ft={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function OG(){return Vn.groups={},ft.scanner=null,ft.parser=null,ft.tokenQueue=[],ft.pluginQueue=[],ft.customSchemes=[],ft.initialized=!1,ft}function AO(e,t=!1){if(ft.initialized&&EG(`linkifyjs: already initialized - will not register custom scheme "${e}" ${CG}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ft.customSchemes.push([e,t])}function TG(){ft.scanner=wG(ft.customSchemes);for(let e=0;e<ft.tokenQueue.length;e++)ft.tokenQueue[e][1]({scanner:ft.scanner});ft.parser=jG(ft.scanner.tokens);for(let e=0;e<ft.pluginQueue.length;e++)ft.pluginQueue[e][1]({scanner:ft.scanner,parser:ft.parser});return ft.initialized=!0,ft}function zw(e){return ft.initialized||TG(),kG(ft.parser.start,e,d4(ft.scanner.start,e))}zw.scan=d4;function h4(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new Iw(n),i=zw(e),a=[];for(let s=0;s<i.length;s++){const c=i[s];c.isLink&&(!t||c.t===t)&&r.check(c)&&a.push(c.toFormattedObject(r))}return a}var $w="[\0-   ᠎ -\u2029 　]",AG=new RegExp($w),MG=new RegExp(`${$w}$`),_G=new RegExp($w,"g");function DG(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function PG(e){return new Mt({key:new sn("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(d=>d.docChanged)&&!n.doc.eq(r.doc),a=t.some(d=>d.getMeta("preventAutolink"));if(!i||a)return;const{tr:s}=r,c=PP(n.doc,[...t]);if(UP(c).forEach(({newRange:d})=>{const p=bF(r.doc,d,v=>v.isTextblock);let m,y;if(p.length>1)m=p[0],y=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(p.length){const v=r.doc.textBetween(d.from,d.to," "," ");if(!MG.test(v))return;m=p[0],y=r.doc.textBetween(m.pos,d.to,void 0," ")}if(m&&y){const v=y.split(AG).filter(Boolean);if(v.length<=0)return!1;const b=v[v.length-1],w=m.pos+y.lastIndexOf(b);if(!b)return!1;const S=zw(b).map(k=>k.toObject(e.defaultProtocol));if(!DG(S))return!1;S.filter(k=>k.isLink).map(k=>({...k,from:w+k.start+1,to:w+k.end+1})).filter(k=>r.schema.marks.code?!r.doc.rangeHasMark(k.from,k.to,r.schema.marks.code):!0).filter(k=>e.validate(k.value)).filter(k=>e.shouldAutoLink(k.value)).forEach(k=>{Cw(k.from,k.to,r.doc).some(E=>E.mark.type===e.type)||s.addMark(k.from,k.to,e.type.create({href:k.href}))})}}),!!s.steps.length)return s}})}function RG(e){return new Mt({key:new sn("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,a;if(r.button!==0||!t.editable)return!1;let s=null;if(r.target instanceof HTMLAnchorElement)s=r.target;else{let p=r.target;const m=[];for(;p.nodeName!=="DIV";)m.push(p),p=p.parentNode;s=m.find(y=>y.nodeName==="A")}if(!s)return!1;const c=$P(t.state,e.type.name),u=(i=s?.href)!=null?i:c.href,d=(a=s?.target)!=null?a:c.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),s&&u?(window.open(u,d),!0):!1}}})}function LG(e){return new Mt({key:new sn("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:i}=e,{state:a}=t,{selection:s}=a,{empty:c}=s;if(c)return!1;let u="";r.content.forEach(p=>{u+=p.textContent});const d=h4(u,{defaultProtocol:e.defaultProtocol}).find(p=>p.isLink&&p.value===u);return!u||!d||i!==void 0&&!i(d.href)?!1:e.editor.commands.setMark(e.type,{href:d.href})}}})}function Ls(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!e||e.replace(_G,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var BG=wo.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){AO(e);return}AO(e.scheme,e.optionalSlashes)})},onDestroy(){OG()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Ls(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!Ls(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Ls(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Ht(this.options.HTMLAttributes,e),0]:["a",Ht(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Ls(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Ls(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ho({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,i=h4(e).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:s=>!!Ls(s,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(a=>{this.options.shouldAutoLink(a.value)&&t.push({text:a.value,data:{href:a.href},index:a.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(PG({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Ls(i,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(RG({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(LG({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),IG=Object.defineProperty,zG=(e,t)=>{for(var n in t)IG(e,n,{get:t[n],enumerable:!0})},$G="listItem",MO="textStyle",_O=/^\s*([-+*])\s$/,p4=mr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",Ht(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes($G,this.editor.getAttributes(MO)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Dl({find:_O,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Dl({find:_O,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(MO),editor:this.editor})),[e]}}),m4=mr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Ht(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(i=>i.type==="paragraph"))n=t.parseChildren(e.tokens);else{const i=e.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(i.tokens)}],e.tokens.length>1){const s=e.tokens.slice(1),c=t.parseChildren(s);n.push(...c)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>Mw(e,t,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),UG={};zG(UG,{findListItemPos:()=>yd,getNextListDepth:()=>Uw,handleBackspace:()=>Kb,handleDelete:()=>Vb,hasListBefore:()=>g4,hasListItemAfter:()=>HG,hasListItemBefore:()=>y4,listItemHasSubList:()=>v4,nextListIsDeeper:()=>x4,nextListIsHigher:()=>b4});var yd=(e,t)=>{const{$from:n}=t.selection,r=Ut(e,t.schema);let i=null,a=n.depth,s=n.pos,c=null;for(;a>0&&c===null;)i=n.node(a),i.type===r?c=a:(a-=1,s-=1);return c===null?null:{$pos:t.doc.resolve(s),depth:c}},Uw=(e,t)=>{const n=yd(e,t);if(!n)return!1;const[,r]=AF(t,e,n.$pos.pos+4);return r},g4=(e,t,n)=>{const{$anchor:r}=e.selection,i=Math.max(0,r.pos-2),a=e.doc.resolve(i).node();return!(!a||!n.includes(a.type.name))},y4=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==e)},v4=(e,t,n)=>{if(!n)return!1;const r=Ut(e,t.schema);let i=!1;return n.descendants(a=>{a.type===r&&(i=!0)}),i},Kb=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!rs(e.state,t)&&g4(e.state,t,n)){const{$anchor:c}=e.state.selection,u=e.state.doc.resolve(c.before()-1),d=[];u.node().descendants((y,v)=>{y.type.name===t&&d.push({node:y,pos:v})});const p=d.at(-1);if(!p)return!1;const m=e.state.doc.resolve(u.start()+p.pos+1);return e.chain().cut({from:c.start()-1,to:c.end()+1},m.end()).joinForward().run()}if(!rs(e.state,t)||!PF(e.state))return!1;const r=yd(t,e.state);if(!r)return!1;const a=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),s=v4(t,e.state,a);return y4(t,e.state)&&!s?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},x4=(e,t)=>{const n=Uw(e,t),r=yd(e,t);return!r||!n?!1:n>r.depth},b4=(e,t)=>{const n=Uw(e,t),r=yd(e,t);return!r||!n?!1:n<r.depth},Vb=(e,t)=>{if(!rs(e.state,t)||!DF(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:x4(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():b4(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},HG=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==e)},w4=qt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&Vb(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&Vb(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&Kb(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&Kb(e,n,r)&&(t=!0)}),t}}}}),DO=/^(\s*)(\d+)\.\s+(.*)$/,qG=/^\s/;function KG(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n],a=i.match(DO);if(!a)break;const[,s,c,u]=a,d=s.length;let p=u,m=n+1;const y=[i];for(;m<e.length;){const v=e[m];if(v.match(DO))break;if(v.trim()==="")y.push(v),p+=`
`,m+=1;else if(v.match(qG))y.push(v),p+=`
${v.slice(d+2)}`,m+=1;else break}t.push({indent:d,number:parseInt(c,10),content:p.trim(),raw:y.join(`
`)}),r=m,n=m}return[t,r]}function S4(e,t,n){var r;const i=[];let a=0;for(;a<e.length;){const s=e[a];if(s.indent===t){const c=s.content.split(`
`),u=((r=c[0])==null?void 0:r.trim())||"",d=[];u&&d.push({type:"paragraph",raw:u,tokens:n.inlineTokens(u)});const p=c.slice(1).join(`
`).trim();if(p){const v=n.blockTokens(p);d.push(...v)}let m=a+1;const y=[];for(;m<e.length&&e[m].indent>t;)y.push(e[m]),m+=1;if(y.length>0){const v=Math.min(...y.map(w=>w.indent)),b=S4(y,v,n);d.push({type:"list",ordered:!0,start:y[0].number,items:b,raw:y.map(w=>w.raw).join(`
`)})}i.push({type:"list_item",raw:s.raw,tokens:d}),a=m}else a+=1}return i}function VG(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...t.parseChildren([i]));else if(i.type==="text"&&i.tokens){const a=t.parseChildren([i]);r.push({type:"paragraph",content:a})}else{const a=t.parseChildren([i]);a.length>0&&r.push(...a)}}),{type:"listItem",content:r}})}var FG="listItem",PO="textStyle",RO=/^(\d+)\.\s$/,N4=mr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",Ht(this.options.HTMLAttributes,n),0]:["ol",Ht(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,r=e.items?VG(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t?.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var r;const i=e.split(`
`),[a,s]=KG(i);if(a.length===0)return;const c=S4(a,0,n);return c.length===0?void 0:{type:"list",ordered:!0,start:((r=a[0])==null?void 0:r.number)||1,items:c,raw:i.slice(0,s).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(FG,this.editor.getAttributes(PO)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Dl({find:RO,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Dl({find:RO,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(PO)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),WG=/^\s*(\[([( |x])?\])\s$/,GG=mr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",Ht(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const i=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return Mw(e,t,i)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const i=document.createElement("li"),a=document.createElement("label"),s=document.createElement("span"),c=document.createElement("input"),u=document.createElement("div"),d=p=>{var m,y;c.ariaLabel=((y=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:y.call(m,p,c.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};return d(e),a.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",p=>p.preventDefault()),c.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:m}=p.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:y})=>{const v=n();if(typeof v!="number")return!1;const b=y.doc.nodeAt(v);return y.setNodeMarkup(v,void 0,{...b?.attrs,checked:m}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,m)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,m])=>{i.setAttribute(p,m)}),i.dataset.checked=e.attrs.checked,c.checked=e.attrs.checked,a.append(c,s),i.append(a,u),Object.entries(t).forEach(([p,m])=>{i.setAttribute(p,m)}),{dom:i,contentDOM:u,update:p=>p.type!==this.type?!1:(i.dataset.checked=p.attrs.checked,c.checked=p.attrs.checked,d(p),!0)}}},addInputRules(){return[Dl({find:WG,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),YG=mr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",Ht(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const r=a=>{const s=Pb(a,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:c=>({indentLevel:c[1].length,mainContent:c[4],checked:c[3].toLowerCase()==="x"}),createToken:(c,u)=>({type:"taskItem",raw:"",mainContent:c.mainContent,indentLevel:c.indentLevel,checked:c.checked,text:c.mainContent,tokens:n.inlineTokens(c.mainContent),nestedTokens:u}),customNestedParser:r},n);return s?[{type:"taskList",raw:s.raw,items:s.items}]:n.blockTokens(a)},i=Pb(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,s)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:s}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});qt.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(p4.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(m4.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(w4.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(N4.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(GG.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(YG.configure(this.options.taskList)),e}});var XG=mr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",Ht(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return n.length===1&&n[0].type==="image"?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),QG=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,ZG=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,JG=wo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",Ht(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[_l({find:QG,type:this.type})]},addPasteRules(){return[ho({find:ZG,type:this.type})]}}),eY=mr.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),tY=wo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Ht(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!i)return;const a=i[2].trim();return{type:"underline",raw:i[0],text:a,tokens:n.inlineTokens(a)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function nY(e={}){return new Mt({view(t){return new rY(t,e)}})}class rY{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let a=s=>{this[i](s)};return t.dom.addEventListener(i,a),{name:i,handler:a}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,i=this.editorView.dom,a=i.getBoundingClientRect(),s=a.width/i.offsetWidth,c=a.height/i.offsetHeight;if(n){let m=t.nodeBefore,y=t.nodeAfter;if(m||y){let v=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(v){let b=v.getBoundingClientRect(),w=m?b.bottom:b.top;m&&y&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let S=this.width/2*c;r={left:b.left,right:b.right,top:w-S,bottom:w+S}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*s;r={left:m.left-y,right:m.left+y,top:m.top,bottom:m.bottom}}let u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let d,p;if(!u||u==document.body&&getComputedStyle(u).position=="static")d=-pageXOffset,p=-pageYOffset;else{let m=u.getBoundingClientRect(),y=m.width/u.offsetWidth,v=m.height/u.offsetHeight;d=m.left-u.scrollLeft*y,p=m.top-u.scrollTop*v}this.element.style.left=(r.left-d)/s+"px",this.element.style.top=(r.top-p)/c+"px",this.element.style.width=(r.right-r.left)/s+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,a=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!a){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=E3(this.editorView.state.doc,s,this.editorView.dragging.slice);c!=null&&(s=c)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class Tt extends $e{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return Tt.valid(r)?new Tt(r):$e.near(r)}content(){return ge.empty}eq(t){return t instanceof Tt&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Tt(t.resolve(n.pos))}getBookmark(){return new Hw(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!iY(t)||!aY(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&Tt.valid(t))return t;let i=t.pos,a=null;for(let s=t.depth;;s--){let c=t.node(s);if(n>0?t.indexAfter(s)<c.childCount:t.index(s)>0){a=c.child(n>0?t.indexAfter(s):t.index(s)-1);break}else if(s==0)return null;i+=n;let u=t.doc.resolve(i);if(Tt.valid(u))return u}for(;;){let s=n>0?a.firstChild:a.lastChild;if(!s){if(a.isAtom&&!a.isText&&!Ae.isSelectable(a)){t=t.doc.resolve(i+a.nodeSize*n),r=!1;continue e}break}a=s,i+=n;let c=t.doc.resolve(i);if(Tt.valid(c))return c}return null}}}Tt.prototype.visible=!1;Tt.findFrom=Tt.findGapCursorFrom;$e.jsonID("gapcursor",Tt);class Hw{constructor(t){this.pos=t}map(t){return new Hw(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Tt.valid(n)?new Tt(n):$e.near(n)}}function j4(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function iY(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||j4(i.type))return!0;if(i.inlineContent)return!1}}return!0}function aY(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||j4(i.type))return!0;if(i.inlineContent)return!1}}return!0}function sY(){return new Mt({props:{decorations:uY,createSelectionBetween(e,t,n){return t.pos==n.pos&&Tt.valid(n)?new Tt(n):null},handleClick:lY,handleKeyDown:oY,handleDOMEvents:{beforeinput:cY}}})}const oY=EP({ArrowLeft:uh("horiz",-1),ArrowRight:uh("horiz",1),ArrowUp:uh("vert",-1),ArrowDown:uh("vert",1)});function uh(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,a){let s=r.selection,c=t>0?s.$to:s.$from,u=s.empty;if(s instanceof Le){if(!a.endOfTextblock(n)||c.depth==0)return!1;u=!1,c=r.doc.resolve(t>0?c.after():c.before())}let d=Tt.findGapCursorFrom(c,t,u);return d?(i&&i(r.tr.setSelection(new Tt(d))),!0):!1}}function lY(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Tt.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Ae.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Tt(r))),!0)}function cY(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Tt))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=le.empty;for(let s=r.length-1;s>=0;s--)i=le.from(r[s].createAndFill(null,i));let a=e.state.tr.replace(n.pos,n.pos,new ge(i,0,0));return a.setSelection(Le.near(a.doc.resolve(n.pos+1))),e.dispatch(a),!1}function uY(e){if(!(e.selection instanceof Tt))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Nt.create(e.doc,[Pn.widget(e.selection.head,t,{key:"gapcursor"})])}var Ip=200,an=function(){};an.prototype.append=function(t){return t.length?(t=an.from(t),!this.length&&t||t.length<Ip&&this.leafAppend(t)||this.length<Ip&&t.leafPrepend(this)||this.appendInner(t)):this};an.prototype.prepend=function(t){return t.length?an.from(t).append(this):this};an.prototype.appendInner=function(t){return new dY(this,t)};an.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?an.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};an.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};an.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};an.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(a,s){return i.push(t(a,s))},n,r),i};an.from=function(t){return t instanceof an?t:t&&t.length?new k4(t):an.empty};var k4=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new t(this.values.slice(i,a))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,a,s,c){for(var u=a;u<s;u++)if(i(this.values[u],c+u)===!1)return!1},t.prototype.forEachInvertedInner=function(i,a,s,c){for(var u=a-1;u>=s;u--)if(i(this.values[u],c+u)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=Ip)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=Ip)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(an);an.empty=new k4([]);var dY=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,a,s){var c=this.left.length;if(i<c&&this.left.forEachInner(r,i,Math.min(a,c),s)===!1||a>c&&this.right.forEachInner(r,Math.max(i-c,0),Math.min(this.length,a)-c,s+c)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,a,s){var c=this.left.length;if(i>c&&this.right.forEachInvertedInner(r,i-c,Math.max(a,c)-c,s+c)===!1||a<c&&this.left.forEachInvertedInner(r,Math.min(i,c),a,s)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(r,i):r>=a?this.right.slice(r-a,i-a):this.left.slice(r,a).append(this.right.slice(0,i-a))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(an);const fY=500;class Wr{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,a;n&&(i=this.remapping(r,this.items.length),a=i.maps.length);let s=t.tr,c,u,d=[],p=[];return this.items.forEach((m,y)=>{if(!m.step){i||(i=this.remapping(r,y+1),a=i.maps.length),a--,p.push(m);return}if(i){p.push(new fi(m.map));let v=m.step.map(i.slice(a)),b;v&&s.maybeStep(v).doc&&(b=s.mapping.maps[s.mapping.maps.length-1],d.push(new fi(b,void 0,void 0,d.length+p.length))),a--,b&&i.appendMap(b,a)}else s.maybeStep(m.step);if(m.selection)return c=i?m.selection.map(i.slice(a)):m.selection,u=new Wr(this.items.slice(0,r).append(p.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:s,selection:c}}addTransform(t,n,r,i){let a=[],s=this.eventCount,c=this.items,u=!i&&c.length?c.get(c.length-1):null;for(let p=0;p<t.steps.length;p++){let m=t.steps[p].invert(t.docs[p]),y=new fi(t.mapping.maps[p],m,n),v;(v=u&&u.merge(y))&&(y=v,p?a.pop():c=c.slice(0,c.length-1)),a.push(y),n&&(s++,n=void 0),i||(u=y)}let d=s-r.depth;return d>pY&&(c=hY(c,d),s-=d),new Wr(c.append(a),s)}remapping(t,n){let r=new $u;return this.items.forEach((i,a)=>{let s=i.mirrorOffset!=null&&a-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},t,n),r}addMaps(t){return this.eventCount==0?this:new Wr(this.items.append(t.map(n=>new fi(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),a=t.mapping,s=t.steps.length,c=this.eventCount;this.items.forEach(y=>{y.selection&&c--},i);let u=n;this.items.forEach(y=>{let v=a.getMirror(--u);if(v==null)return;s=Math.min(s,v);let b=a.maps[v];if(y.step){let w=t.steps[v].invert(t.docs[v]),S=y.selection&&y.selection.map(a.slice(u+1,v));S&&c++,r.push(new fi(b,w,S))}else r.push(new fi(b))},i);let d=[];for(let y=n;y<s;y++)d.push(new fi(a.maps[y]));let p=this.items.slice(0,i).append(d).append(r),m=new Wr(p,c);return m.emptyItemCount()>fY&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],a=0;return this.items.forEach((s,c)=>{if(c>=t)i.push(s),s.selection&&a++;else if(s.step){let u=s.step.map(n.slice(r)),d=u&&u.getMap();if(r--,d&&n.appendMap(d,r),u){let p=s.selection&&s.selection.map(n.slice(r));p&&a++;let m=new fi(d.invert(),u,p),y,v=i.length-1;(y=i.length&&i[v].merge(m))?i[v]=y:i.push(m)}}else s.map&&r--},this.items.length,0),new Wr(an.from(i.reverse()),a)}}Wr.empty=new Wr(an.empty,0);function hY(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class fi{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new fi(n.getMap().invert(),n,this.selection)}}}class $a{constructor(t,n,r,i,a){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=a}}const pY=20;function mY(e,t,n,r){let i=n.getMeta(no),a;if(i)return i.historyState;n.getMeta(vY)&&(e=new $a(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(s&&s.getMeta(no))return s.getMeta(no).redo?new $a(e.done.addTransform(n,void 0,r,Lh(t)),e.undone,LO(n.mapping.maps),e.prevTime,e.prevComposition):new $a(e.done,e.undone.addTransform(n,void 0,r,Lh(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),u=e.prevTime==0||!s&&e.prevComposition!=c&&(e.prevTime<(n.time||0)-r.newGroupDelay||!gY(n,e.prevRanges)),d=s?jv(e.prevRanges,n.mapping):LO(n.mapping.maps);return new $a(e.done.addTransform(n,u?t.selection.getBookmark():void 0,r,Lh(t)),Wr.empty,d,n.time,c??e.prevComposition)}else return(a=n.getMeta("rebased"))?new $a(e.done.rebased(n,a),e.undone.rebased(n,a),jv(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new $a(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),jv(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function gY(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let a=0;a<t.length;a+=2)r<=t[a+1]&&i>=t[a]&&(n=!0)}),n}function LO(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,a,s)=>t.push(a,s));return t}function jv(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),a=t.map(e[r+1],-1);i<=a&&n.push(i,a)}return n}function yY(e,t,n){let r=Lh(t),i=no.get(t).spec.config,a=(n?e.undone:e.done).popEvent(t,r);if(!a)return null;let s=a.selection.resolve(a.transform.doc),c=(n?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,r),u=new $a(n?c:a.remaining,n?a.remaining:c,null,0,-1);return a.transform.setSelection(s).setMeta(no,{redo:n,historyState:u})}let kv=!1,BO=null;function Lh(e){let t=e.plugins;if(BO!=t){kv=!1,BO=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){kv=!0;break}}return kv}const no=new sn("history"),vY=new sn("closeHistory");function xY(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Mt({key:no,state:{init(){return new $a(Wr.empty,Wr.empty,null,0,-1)},apply(t,n,r){return mY(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?C4:r=="historyRedo"?O4:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function E4(e,t){return(n,r)=>{let i=no.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let a=yY(i,n,e);a&&r(t?a.scrollIntoView():a)}return!0}}const C4=E4(!1,!0),O4=E4(!0,!0);qt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=e?.node||this.editor.state.doc;if((e?.mode||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=e?.node||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new Mt({key:new sn("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const a=this.storage.characters({node:r.doc});if(a>i){const s=a-i,c=0,u=s;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const d=r.tr.deleteRange(c,u);return e=!0,d}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),a=this.storage.characters({node:t.doc});if(a<=r||i>r&&a>r&&a<=i)return!0;if(i>r&&a>r&&a>i||!t.getMeta("paste"))return!1;const c=t.selection.$head.pos,u=a-r,d=c-u,p=c;return t.deleteRange(d,p),!(this.storage.characters({node:t.doc})>r)}})]}});var bY=qt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[nY(this.options)]}});qt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Mt({key:new sn("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,a=[];if(!n||!r)return Nt.create(e,[]);let s=0;this.options.mode==="deepest"&&e.descendants((u,d)=>{if(u.isText)return;if(!(i>=d&&i<=d+u.nodeSize-1))return!1;s+=1});let c=0;return e.descendants((u,d)=>{if(u.isText||!(i>=d&&i<=d+u.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&s-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";a.push(Pn.node(d,d+u.nodeSize,{class:this.options.className}))}),Nt.create(e,a)}}})]}});var wY=qt.create({name:"gapCursor",addProseMirrorPlugins(){return[sY()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=et(Te(e,"allowGapCursor",n)))!=null?t:null}}});qt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Mt({key:new sn("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const a=this.editor.isEmpty;return e.descendants((s,c)=>{const u=r>=c&&r<=c+s.nodeSize,d=!s.isLeaf&&qm(s);if((u||!this.options.showOnlyCurrent)&&d){const p=[this.options.emptyNodeClass];a&&p.push(this.options.emptyEditorClass);const m=Pn.node(c,c+s.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:c,hasAnchor:u}):this.options.placeholder});i.push(m)}return this.options.includeChildren}),Nt.create(e,i)}}})]}});qt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Mt({key:new sn("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||HP(n.selection)||e.view.dragging?null:Nt.create(n.doc,[Pn.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function IO({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||t?.type===e}var SY=qt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new sn(this.name),n=((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Mt({key:t,appendTransaction:(i,a,s)=>{const{doc:c,tr:u,schema:d}=s,p=t.getState(s),m=c.content.size,y=d.nodes[n];if(p)return u.insert(m,y.create())},state:{init:(i,a)=>{const s=a.tr.doc.lastChild;return!IO({node:s,types:r})},apply:(i,a)=>{if(!i.docChanged)return a;const s=i.doc.lastChild;return!IO({node:s,types:r})}}})]}}),NY=qt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>C4(e,t),redo:()=>({state:e,dispatch:t})=>O4(e,t)}},addProseMirrorPlugins(){return[xY(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),jY=qt.create({name:"starterKit",addExtensions(){var e,t,n,r;const i=[];return this.options.bold!==!1&&i.push(QW.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(FW.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(p4.configure(this.options.bulletList)),this.options.code!==!1&&i.push(eG.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(rG.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(iG.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(bY.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(wY.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(aG.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(sG.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(NY.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(oG.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(fG.configure(this.options.italic)),this.options.listItem!==!1&&i.push(m4.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(w4.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&i.push(BG.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&i.push(N4.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(XG.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(JG.configure(this.options.strike)),this.options.text!==!1&&i.push(eY.configure(this.options.text)),this.options.underline!==!1&&i.push(tY.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(SY.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),kY=jY;const EY=({editor:e})=>{if(!e)return null;const t=(n,r={})=>`px-3 py-1 text-sm font-medium rounded ${e.isActive(n,r)?"bg-blue-500 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`;return h.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 border border-gray-300 rounded-t-md bg-white",children:[h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleBold().run(),disabled:!e.can().chain().focus().toggleBold().run(),className:t("bold"),children:"Bold"}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleItalic().run(),disabled:!e.can().chain().focus().toggleItalic().run(),className:t("italic"),children:"Italic"}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleHeading({level:1}).run(),className:t("heading",{level:1}),children:"H1"}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),className:t("heading",{level:2}),children:"H2"}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleBulletList().run(),className:t("bulletList"),children:"List"})]})},CY=({content:e,onChange:t})=>{const n=UW({extensions:[kY.configure({heading:{levels:[1,2,3]}})],content:e,onUpdate:({editor:r})=>{t(r.getHTML())},editorProps:{attributes:{class:"prose dark:prose-invert prose-sm sm:prose-base max-w-none focus:outline-none"}}});return h.jsxs("div",{className:"border border-gray-300 rounded-b-md",children:[h.jsx(EY,{editor:n}),h.jsx(PW,{editor:n,className:"p-4 min-h-[200px]"})]})},OY=({formData:e,handleChange:t,handleSubmit:n,handleCancel:r,loading:i,isEdit:a})=>{const[s,c]=j.useState([]),[u,d]=j.useState("manual"),[p,m]=j.useState(null);j.useEffect(()=>{a?e.raw_content?d("manual"):d("file"):d("manual")},[a,e.raw_content]);const y=T=>{const M=Array.from(T.target.files);if(M.length>0){const D=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"],B=M.filter(L=>D.includes(L.type)),q=M.filter(L=>!D.includes(L.type));q.length>0&&alert(`Các file sau không được hỗ trợ: ${q.map(L=>L.name).join(", ")}`),B.length>0&&c(L=>{const K=L.map(te=>te.name),V=B.filter(te=>!K.includes(te.name));return[...L,...V]})}},v=T=>{t({target:{name:"raw_content",value:T}})},b=T=>{c(M=>M.filter((D,B)=>B!==T))},w=T=>{if(T===0)return"0 Bytes";const M=1024,D=["Bytes","KB","MB","GB"],B=Math.floor(Math.log(T)/Math.log(M));return Math.round(T/Math.pow(M,B)*100)/100+" "+D[B]},S=T=>T.includes("pdf")?"📄":T.includes("word")?"📝":T.includes("sheet")||T.includes("excel")?"📊":"📎",k=T=>{m(T)},E=()=>{m(null)},O=!e.raw_content||e.raw_content==="<p></p>",_=i||!e.title||u==="file"&&!a&&s.length===0||u==="manual"&&O&&!a||u==="manual"&&a&&!e.detail_id&&O;return h.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[h.jsx("h2",{className:"text-xl font-bold mb-6",children:a?"Sửa / Thêm kiến thức":"Thêm kiến thức mới"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Chế độ nhập liệu"}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("button",{type:"button",onClick:()=>d("manual"),disabled:a&&!!e.detail_id,className:`flex-1 py-2 px-4 rounded-md border transition-colors ${u==="manual"?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"} disabled:bg-gray-100 disabled:text-gray-400 disabled:cursor-not-allowed`,title:a&&e.detail_id?"Đang sửa nội dung, không thể chuyển tab":"Nhập thủ công",children:[h.jsx(Bu,{className:"w-4 h-4 inline mr-2"}),"Nhập thủ công"]}),h.jsxs("button",{type:"button",onClick:()=>d("file"),disabled:a&&!!e.detail_id,className:`flex-1 py-2 px-4 rounded-md border transition-colors ${u==="file"?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"} disabled:bg-gray-100 disabled:text-gray-400 disabled:cursor-not-allowed`,title:a&&e.detail_id?"Đang sửa nội dung, không thể chuyển tab":"Upload file",children:[h.jsx(Fh,{className:"w-4 h-4 inline mr-2"}),"Upload file"]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tiêu đề *"}),h.jsx("input",{type:"text",name:"title",value:e.title,onChange:t,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nhập tiêu đề...",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer ID"}),h.jsx("input",{type:"text",name:"customer_id",value:e.customer_id,onChange:t,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nhập customer ID..."})]}),u==="file"?h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a?"Thêm files mới":"Upload files *"}),h.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-blue-400 transition-colors",children:h.jsxs("div",{className:"space-y-1 text-center w-full",children:[h.jsx(Fh,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsxs("div",{className:"flex text-sm text-gray-600 justify-center",children:[h.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none",children:[h.jsx("span",{children:"Chọn files"}),h.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:".pdf,.doc,.docx,.xls,.xlsx",onChange:y,multiple:!0})]}),h.jsx("p",{className:"pl-1",children:"hoặc kéo thả"})]}),h.jsx("p",{className:"text-xs text-gray-500",children:"PDF, WORD, EXCEL (có thể chọn nhiều file)"})]})}),s.length>0&&h.jsxs("div",{className:"mt-4 space-y-2",children:[h.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Đã chọn ",s.length," file(s):"]}),h.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:s.map((T,M)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md border border-gray-200 hover:bg-gray-100 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[h.jsx("span",{className:"text-2xl",children:S(T.type)}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:T.name}),h.jsx("p",{className:"text-xs text-gray-500",children:w(T.size)})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{type:"button",onClick:()=>k(T),className:"p-1 rounded-full hover:bg-blue-50 text-blue-500",title:"Xem thông tin",children:h.jsx(Am,{className:"w-4 h-4"})}),h.jsx("button",{type:"button",onClick:()=>b(M),className:"p-1 rounded-full hover:bg-red-50 text-red-500",title:"Xóa file",children:h.jsx(On,{className:"w-4 h-4"})})]})]},M))})]})]}):h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nội dung *"}),h.jsx(CY,{content:e.raw_content||"",onChange:v})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"submit",onClick:T=>n(T,s,u),disabled:_,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Đang xử lý...":a?"Cập nhật":"Tạo mới"}),h.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Hủy"})]})]}),p&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Thông tin file"}),h.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600",children:h.jsx(On,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Tên file:"}),h.jsx("p",{className:"text-sm font-medium break-all",children:p.name})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Kích thước:"}),h.jsx("p",{className:"text-sm font-medium",children:w(p.size)})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Loại file:"}),h.jsx("p",{className:"text-sm font-medium",children:p.type})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Ngày sửa đổi:"}),h.jsx("p",{className:"text-sm font-medium",children:new Date(p.lastModified).toLocaleString("vi-VN")})]})]}),h.jsx("button",{onClick:E,className:"mt-6 w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Đóng"})]})})]})},TY=({knowledge:e,onDeleteFile:t,onEditDetail:n})=>{const r=s=>s?new Date(s).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):"N/A",i=s=>s?s.toLowerCase().includes("pdf")?"📄":s.toLowerCase().includes("word")||s.toLowerCase().includes("docx")?"📝":s.toLowerCase().includes("excel")||s.toLowerCase().includes("xlsx")?"📊":"📎":"📎",a=async(s,c)=>{t&&await t(s)};return h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:e.title}),h.jsx("div",{className:"flex gap-4 mb-4 text-sm text-gray-600 flex-wrap",children:e.customer_id&&h.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-800 px-3 py-1 rounded-full",children:[h.jsx(Vh,{className:"w-3 h-3"}),e.customer_id]})}),e.details&&e.details.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsxs("h3",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[h.jsx(Bu,{className:"w-4 h-4"}),"Các mục kiến thức (",e.details.length,"):"]}),h.jsx("div",{className:"space-y-2",children:e.details.map(s=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.source_type==="RICH_TEXT"?h.jsx("span",{className:"text-3xl",children:h.jsx(Bu,{className:"w-6 h-6 text-blue-600"})}):h.jsx("span",{className:"text-3xl",children:i(s.file_type)}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[s.file_name,s.source_type==="RICH_TEXT"&&h.jsx("span",{className:"ml-2 text-xs font-normal text-blue-600",children:"(Nội dung thủ công)"})]}),h.jsxs("div",{className:"flex flex-col gap-1 text-xs text-gray-500 mt-1",children:[s.created_at&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(EU,{className:"w-3 h-3"}),h.jsx("span",{children:r(s.created_at)})]}),s.user&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(bl,{className:"w-3 h-3"}),h.jsx("span",{children:s.user.full_name||s.user.username})]})]})]})]}),s.source_type==="RICH_TEXT"&&h.jsx("button",{onClick:()=>n(s),className:"ml-3 p-2 rounded-full hover:bg-blue-50 text-blue-500 transition-colors",title:"Sửa nội dung",children:h.jsx(AD,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>a(s.id,s.file_name),className:"ml-3 p-2 rounded-full hover:bg-red-50 text-red-500 transition-colors",title:"Xóa mục này",children:h.jsx(J1,{className:"w-4 h-4"})})]},s.id))})]}),h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mt-6 pt-4 border-t",children:[h.jsx(pU,{className:"w-4 h-4"}),h.jsxs("span",{children:["Tạo lúc: ",e.created_at?new Date(e.created_at).toLocaleDateString("vi-VN"):"N/A"]}),e.updated_at&&e.updated_at!==e.created_at&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"mx-2",children:"•"}),h.jsxs("span",{children:["Cập nhật: ",new Date(e.updated_at).toLocaleDateString("vi-VN")]})]})]})]})})},AY=({children:e,variant:t="primary",size:n="md",className:r="",disabled:i=!1,onClick:a,type:s="button",...c})=>{const u="inline-flex items-center justify-center font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",d={sm:"h-8 px-3 text-sm rounded-md",md:"h-10 px-4 text-sm rounded-lg",lg:"h-12 px-6 text-base rounded-lg"},p={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500",outline:"border border-gray-300 bg-white hover:bg-gray-50 focus:ring-gray-500",ghost:"hover:bg-gray-100 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},m=`${u} ${d[n]} ${p[t]} ${r}`.trim();return h.jsx("button",{type:s,className:m,disabled:i,onClick:a,...c,children:e})},MY=({className:e="",size:t="md",error:n=!1,value:r,onChange:i,placeholder:a="",type:s="text",disabled:c=!1,onKeyPress:u,...d})=>{const p="block w-full border rounded-lg shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-0",m={sm:"px-3 py-2 text-sm",md:"px-4 py-3 text-sm",lg:"px-4 py-4 text-base"},y=n?"border-red-300 focus:border-red-500 focus:ring-red-500":c?"border-gray-200 bg-gray-50 cursor-not-allowed":"border-gray-300 focus:border-blue-500 focus:ring-blue-500",v=`${p} ${m[t]} ${y} ${e}`.trim();return h.jsx("input",{type:s,value:r,onChange:i,onKeyPress:u,placeholder:a,disabled:c,className:v,...d})};function Ev({children:e,className:t=""}){return h.jsx("div",{className:`rounded-lg border shadow-sm ${t}`,children:e})}function Cv({children:e,className:t=""}){return h.jsx("div",{className:`p-4 ${t}`,children:e})}const _Y=async e=>{try{return Re.get(`/knowledge-base/search?query=${e}`)}catch(t){throw t}};function DY(){const[e,t]=j.useState(""),[n,r]=j.useState([]),[i,a]=j.useState(!1),s=async()=>{if(e.trim()){a(!0);try{const d=await _Y(e.trim());r(d||[])}catch(d){console.error("Search error:",d),r([{question:e,answer:"Đã xảy ra lỗi khi tìm kiếm. Vui lòng thử lại.",similarity:0}])}finally{a(!1)}}},c=d=>{d.key==="Enter"&&s()},u=d=>{const p=Math.round(d*100);let m="text-gray-500",y="bg-gray-100";return p>=80?(m="text-green-600",y="bg-green-100"):p>=60?(m="text-blue-600",y="bg-blue-100"):p>=40?(m="text-yellow-600",y="bg-yellow-100"):(m="text-red-600",y="bg-red-100"),{percentage:p,colorClass:m,bgClass:y}};return h.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[h.jsxs("div",{className:"flex gap-3",children:[h.jsx(MY,{type:"text",placeholder:"Nhập câu hỏi của bạn...",value:e,onChange:d=>t(d.target.value),onKeyPress:c,className:"flex-1 h-12 text-base",disabled:i}),h.jsx(AY,{onClick:s,disabled:i||!e.trim(),className:"px-8 h-12 bg-blue-600 hover:bg-blue-700 text-white font-medium",children:i?h.jsxs(h.Fragment,{children:[h.jsx(oC,{className:"h-4 w-4 animate-spin mr-2"}),"Đang tìm..."]}):h.jsx(h.Fragment,{children:"Tìm kiếm"})})]}),n.length>0&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:["Kết quả tìm kiếm (",n.length," kết quả):"]}),h.jsx("div",{className:"space-y-4",children:n.map((d,p)=>{let m="";try{const w=JSON.parse(d.content);m=Object.values(w).join(`
`)}catch{m=d.content}const{percentage:y,colorClass:v,bgClass:b}=u(d.similarity_score);return h.jsx(Ev,{className:"border border-gray-200 shadow-sm",children:h.jsx(Cv,{className:"p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:p+1}),h.jsx("div",{className:"flex-1",children:h.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-blue-500",children:h.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-wrap",children:m})})}),h.jsx("div",{className:`flex-shrink-0 px-3 py-1 rounded-full ${b}`,children:h.jsxs("span",{className:`text-sm font-bold ${v}`,children:[y,"%"]})})]})})},p)})})]}),i&&h.jsx(Ev,{className:"border-dashed border-2 border-gray-300",children:h.jsx(Cv,{className:"py-12",children:h.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[h.jsx(oC,{className:"h-8 w-8 animate-spin text-blue-600 mb-4"}),h.jsx("span",{className:"text-gray-600 text-lg",children:"Đang tìm kiếm..."}),h.jsx("span",{className:"text-gray-400 text-sm mt-1",children:"Vui lòng đợi trong giây lát"})]})})}),!i&&n.length===0&&e&&h.jsx(Ev,{className:"border border-gray-200",children:h.jsx(Cv,{className:"py-12",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Mm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Chưa có kết quả"}),h.jsx("p",{className:"text-gray-400",children:"Nhập câu hỏi và nhấn tìm kiếm để xem kết quả"})]})})})]})}const PY=()=>{const[e,t]=j.useState(null),[n,r]=j.useState({title:"",customer_id:"",raw_content:"",detail_id:null}),{user:i}=ra(),[a,s]=j.useState(!1),[c,u]=j.useState(!0),[d,p]=j.useState(!1),[m,y]=j.useState("detail"),[v,b]=j.useState("knowledge"),w=async()=>{try{const L=await WD();t(L),L[0]&&y("detail")}catch(L){console.error("Lỗi tải dữ liệu:",L),t(null)}};j.useEffect(()=>{(async()=>{u(!0),await w(),u(!1)})()},[]);const S=()=>{r({title:"",customer_id:"",raw_content:"",detail_id:null})},k=()=>{e&&(r({title:e.title||"",customer_id:e.customer_id||"",raw_content:"",detail_id:null}),p(!0),y("form"))},E=L=>{e&&(r({title:e.title,customer_id:e.customer_id,raw_content:L.raw_content,detail_id:L.id}),p(!0),y("form"))},O=()=>{S(),p(!1),y("form")},_=L=>{const{name:K,value:V}=L.target;r(te=>({...te,[K]:V}))},T=()=>{y("detail"),S()},M=async(L,K,V)=>{L.preventDefault(),s(!0);try{if(d)if(n.detail_id){const te={title:n.title,customer_id:n.customer_id,raw_content:n.raw_content,user_id:i.id};await L9(n.detail_id,te)}else if(V==="file"){const te=new FormData;K.forEach(oe=>{te.append("files",oe)}),te.append("kb_id","1"),te.append("title",n.title),n.customer_id&&!isNaN(n.customer_id)&&te.append("customer_id",n.customer_id),te.append("user_id",i.id),await B9(e.id,te)}else{const te={title:n.title,customer_id:n.customer_id,raw_content:n.raw_content};await z9(e.id,te)}else if(V==="file"){const te=new FormData;K.forEach(oe=>{te.append("files",oe)}),te.append("kb_id","1"),te.append("title",n.title),n.customer_id&&!isNaN(n.customer_id)&&te.append("customer_id",n.customer_id),te.append("user_id",i.id),await R9(te)}else{const te={title:n.title,customer_id:n.customer_id,raw_content:n.raw_content,user_id:i.id};await P9(te)}await w(),y("detail"),alert("Thao tác thành công!")}catch(te){console.error(te),alert("Có lỗi xảy ra: "+(te.response?.data?.detail||te.message))}finally{s(!1)}},D=async L=>{if(window.confirm("Bạn có chắc muốn xóa mục này? Toàn bộ chunks sẽ bị xóa vĩnh viễn."))try{s(!0),await I9(L),await w(),alert("Xóa thành công!")}catch(K){console.error(K),alert("Có lỗi khi xóa: "+(K.response?.data?.detail||K.message))}finally{s(!1)}},B=[{id:"knowledge",name:"Nạp kiến thức",icon:Wy,description:"Thêm, sửa và quản lý kiến thức cho chatbot"},{id:"search",name:"Tìm kiếm",icon:Mm,description:"Tìm kiếm thông tin trong kho kiến thức"}],q=()=>{switch(v){case"knowledge":return h.jsxs("div",{children:[m==="detail"&&e&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"Chi tiết kiến thức"}),h.jsxs("button",{onClick:k,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:[h.jsx(AD,{className:"w-4 h-4"}),"Thêm File"]})]}),h.jsx(TY,{knowledge:e,onDeleteFile:D,onEditDetail:E})]}),m==="form"&&h.jsx(OY,{formData:n,handleChange:_,handleSubmit:M,handleCancel:T,loading:a,isEdit:d}),m==="detail"&&!e&&h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Wy,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Chưa có kiến thức"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Bắt đầu bằng cách thêm kiến thức mới cho chatbot"}),h.jsx("button",{onClick:O,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Thêm kiến thức đầu tiên"})]})]});case"search":return h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsx(DY,{})});default:return null}};return c?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Đang tải..."})]})}):h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white border-b border-gray-200 mb-6",children:h.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(Wy,{className:"w-5 h-5 text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dữ liệu Chatbot"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Quản lý kho kiến thức và tìm kiếm thông tin"})]})]})})})}),h.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-8 space-y-6",children:h.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[h.jsx("div",{className:"border-b border-gray-200",children:h.jsx("nav",{className:"flex -mb-px overflow-x-auto",children:B.map(L=>{const K=L.icon,V=v===L.id;return h.jsxs("button",{onClick:()=>b(L.id),className:`flex-shrink-0 flex items-center justify-center gap-2 px-4 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${V?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[h.jsx(K,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:L.name}),h.jsx("span",{className:"sm:hidden",children:L.name.split(" ")[0]})]},L.id)})})}),h.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:h.jsx("p",{className:"text-sm text-gray-600",children:B.find(L=>L.id===v)?.description})}),h.jsx("div",{className:"p-6",children:q()})]})})]})},RY=({pages:e})=>{const t=e.length,n=e.filter(a=>a.is_active).length,r=t-n,i=[{title:"Tổng Fanpages",value:t,icon:"📘",textColor:"text-blue-600",borderColor:"border-blue-200",iconBg:"bg-blue-500"},{title:"Đang Hoạt Động",value:n,icon:"✅",textColor:"text-green-600",borderColor:"border-green-200",iconBg:"bg-green-500"},{title:"Tạm Dừng",value:r,icon:"⏸️",textColor:"text-red-600",borderColor:"border-red-200",iconBg:"bg-red-500"}];return h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map((a,s)=>h.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:a.title}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.value}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx("div",{className:`w-2 h-2 ${a.iconBg} rounded-full`}),h.jsxs("span",{className:"text-xs text-gray-500",children:[s===0&&"Tổng số fanpage",s===1&&"Sẵn sàng nhận tin nhắn",s===2&&"Không hoạt động",s===1&&t>0&&` (${Math.round(n/t*100)}%)`]})]})]}),h.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white text-xl",children:a.icon})]})},s))})},LY=({data:e,onEdit:t,onDelete:n,onToggleStatus:r})=>h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[h.jsx("div",{className:"bg-white border-b border-gray-200 p-6",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-white text-lg",children:"📋"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Danh sách Fanpages"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Quản lý và cấu hình các fanpage Facebook"})]})]})}),h.jsxs("div",{className:"overflow-x-auto",children:[h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Fanpage"}),h.jsx("th",{className:"py-3 px-4 text-center text-sm font-semibold text-gray-700",children:"Bật/Tắt"}),h.jsx("th",{className:"py-3 px-4 text-center text-sm font-semibold text-gray-700",children:"Trạng thái"}),h.jsx("th",{className:"py-3 px-4 text-center text-sm font-semibold text-gray-700",children:"Cập nhật"}),h.jsx("th",{className:"py-3 px-4 text-center text-sm font-semibold text-gray-700",children:"Thao tác"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map((i,a)=>h.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[h.jsx("td",{className:"py-4 px-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-white font-semibold text-sm",children:i.page_name?.charAt(0)||"F"})}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("h3",{className:"font-medium text-gray-900 text-sm mb-1 truncate",children:i.page_name}),h.jsxs("p",{className:"text-xs text-gray-500 font-mono bg-gray-50 px-2 py-1 rounded border",children:["ID: ",i.page_id]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i.category})]})]})}),h.jsx("td",{className:"py-4 px-4 text-center",children:h.jsx("button",{onClick:()=>r(i.id),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ${i.is_active?"bg-green-500 focus:ring-green-500":"bg-gray-300 focus:ring-gray-400"}`,title:i.is_active?"Tắt nền tảng":"Bật nền tảng",children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${i.is_active?"translate-x-6":"translate-x-1"}`})})}),h.jsx("td",{className:"py-4 px-4 text-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx("div",{children:i.is_active?h.jsx("span",{className:"bg-green-100 text-green-700 py-1 px-2 rounded text-xs font-medium border border-green-200",children:"Hoạt động"}):h.jsx("span",{className:"bg-red-100 text-red-700 py-1 px-2 rounded text-xs font-medium border border-red-200",children:"Tạm dừng"})}),h.jsx("div",{children:i.auto_response_enabled?h.jsx("span",{className:"bg-blue-100 text-blue-700 py-1 px-2 rounded text-xs font-medium border border-blue-200",children:"Auto Reply"}):h.jsx("span",{className:"bg-gray-100 text-gray-700 py-1 px-2 rounded text-xs font-medium border border-gray-200",children:"Manual"})})]})}),h.jsx("td",{className:"py-4 px-4 text-center",children:h.jsxs("div",{className:"text-xs text-gray-500",children:[h.jsx("div",{children:new Date(i.updated_at).toLocaleDateString("vi-VN")}),h.jsx("div",{className:"text-gray-400",children:new Date(i.updated_at).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]})}),h.jsx("td",{className:"py-4 px-4",children:h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("button",{onClick:()=>t(i),className:"p-2 bg-blue-100 hover:bg-blue-200 text-blue-600 rounded-lg transition-colors",title:"Chỉnh sửa",children:h.jsx(mb,{className:"w-3 h-3"})}),h.jsx("button",{onClick:()=>n(i.id),className:"p-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-lg transition-colors",title:"Xóa",children:h.jsx(bH,{className:"w-3 h-3"})})]})})]},i.id))})]}),e.length===0&&h.jsxs("div",{className:"text-center py-16 px-6",children:[h.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl flex items-center justify-center mx-auto mb-6",children:h.jsx("span",{className:"text-4xl",children:"📭"})}),h.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Chưa có fanpage nào"}),h.jsx("p",{className:"text-gray-500 mb-6",children:"Thêm fanpage đầu tiên để bắt đầu nhận tin nhắn"}),h.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-100 text-blue-700 rounded-xl border border-blue-200",children:[h.jsx("span",{children:"💡"}),h.jsx("span",{className:"font-medium",children:'Nhấn nút "Thêm Fanpage" để bắt đầu'})]})]})]})]}),BY=({onSubmit:e,onCancel:t,initialData:n})=>{const[r,i]=j.useState({page_id:"",page_name:"",access_token:"",webhook_verify_token:"",description:"",category:"",avatar_url:"",cover_url:"",is_active:!0,auto_response_enabled:!0});j.useEffect(()=>{n&&i(n)},[n]);const a=c=>{const{name:u,value:d,type:p,checked:m}=c.target;i({...r,[u]:p==="checkbox"?m:d})},s=c=>{c.preventDefault(),e(r)};return h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:h.jsx("span",{className:"text-2xl",children:"📘"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold",children:n?"Cập nhật Fanpage":"Thêm Fanpage"}),h.jsx("p",{className:"text-blue-100 mt-1",children:n?"Cập nhật thông tin fanpage":"Thêm fanpage mới vào hệ thống"})]})]})}),h.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:h.jsxs("form",{onSubmit:s,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"📄 Page ID *"}),h.jsx("input",{type:"text",name:"page_id",value:r.page_id,onChange:a,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Nhập Page ID",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"📝 Tên Fanpage *"}),h.jsx("input",{type:"text",name:"page_name",value:r.page_name,onChange:a,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Nhập tên fanpage",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"🔑 Access Token *"}),h.jsx("input",{type:"password",name:"access_token",value:r.access_token,onChange:a,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all font-mono",placeholder:"Nhập access token",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"📂 Danh mục"}),h.jsxs("select",{name:"category",value:r.category,onChange:a,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[h.jsx("option",{value:"",children:"Chọn danh mục"}),h.jsx("option",{value:"business",children:"Doanh nghiệp"}),h.jsx("option",{value:"personal",children:"Cá nhân"}),h.jsx("option",{value:"brand",children:"Thương hiệu"}),h.jsx("option",{value:"community",children:"Cộng đồng"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"🔐 Webhook Verify Token"}),h.jsx("input",{type:"text",name:"webhook_verify_token",value:r.webhook_verify_token,onChange:a,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all font-mono",placeholder:"Nhập webhook verify token"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"📄 Mô tả"}),h.jsx("textarea",{name:"description",value:r.description,onChange:a,rows:3,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",placeholder:"Nhập mô tả về fanpage..."})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"🖼️ Avatar URL"}),h.jsx("input",{type:"url",name:"avatar_url",value:r.avatar_url,onChange:a,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"https://example.com/avatar.jpg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"🎨 Cover URL"}),h.jsx("input",{type:"url",name:"cover_url",value:r.cover_url,onChange:a,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"https://example.com/cover.jpg"})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-4",children:[h.jsx("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:"⚙️ Cài đặt"}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"is_active",className:"font-medium text-gray-700",children:"Kích hoạt Fanpage"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Cho phép fanpage hoạt động trong hệ thống"})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:r.is_active,onChange:a,className:"sr-only peer"}),h.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"auto_response_enabled",className:"font-medium text-gray-700",children:"Tự động trả lời"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Bật tự động trả lời tin nhắn"})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",id:"auto_response_enabled",name:"auto_response_enabled",checked:r.auto_response_enabled,onChange:a,className:"sr-only peer"}),h.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})}),h.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 flex flex-col sm:flex-row gap-3 sm:justify-end",children:[h.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-6 py-3 text-gray-700 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"❌ Hủy"}),h.jsxs("button",{type:"submit",onClick:s,className:"w-full sm:w-auto px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-xl hover:from-blue-700 hover:to-indigo-800 transition-all font-medium shadow-lg hover:shadow-xl",children:["💾 ",n?"Cập nhật":"Thêm mới"]})]})]})})},IY=async()=>await Re.get("/facebook-pages/"),zY=async e=>(await Re.post("/facebook-pages/",e)).page,$Y=async(e,t)=>(await Re.put(`/facebook-pages/${e}`,t)).page,UY=async e=>await Re.delete(`/facebook-pages/${e}`),HY=async e=>(await Re.patch(`/facebook-pages/${e}/toggle-status`)).page,qY="4238615406374117",KY="https://chatbotbe.a2alab.vn",VY=`${KY}/facebook-pages/callback`,FY="pages_show_list,pages_manage_metadata,pages_read_engagement,pages_messaging,email";function WY(){const e=()=>{const t=`https://www.facebook.com/v21.0/dialog/oauth?client_id=${qY}&redirect_uri=${encodeURIComponent(VY)}&scope=${FY}&response_type=code`;window.location.href=t};return h.jsxs("button",{onClick:e,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx("span",{className:"text-sm",children:"📘"}),"Kết nối Facebook"]})}const GY=({bots:e=[]})=>{const t=e.length,n=e.filter(a=>a.is_active).length,r=t-n,i=[{title:"Tổng số Bot",value:t,icon:"🤖"},{title:"Bot đang hoạt động",value:n,icon:"✅"},{title:"Bot tạm dừng",value:r,icon:"❌"}];return h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map((a,s)=>h.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:a.title}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.value})]}),h.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white text-xl",children:a.icon})]})},s))})},YY=({data:e,onEdit:t,onToggleStatus:n})=>{if(!e)return h.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:h.jsx("p",{className:"text-gray-500",children:"Chưa có bot nào được tạo."})});const r=a=>new Date(a).toLocaleString("vi-VN"),i=a=>a?a.length>20?`${a.substring(0,20)}...`:a:"";return h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e.bot_name}),h.jsx("button",{onClick:()=>t(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Sửa"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Token:"}),h.jsx("code",{className:"bg-gray-50 px-3 py-2 rounded-lg text-sm border",children:i(e.bot_token)})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Mô tả:"}),h.jsx("span",{className:"text-sm text-gray-700",children:e.description||"Không có mô tả"})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Bật/Tắt:"}),h.jsx("button",{onClick:()=>n&&n(e.id),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ${e.is_active?"bg-green-500 focus:ring-green-500":"bg-gray-300 focus:ring-gray-400"}`,title:e.is_active?"Tắt bot":"Bật bot",children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.is_active?"translate-x-6":"translate-x-1"}`})})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Trạng thái:"}),h.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.is_active?"Hoạt động":"Tạm dừng"})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:"text-xs text-gray-500",children:"Ngày tạo"}),h.jsx("div",{className:"text-sm text-gray-700",children:r(e.created_at)})]})]})]})]})},XY=({initialData:e,onSubmit:t,onCancel:n})=>{const[r,i]=j.useState({bot_name:"",bot_token:"",description:"",is_active:!0}),[a,s]=j.useState({}),[c,u]=j.useState(!1);j.useEffect(()=>{e&&i({bot_name:e.bot_name||"",bot_token:e.bot_token||"",description:e.description||"",is_active:e.is_active??!0})},[e]);const d=()=>{const y={};return r.bot_name.trim()||(y.bot_name="Tên bot là bắt buộc"),r.bot_token.trim()?/^[0-9]{8,10}:[a-zA-Z0-9_-]{35}$/.test(r.bot_token)||(y.bot_token="Token bot không đúng định dạng (ví dụ: 123456789:ABCdefGHIjklMNOpqrSTUvwxyz)"):y.bot_token="Token bot là bắt buộc",r.description&&r.description.length>500&&(y.description="Mô tả không được vượt quá 500 ký tự"),s(y),Object.keys(y).length===0},p=y=>{const{name:v,value:b,type:w,checked:S}=y.target;i(k=>({...k,[v]:w==="checkbox"?S:b})),a[v]&&s(k=>({...k,[v]:""}))},m=async y=>{if(y.preventDefault(),!!d()){u(!0);try{await t(r)}catch(v){console.error("Error submitting form:",v)}finally{u(!1)}}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900",children:e?"Chỉnh sửa Bot":"Thêm Bot Mới"}),h.jsxs("form",{onSubmit:m,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Bot *"}),h.jsx("input",{type:"text",name:"bot_name",value:r.bot_name,onChange:p,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${a.bot_name?"border-red-500":"border-gray-300"}`,placeholder:"Nhập tên bot",disabled:c}),a.bot_name&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.bot_name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bot Token *"}),h.jsx("input",{type:"text",name:"bot_token",value:r.bot_token,onChange:p,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm ${a.bot_token?"border-red-500":"border-gray-300"}`,placeholder:"123456789:ABCdefGHIjklMNOpqrSTUvwxyz",disabled:c}),a.bot_token&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.bot_token}),h.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Lấy token từ @BotFather trên Telegram"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mô tả"}),h.jsx("textarea",{name:"description",value:r.description,onChange:p,rows:3,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none ${a.description?"border-red-500":"border-gray-300"}`,placeholder:"Mô tả ngắn về bot (tùy chọn)",disabled:c}),a.description&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.description}),h.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:[r.description.length,"/500 ký tự"]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",name:"is_active",checked:r.is_active,onChange:p,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:c}),h.jsx("label",{className:"ml-2 text-sm font-medium text-gray-700",children:"Bot hoạt động"})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:n,disabled:c,className:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:"Hủy"}),h.jsx("button",{type:"submit",disabled:c,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:c?"Đang lưu...":e?"Cập nhật":"Tạo Bot"})]})]})]})})})},QY=async()=>await Re.get("/telegram-pages/"),ZY=async e=>(await Re.post("/telegram-pages/",e)).bot,JY=async(e,t)=>(await Re.put(`/telegram-pages/${e}`,t)).bot,eX=async e=>await Re.delete(`/telegram-pages/${e}`),tX=async e=>(await Re.patch(`/telegram-pages/${e}/toggle-status`)).bot,nX=({message:e="Đang tải..."})=>h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[h.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),h.jsx("p",{className:"text-gray-500",children:e})]}),T4=({loading:e,stats:t,table:n,form:r,showForm:i,onEdit:a,onDelete:s})=>h.jsxs("div",{className:"space-y-6",children:[t,e?h.jsx(nX,{}):n,i&&r]}),A4=({data:e,loading:t,showForm:n,editing:r,onEdit:i,onDelete:a,onSubmit:s,onCancel:c,StatsComponent:u,TableComponent:d,FormComponent:p,onAddNew:m=null})=>h.jsxs("div",{className:"space-y-6",children:[m&&h.jsx("div",{className:"flex justify-end",children:h.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx("span",{className:"text-sm",children:"+"}),"Thêm mới"]})}),h.jsx(T4,{loading:t,stats:h.jsx(u,{data:e}),table:h.jsx(d,{data:e,onEdit:i,onDelete:a}),form:h.jsx(p,{initialData:r,onSubmit:s,onCancel:c}),showForm:n})]}),rX=()=>{const[e,t]=j.useState([]),[n,r]=j.useState(!0),[i,a]=j.useState(!1),[s,c]=j.useState(null);j.useEffect(()=>{(async()=>{try{const y=await QY();t(y)}catch(y){console.error("Error fetching telegram bots:",y)}finally{r(!1)}})()},[]);const u=async m=>{try{if(s){const y=await JY(s.id,m);t(e.map(v=>v.id===s.id?y:v))}else{const y=await ZY(m);t([...e,y])}a(!1),c(null)}catch(y){console.error("Error submitting telegram bot:",y)}},d=async m=>{try{await eX(m),t(e.filter(y=>y.id!==m))}catch(y){console.error("Error deleting telegram bot:",y)}},p=async m=>{try{const y=await tX(m);t(e.map(v=>v.id===m?y:v))}catch(y){console.error("Error toggling telegram bot status:",y)}};return h.jsx(A4,{data:e.length?[e[0]]:[],loading:n,showForm:i,editing:s,onEdit:m=>{c(m),a(!0)},onDelete:d,onSubmit:u,onCancel:()=>{a(!1),c(null)},onAddNew:()=>a(!0),StatsComponent:({data:m})=>h.jsx(GY,{bots:e}),TableComponent:({data:m,onEdit:y})=>h.jsx(YY,{data:m.length?m[0]:null,onEdit:y,onToggleStatus:p}),FormComponent:XY})},iX=({bots:e=[]})=>{const t=e.length,n=e.filter(a=>a.is_active).length,r=t-n,i=[{title:"Tổng số Bot",value:t,icon:"🤖"},{title:"Bot đang hoạt động",value:n,icon:"✅"},{title:"Bot tạm dừng",value:r,icon:"❌"}];return h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map((a,s)=>h.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:a.title}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.value})]}),h.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white text-xl",children:a.icon})]})},s))})},aX=({data:e,onEdit:t,onToggleStatus:n})=>{if(!e)return h.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:h.jsx("p",{className:"text-gray-500",children:"Chưa có bot nào được tạo."})});const r=a=>new Date(a).toLocaleString("vi-VN"),i=a=>a?a.length>20?`${a.substring(0,20)}...`:a:"";return h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e.bot_name}),h.jsx("button",{onClick:()=>t(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Sửa"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Access Token:"}),h.jsx("code",{className:"bg-gray-50 px-3 py-2 rounded-lg text-sm border",children:i(e.access_token)})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Mô tả:"}),h.jsx("span",{className:"text-sm text-gray-700",children:e.description||"Không có mô tả"})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Bật/Tắt:"}),h.jsx("button",{onClick:()=>n&&n(e.id),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ${e.is_active?"bg-green-500 focus:ring-green-500":"bg-gray-300 focus:ring-gray-400"}`,title:e.is_active?"Tắt bot":"Bật bot",children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.is_active?"translate-x-6":"translate-x-1"}`})})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Trạng thái:"}),h.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.is_active?"Hoạt động":"Tạm dừng"})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:"text-xs text-gray-500",children:"Ngày tạo"}),h.jsx("div",{className:"text-sm text-gray-700",children:r(e.created_at)})]})]})]})]})},sX=({initialData:e,onSubmit:t,onCancel:n})=>{const[r,i]=j.useState({bot_name:"",access_token:"",description:"",is_active:!0}),[a,s]=j.useState({}),[c,u]=j.useState(!1);j.useEffect(()=>{e&&i({bot_name:e.bot_name||"",access_token:e.access_token||"",description:e.description||"",is_active:e.is_active??!0})},[e]);const d=()=>{const y={};return r.bot_name.trim()||(y.bot_name="Tên bot là bắt buộc"),r.access_token.trim()||(y.access_token="Access token là bắt buộc"),r.description&&r.description.length>500&&(y.description="Mô tả không được vượt quá 500 ký tự"),s(y),Object.keys(y).length===0},p=y=>{const{name:v,value:b,type:w,checked:S}=y.target;i(k=>({...k,[v]:w==="checkbox"?S:b})),a[v]&&s(k=>({...k,[v]:""}))},m=async y=>{if(y.preventDefault(),!!d()){u(!0);try{await t(r)}catch(v){console.error("Error submitting form:",v)}finally{u(!1)}}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900",children:e?"Chỉnh sửa Bot":"Thêm Bot Mới"}),h.jsxs("form",{onSubmit:m,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên Bot *"}),h.jsx("input",{type:"text",name:"bot_name",value:r.bot_name,onChange:p,className:`w-full px-3 py-2 border rounded-md ${a.bot_name?"border-red-500":"border-gray-300"}`,placeholder:"Nhập tên bot",disabled:c}),a.bot_name&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.bot_name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Access Token *"}),h.jsx("input",{type:"text",name:"access_token",value:r.access_token,onChange:p,className:`w-full px-3 py-2 border rounded-md font-mono text-sm ${a.access_token?"border-red-500":"border-gray-300"}`,placeholder:"Nhập Zalo OA Access Token",disabled:c}),a.access_token&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.access_token}),h.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Token lấy từ Zalo OA"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mô tả"}),h.jsx("textarea",{name:"description",value:r.description,onChange:p,rows:3,className:"w-full px-3 py-2 border rounded-md resize-none",placeholder:"Mô tả ngắn về bot (tùy chọn)",disabled:c})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",name:"is_active",checked:r.is_active,onChange:p,className:"h-4 w-4 text-blue-600 border-gray-300 rounded",disabled:c}),h.jsx("label",{className:"ml-2 text-sm font-medium text-gray-700",children:"Bot hoạt động"})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:n,disabled:c,className:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:"Hủy"}),h.jsx("button",{type:"submit",disabled:c,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:c?"Đang lưu...":e?"Cập nhật":"Tạo Bot"})]})]})]})})})},oX=async()=>await Re.get("/zalo/"),lX=async e=>(await Re.post("/zalo/",e)).bot,cX=async(e,t)=>(await Re.put(`/zalo/${e}`,t)).bot,uX=async e=>await Re.delete(`/zalo/${e}`),dX=async e=>(await Re.patch(`/zalo/${e}/toggle-status`)).bot,fX=()=>{const[e,t]=j.useState([]),[n,r]=j.useState(!0),[i,a]=j.useState(!1),[s,c]=j.useState(null);j.useEffect(()=>{(async()=>{try{const y=await oX();t(y)}catch(y){console.error("Error fetching zalo bots:",y)}finally{r(!1)}})()},[]);const u=async m=>{try{if(s){const y=await cX(s.id,m);t(e.map(v=>v.id===s.id?y:v))}else{const y=await lX(m);t([...e,y])}a(!1),c(null)}catch(y){console.error("Error submitting zalo bot:",y)}},d=async m=>{try{await uX(m),t(e.filter(y=>y.id!==m))}catch(y){console.error("Error deleting zalo bot:",y)}},p=async m=>{try{const y=await dX(m);t(e.map(v=>v.id===m?y:v))}catch(y){console.error("Error toggling zalo bot status:",y)}};return h.jsx(A4,{data:e.length?[e[0]]:[],loading:n,showForm:i,editing:s,onEdit:m=>{c(m),a(!0)},onDelete:d,onSubmit:u,onCancel:()=>{a(!1),c(null)},onAddNew:()=>a(!0),StatsComponent:({data:m})=>h.jsx(iX,{bots:e}),TableComponent:({data:m,onEdit:y})=>h.jsx(aX,{data:m.length?m[0]:null,onEdit:y,onToggleStatus:p}),FormComponent:sX})},hX=()=>{const[e,t]=j.useState([]),[n,r]=j.useState(!1);return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx(fd,{className:"w-10 h-10 text-gray-400"})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Quản lý Kênh Thông báo"}),h.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Thiết lập và quản lý các kênh thông báo tự động cho khách hàng. Gửi thông báo về đơn hàng, khuyến mãi, và cập nhật quan trọng."}),h.jsx("div",{className:"bg-blue-50 rounded-lg p-6 max-w-2xl mx-auto",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:h.jsx(hd,{className:"w-4 h-4 text-blue-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Tính năng đang phát triển"}),h.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[h.jsx("p",{children:"• Thông báo đơn hàng qua Email, SMS, Zalo OA"}),h.jsx("p",{children:"• Chiến dịch marketing tự động"}),h.jsx("p",{children:"• Thông báo khuyến mãi theo phân khúc khách hàng"}),h.jsx("p",{children:"• Tích hợp với CRM và hệ thống bán hàng"})]})]})]})}),h.jsxs("button",{disabled:!0,className:"mt-6 flex items-center gap-2 bg-gray-300 text-gray-500 px-6 py-3 rounded-lg cursor-not-allowed",children:[h.jsx(Kh,{className:"w-4 h-4"}),"Thêm kênh thông báo (Sắp có)"]})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[h.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-green-600 text-xl",children:"📧"})}),h.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Email Marketing"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Gửi newsletter, thông báo đơn hàng và chiến dịch email tự động"})]}),h.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-blue-600 text-xl",children:"💬"})}),h.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"SMS Gateway"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Thông báo SMS cho đơn hàng, OTP và các thông tin quan trọng"})]}),h.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[h.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-purple-600 text-xl",children:"🔔"})}),h.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Push Notification"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Thông báo đẩy qua app mobile và web browser"})]})]})]})},pX=()=>{const[e,t]=j.useState(!1),[n,r]=j.useState("https://chatbotbe.a2alab.vn"),[i,a]=j.useState("wss://chatbotbe.a2alab.vn"),[s,c]=j.useState(!1),u=`<!-- Chatbot Widget - Nhúng vào trang web của bạn -->
<script 
    src="${window.location.origin}/widget.js"
    data-api-url="${n}"
    data-ws-url="${i}"
><\/script>`,d=()=>{navigator.clipboard.writeText(u),t(!0),setTimeout(()=>t(!1),2e3)},p=()=>{c(!0);const m=document.createElement("script");m.src="/widget.js",m.setAttribute("data-api-url",n),m.setAttribute("data-ws-url",i),document.body.appendChild(m)};return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl p-6 text-white",children:h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:h.jsx(fb,{className:"w-6 h-6"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold",children:"Widget Chatbot"}),h.jsx("p",{className:"text-purple-100",children:"Nhúng chatbot vào website của bạn chỉ với một dòng code"})]})]})}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(hd,{className:"w-5 h-5 text-gray-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Cấu hình Widget"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backend API URL"}),h.jsx("input",{type:"text",value:n,onChange:m=>r(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"https://chatbotbe.a2alab.vn"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WebSocket URL"}),h.jsx("input",{type:"text",value:i,onChange:m=>a(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"wss://chatbotbe.a2alab.vn"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"💡 Thường cùng domain với Backend API URL. Nếu API là https:// thì WS là wss://"})]})]})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(fb,{className:"w-5 h-5 text-gray-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Mã nhúng"})]}),h.jsx("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:e?h.jsxs(h.Fragment,{children:[h.jsx(qh,{className:"w-4 h-4"}),h.jsx("span",{children:"Đã sao chép!"})]}):h.jsxs(h.Fragment,{children:[h.jsx(TU,{className:"w-4 h-4"}),h.jsx("span",{children:"Sao chép mã"})]})})]}),h.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:h.jsx("pre",{className:"text-green-400 text-sm font-mono",children:h.jsx("code",{children:u})})})]}),h.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"text-2xl",children:"⚠️"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Xử lý lỗi WebSocket"}),h.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[h.jsx("p",{children:h.jsx("strong",{children:'Lỗi "WebSocket connection failed":'})}),h.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[h.jsx("li",{children:"Đảm bảo WebSocket URL và API URL cùng domain (ví dụ: cả hai đều là chatbotbe.a2alab.vn)"}),h.jsxs("li",{children:["Nếu API là ",h.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"https://"})," thì WebSocket phải là ",h.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"wss://"})]}),h.jsxs("li",{children:["Nếu API là ",h.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"http://"})," thì WebSocket phải là ",h.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"ws://"})]}),h.jsx("li",{children:"Kiểm tra backend server đã bật WebSocket support chưa"}),h.jsx("li",{children:"Kiểm tra CORS settings trong backend cho phép WebSocket"})]})]})]})]})}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(kD,{className:"w-5 h-5 text-gray-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Hướng dẫn cài đặt"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex gap-4",children:[h.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center font-bold",children:"1"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Sao chép mã nhúng"}),h.jsx("p",{className:"text-gray-600 text-sm",children:'Click vào nút "Sao chép mã" để copy đoạn code widget vào clipboard'})]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center font-bold",children:"2"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Dán vào website"}),h.jsxs("p",{className:"text-gray-600 text-sm",children:["Mở file HTML của website, dán đoạn code vào trước thẻ đóng ",h.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"</body>"})]})]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center font-bold",children:"3"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Hoàn tất"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Lưu file và reload trang web. Chatbot widget sẽ xuất hiện ở góc dưới bên phải màn hình"})]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Tính năng Widget"}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex items-start gap-3 p-4 bg-purple-50 rounded-lg",children:[h.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:"💬"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Chat realtime"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Kết nối WebSocket để chat trực tiếp với AI bot"})]})]}),h.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-lg",children:[h.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:"💾"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Lưu lịch sử"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Tự động lưu cuộc hội thoại trên trình duyệt"})]})]}),h.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg",children:[h.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:"🎨"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Giao diện đẹp"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Thiết kế hiện đại, responsive và dễ sử dụng"})]})]}),h.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 rounded-lg",children:[h.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:"⚡"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Nhẹ và nhanh"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Không ảnh hưởng đến hiệu suất website"})]})]})]})]}),h.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 border border-purple-200",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Kiểm tra Widget"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Xem trước widget hoạt động như thế nào trên trang này"})]}),h.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all shadow-md hover:shadow-lg",children:[h.jsx(Am,{className:"w-5 h-5"}),h.jsx("span",{children:"Xem trước"})]})]}),s&&h.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-green-800",children:"✅ Widget đã được kích hoạt! Kiểm tra góc dưới bên phải màn hình."})})]})]})},mX=({title:e,subtitle:t,icon:n,tabs:r=[],activeTab:i,onTabChange:a,children:s})=>h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white border-b border-gray-200 mb-6",children:h.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(n,{className:"w-5 h-5 text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e}),h.jsx("p",{className:"text-gray-600 text-sm",children:t})]})]})})}),h.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-8 space-y-6",children:h.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.length>0&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"border-b border-gray-200",children:h.jsx("nav",{className:"flex -mb-px overflow-x-auto",children:r.map(c=>{const u=c.icon,d=i===c.id;return h.jsxs("button",{onClick:()=>a(c.id),className:`flex-shrink-0 flex items-center justify-center gap-2 px-4 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${d?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[h.jsx(u,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:c.name}),h.jsx("span",{className:"sm:hidden",children:c.name.split(" ")[2]||c.name.split(" ")[0]})]},c.id)})})}),h.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:h.jsx("p",{className:"text-sm text-gray-600",children:r.find(c=>c.id===i)?.description})})]}),h.jsx("div",{className:"p-6",children:s})]})})]}),gX=({tabs:e,activeTab:t,onTabChange:n,actionButton:r=null})=>h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("nav",{className:"flex space-x-8 overflow-x-auto",children:e.map(i=>{const a=i.icon,s=t===i.id;return h.jsxs("button",{onClick:()=>n(i.id),className:`flex items-center gap-2 py-4 px-2 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${s?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[h.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center ${s?i.color:"bg-gray-400"}`,children:h.jsx(a,{className:"w-3 h-3 text-white"})}),i.name]},i.id)})}),r]})}),yX=()=>{const[e,t]=j.useState([]),[n,r]=j.useState(!0),[i,a]=j.useState(!1),[s,c]=j.useState(null),[u,d]=j.useState("chat"),[p,m]=j.useState("facebook");j.useEffect(()=>{(async()=>{const _=await IY();t(_),r(!1)})()},[]);const y=async O=>{if(s){const _=await $Y(s.id,O);t(e.map(T=>T.id===s.id?_:T))}else{const _=await zY(O);t([...e,_])}a(!1),c(null)},v=async O=>{await UY(O),t(e.filter(_=>_.id!==O))},b=async O=>{const _=await HY(O);t(e.map(T=>T.id===O?_:T))},w=[{id:"chat",name:"Quản lý kênh chat",icon:Cl,description:"Kết nối và quản lý các nền tảng chat với khách hàng"},{id:"notification",name:"Quản lý kênh thông báo",icon:fd,description:"Thiết lập và quản lý các kênh thông báo tự động"},{id:"widget",name:"Widget",icon:fb,description:"Nhúng chatbot vào website của bạn"}],S=[{id:"facebook",name:"Facebook",icon:jD,color:"bg-blue-600"},{id:"telegram",name:"Telegram",icon:TD,color:"bg-sky-500"},{id:"zalo",name:"Zalo",icon:DD,color:"bg-blue-500"}],k=()=>{switch(p){case"facebook":return h.jsx(T4,{loading:n,stats:h.jsx(RY,{pages:e}),table:h.jsx(LY,{data:e,onEdit:O=>{c(O),a(!0)},onDelete:v,onToggleStatus:b}),form:h.jsx(BY,{initialData:s,onSubmit:y,onCancel:()=>{a(!1),c(null)}}),showForm:i});case"telegram":return h.jsx(rX,{});case"zalo":return h.jsx(fX,{});default:return null}},E=()=>{switch(u){case"chat":return h.jsxs("div",{className:"space-y-6",children:[h.jsx(gX,{tabs:S,activeTab:p,onTabChange:m,actionButton:p==="facebook"&&h.jsx(WY,{})}),k()]});case"notification":return h.jsx(hX,{});case"widget":return h.jsx(pX,{});default:return null}};return h.jsx(mX,{title:"Kết nối Nền tảng",subtitle:"Quản lý kênh chat và thông báo với khách hàng",icon:Cl,tabs:w,activeTab:u,onTabChange:d,children:E()})},vX=()=>{const{user:e,loading:t}=ra();if(t)return h.jsx("div",{children:"Đang tải..."});if(!e)return h.jsx(yl,{to:"/login"});switch(console.log("User role:",e.role),e.role){case"user":return h.jsx(yl,{to:"/viewer"});case"admin":case"root":case"superadmin":return h.jsx(yl,{to:"/dashboard"});default:return h.jsx(yl,{to:"/login"})}},zO=({placeholder:e,value:t,onChange:n,tokenType:r,disabled:i=!1})=>{const[a,s]=j.useState({geminiKey:!1,verifyToken:!1,pageAccessToken:!1,zaloSecret:!1,openaiKey:!1}),c=p=>{s(m=>({...m,[p]:!m[p]}))},u=p=>{switch(p){case"geminiKey":case"openaiKey":return"🤖";case"verifyToken":return"🔐";case"pageAccessToken":return"📘";case"zaloSecret":return"💬";default:return"🔑"}},d=p=>{switch(p){case"geminiKey":return"border-blue-300 focus:border-blue-500 focus:ring-blue-500/20";case"openaiKey":return"border-green-300 focus:border-green-500 focus:ring-green-500/20";case"verifyToken":return"border-purple-300 focus:border-purple-500 focus:ring-purple-500/20";case"pageAccessToken":return"border-indigo-300 focus:border-indigo-500 focus:ring-indigo-500/20";case"zaloSecret":return"border-orange-300 focus:border-orange-500 focus:ring-orange-500/20";default:return"border-gray-300 focus:border-gray-500 focus:ring-gray-500/20"}};return h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-600",children:[h.jsx("span",{className:"text-lg",children:u(r)}),h.jsxs("span",{children:[r==="geminiKey"&&"Google Gemini API Key",r==="openaiKey"&&"OpenAI API Key",r==="verifyToken"&&"Webhook Verify Token",r==="pageAccessToken"&&"Page Access Token",r==="zaloSecret"&&"Zalo App Secret"]})]}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10",children:h.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-colors ${i?"bg-gray-200":"bg-gray-100 group-focus-within:bg-blue-100"}`,children:h.jsx(Qs,{className:`w-4 h-4 transition-colors ${i?"text-gray-400":"text-gray-500 group-focus-within:text-blue-600"}`})})}),h.jsx("input",{type:a[r]?"text":"password",placeholder:e,value:t,onChange:n,disabled:i,className:`w-full pl-16 pr-14 py-4 border-2 rounded-2xl focus:outline-none focus:ring-4 transition-all font-mono text-sm ${i?"bg-gray-100 cursor-not-allowed border-gray-200":`bg-gray-50 hover:bg-white ${d(r)}`}`}),h.jsx("button",{type:"button",onClick:()=>c(r),disabled:i,className:`absolute right-4 top-1/2 transform -translate-y-1/2 p-2 rounded-xl transition-colors group z-10 ${i?"cursor-not-allowed opacity-50":"hover:bg-gray-100"}`,title:a[r]?"Ẩn token":"Hiện token",children:a[r]?h.jsx(BU,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600"}):h.jsx(Am,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600"})}),h.jsx("div",{className:"absolute -bottom-1 left-4 right-4",children:h.jsx("div",{className:`h-1 rounded-full transition-all ${t?"bg-gradient-to-r from-green-400 to-green-600":"bg-gray-200"}`})})]}),h.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(QU,{className:"w-3 h-3"}),h.jsx("span",{children:"Token được mã hóa an toàn"})]}),t&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),h.jsxs("span",{children:[t.length," ký tự"]})]})]})]})},Ov="http://localhost:8000",xX=({llmDetails:e})=>{const[t,n]=j.useState(null),[r,i]=j.useState({}),[a,s]=j.useState(null),[c,u]=j.useState(!1),[d,p]=j.useState({text:"",type:""}),[m,y]=j.useState("bot"),[v,b]=j.useState(!1),[w,S]=j.useState({name:"",key:"",type:"bot"});En.useEffect(()=>{if(t){const L=e.find(K=>K.id===t);L&&L.llm_keys&&i(K=>({...K,[t]:L.llm_keys}))}},[t,e]);const k=e.find(L=>L.id===t),E=r[t]||[],O=E.filter(L=>L.type===m),_=(L,K)=>{p({text:L,type:K}),setTimeout(()=>p({text:"",type:""}),3e3)},T=()=>{S({name:"",key:"",type:m}),b(!0)},M=async()=>{if(!w.name||!w.key){_("Vui lòng nhập đầy đủ tên và key","error");return}u(!0);try{const K=(await xt.post(`${Ov}/llms/details/${t}/keys`,w)).data.llm_key;i(V=>({...V,[t]:[...V[t]||[],K]})),_("Thêm key thành công ✅","success"),b(!1),S({name:"",key:"",type:"bot"})}catch(L){console.error("Error creating key:",L),_("Có lỗi khi thêm key ❌","error")}finally{u(!1)}},D=async L=>{if(!L.name||!L.key){_("Vui lòng nhập đầy đủ tên và key","error");return}u(!0);try{await xt.put(`${Ov}/llms/details/${t}/keys/${L.id}`,{name:L.name,key:L.key,type:L.type}),_("Cập nhật key thành công ✅","success"),s(null)}catch(K){console.error("Error saving key:",K),_("Có lỗi khi lưu key ❌","error")}finally{u(!1)}},B=async L=>{if(window.confirm("Bạn có chắc muốn xóa key này?")){u(!0);try{await xt.delete(`${Ov}/llms/details/${t}/keys/${L.id}`),i(K=>({...K,[t]:K[t].filter(V=>V.id!==L.id)})),_("Xóa key thành công ✅","success")}catch(K){console.error("Error deleting key:",K),_("Có lỗi khi xóa key ❌","error")}finally{u(!1)}}},q=(L,K,V)=>{i(te=>({...te,[t]:te[t].map(oe=>oe.id===L?{...oe,[K]:V}:oe)}))};return h.jsxs("div",{className:"space-y-6",children:[d.text&&h.jsx("div",{className:`flex items-center gap-2 p-3 rounded-lg border text-sm ${d.type==="success"?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"}`,children:d.text}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Br,{className:"w-5 h-5 text-blue-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Chọn Model để quản lý API Keys"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(L=>h.jsx("label",{className:"cursor-pointer",children:h.jsx("div",{className:`border-2 rounded-lg p-4 transition-all ${t===L.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("input",{type:"radio",name:"model-selector",value:L.id,checked:t===L.id,onChange:()=>n(L.id),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),h.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center shadow-sm",children:h.jsx("span",{className:"text-xl",children:L.name==="gemini"?"🤖":"⚡"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"font-medium text-gray-900",children:L.name==="gemini"?"Google Gemini":"OpenAI GPT"}),h.jsxs("p",{className:"text-sm text-gray-600",children:[L.llm_keys?.length||0," keys"]})]})]})})},L.id))})]}),t&&k&&h.jsxs("div",{className:"space-y-4 border-t pt-6",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Qs,{className:"w-5 h-5 text-blue-600"}),h.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[k.name==="gemini"?"Google Gemini":"OpenAI GPT"," API Keys"]})]}),h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("nav",{className:"flex -mb-px gap-4",children:[h.jsxs("button",{onClick:()=>y("bot"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium border-b-2 transition-colors ${m==="bot"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[h.jsx(Br,{className:"w-4 h-4"}),"Keys cho Bot",h.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${m==="bot"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:E.filter(L=>L.type==="bot").length})]}),h.jsxs("button",{onClick:()=>y("embedding"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium border-b-2 transition-colors ${m==="embedding"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[h.jsx(Qs,{className:"w-4 h-4"}),"Keys cho Embedding",h.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${m==="embedding"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:E.filter(L=>L.type==="embedding").length})]})]})}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("p",{className:"text-sm text-gray-600",children:m==="bot"?"🤖 API keys dùng cho chatbot trả lời":"📝 API keys dùng cho tạo embedding văn bản"}),h.jsxs("button",{onClick:T,disabled:c,className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm disabled:opacity-50",children:[h.jsx(Kh,{className:"w-4 h-4"}),"Thêm Key"]})]}),O.length===0?h.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[h.jsx(Qs,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),h.jsxs("p",{className:"text-gray-500",children:["Chưa có API key ",m==="bot"?"Bot":"Embedding"," nào."]})]}):h.jsx("div",{className:"space-y-3",children:O.map(L=>h.jsx("div",{className:`border rounded-lg p-4 ${a===L.id?"border-blue-300 bg-blue-50":"border-gray-200 bg-gray-50"}`,children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",placeholder:"Tên key",value:L.name,onChange:K=>q(L.id,"name",K.target.value),disabled:a!==L.id,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"}),h.jsx("div",{className:`px-3 py-2 rounded-lg text-sm font-medium ${L.type==="bot"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:L.type==="bot"?"🤖 Bot":"📝 Embedding"}),h.jsx("div",{className:"flex gap-1",children:a===L.id?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>D(L),disabled:c,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50",children:c?h.jsx("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):h.jsx(qh,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>s(null),disabled:c,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:h.jsx(On,{className:"w-4 h-4"})})]}):h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>s(L.id),disabled:c,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:h.jsx(o9,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>B(L),disabled:c,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:h.jsx(J1,{className:"w-4 h-4"})})]})})]}),h.jsx(zO,{placeholder:"Nhập API key...",value:L.key,onChange:K=>q(L.id,"key",K.target.value),tokenType:k.name==="gemini"?"geminiKey":"openaiKey",disabled:a!==L.id})]})},L.id))})]}),v&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 bg-black bg-opacity-50",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[h.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[h.jsx(Kh,{className:"w-5 h-5 text-blue-600"}),"Thêm ",m==="bot"?"Bot":"Embedding"," Key"]}),h.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:h.jsx(On,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"px-6 py-4 space-y-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tên Key ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",placeholder:"VD: Production Key 1",value:w.name,onChange:L=>S({...w,name:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["API Key ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(zO,{placeholder:"Nhập API key...",value:w.key,onChange:L=>S({...w,key:L.target.value}),tokenType:k?.name==="gemini"?"geminiKey":"openaiKey"})]})]}),h.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t bg-gray-50",children:[h.jsx("button",{onClick:()=>b(!1),disabled:c,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Hủy"}),h.jsx("button",{onClick:M,disabled:c||!w.name||!w.key,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:c?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Đang lưu..."]}):h.jsxs(h.Fragment,{children:[h.jsx(qh,{className:"w-4 h-4"}),"Thêm Key"]})})]})]})})]})},bX=({llmDetails:e,botModelId:t,embeddingModelId:n,onBotModelChange:r,onEmbeddingModelChange:i})=>h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Br,{className:"w-5 h-5 text-blue-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Model cho Bot trả lời"})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:t||"",onChange:a=>r(parseInt(a.target.value)),className:"w-full px-4 py-3 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white cursor-pointer",children:[h.jsx("option",{value:"",children:"-- Chọn model cho Bot --"}),e.map(a=>h.jsx("option",{value:a.id,children:a.name==="gemini"?"🤖 Google Gemini":"⚡ OpenAI GPT"},a.id))]}),h.jsx(aC,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),h.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:h.jsx("p",{className:"text-sm text-blue-800",children:"🤖 Model này sẽ được sử dụng để chatbot trả lời tin nhắn của khách hàng"})})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Bu,{className:"w-5 h-5 text-purple-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Model cho Embedding"})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:n||"",onChange:a=>i(parseInt(a.target.value)),className:"w-full px-4 py-3 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent appearance-none bg-white cursor-pointer",children:[h.jsx("option",{value:"",children:"-- Chọn model cho Embedding --"}),e.map(a=>h.jsx("option",{value:a.id,children:a.name==="gemini"?"🤖 Google Gemini":"⚡ OpenAI GPT"},a.id))]}),h.jsx(aC,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),h.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:h.jsx("p",{className:"text-sm text-purple-800",children:"📝 Model này sẽ được sử dụng để tạo embedding từ văn bản và tìm kiếm tài liệu liên quan"})})]}),(t||n)&&h.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Cấu hình hiện tại:"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[t&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Br,{className:"w-4 h-4 text-blue-600"}),h.jsxs("span",{className:"text-gray-700",children:["Bot: ",h.jsx("span",{className:"font-medium",children:e.find(a=>a.id===t)?.name==="gemini"?"Google Gemini":"OpenAI GPT"})]})]}),n&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Bu,{className:"w-4 h-4 text-purple-600"}),h.jsxs("span",{className:"text-gray-700",children:["Embedding: ",h.jsx("span",{className:"font-medium",children:e.find(a=>a.id===n)?.name==="gemini"?"Google Gemini":"OpenAI GPT"})]})]})]})]}),h.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[h.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"💡 Ví dụ cấu hình:"}),h.jsxs("ul",{className:"space-y-1 text-sm text-green-800",children:[h.jsx("li",{children:"• Bot: Gemini + Embedding: Gemini (cả 2 dùng Gemini)"}),h.jsx("li",{children:"• Bot: GPT + Embedding: GPT (cả 2 dùng GPT)"}),h.jsx("li",{children:"• Bot: Gemini + Embedding: GPT (Gemini trả lời, GPT tìm kiếm)"}),h.jsx("li",{children:"• Bot: GPT + Embedding: Gemini (GPT trả lời, Gemini tìm kiếm)"})]})]})]}),wX=({greetingMessage:e,setGreetingMessage:t,botName:n,setBotName:r})=>{const[i,a]=j.useState(!1),[s,c]=j.useState(n),u=()=>{s.trim()&&(r(s.trim()),a(!1))},d=()=>{c(n),a(!1)},p=v=>{v.key==="Enter"?u():v.key==="Escape"&&d()},m=v=>{t(v.target.value)},y=()=>{t(`Em là nhân viên tư vấn của hệ thống đào tạo tiếng Trung THANHMAIHSK. Em rất vui được hỗ trợ anh/chị!
            Trung tâm THANHMAIHSK chuyên đào tạo:
            - Tiếng Trung HSK (các cấp độ)
            - Tiếng Trung giao tiếp
            - Tiếng Trung doanh nghiệp
            - Luyện thi tiếng Trung

            Anh/chị muốn tìm hiểu về khóa học nào ạ? Em sẽ tư vấn chi tiết giúp anh/chị!
            `)};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(Cl,{className:"w-4 h-4 text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Lời chào mặc định"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Tin nhắn đầu tiên khách hàng sẽ thấy khi bắt đầu trò chuyện"})]})]})}),h.jsx("div",{className:"p-6",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"font-medium text-gray-900",children:"Nội dung lời chào"}),h.jsxs("button",{onClick:y,className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 text-sm font-medium",children:[h.jsx(OD,{className:"w-4 h-4"}),"Khôi phục mặc định"]})]}),h.jsx("textarea",{value:e,onChange:m,rows:12,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Nhập lời chào mặc định..."}),h.jsxs("div",{className:"text-sm text-gray-500 text-right",children:[e?.length||0," ký tự"]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Am,{className:"w-4 h-4 text-gray-600"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Xem trước"})]}),h.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 min-h-[300px]",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:h.jsx(Br,{className:"w-4 h-4 text-white"})}),h.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm max-w-full",children:h.jsx("p",{className:"text-gray-800 text-sm leading-relaxed whitespace-pre-wrap",children:e||"Nhập nội dung lời chào để xem trước..."})})]})})]})]})})]}),h.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(Br,{className:"w-4 h-4 text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tên chatbot"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Tùy chỉnh tên hiển thị của trợ lý AI"})]})]})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"max-w-md mx-auto text-center space-y-4",children:[h.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center mx-auto",children:h.jsx(Br,{className:"w-8 h-8 text-blue-600"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Tên hiện tại của chatbot:"}),i?h.jsxs("div",{className:"flex items-center gap-2 max-w-sm mx-auto",children:[h.jsx("input",{type:"text",value:s,onChange:v=>c(v.target.value),onKeyDown:p,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-center font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nhập tên chatbot...",autoFocus:!0,maxLength:50}),h.jsx("button",{onClick:u,className:"p-2 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition-colors",title:"Lưu",children:h.jsx(qh,{className:"w-4 h-4"})}),h.jsx("button",{onClick:d,className:"p-2 text-red-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Hủy",children:h.jsx(On,{className:"w-4 h-4"})})]}):h.jsxs("div",{className:"flex items-center justify-center gap-3",children:[h.jsx("div",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-medium text-lg",children:n}),h.jsx("button",{onClick:()=>a(!0),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Chỉnh sửa tên",children:h.jsx(a9,{className:"w-4 h-4"})})]})]}),h.jsxs("div",{className:"text-xs text-gray-500",children:[i?s.length:n.length,"/50 ký tự"]})]}),h.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:h.jsx("span",{className:"text-white text-xs",children:"💡"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-blue-800 text-sm mb-2",children:"Gợi ý đặt tên:"}),h.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[h.jsx("li",{children:"• Chọn tên ngắn gọn, dễ nhớ"}),h.jsx("li",{children:"• Tránh sử dụng ký tự đặc biệt"}),h.jsx("li",{children:"• Tên nên phản ánh tính cách của chatbot"})]})]})]})})]})]})]})},SX=async e=>{try{return await Re.get(`/companies/${e}`)}catch(t){throw t}},NX=async(e,t)=>{try{return(await Re.put(`/companies/${e}`,t)).company}catch(n){throw n}},jX=async e=>{try{return await Re.post("/companies/upload-logo",{image:[e]})}catch(t){throw t}},kX=({companyId:e=1})=>{const[t,n]=j.useState({name:"",logo_url:"",contact:""}),[r,i]=j.useState(!1),[a,s]=j.useState(""),[c,u]=j.useState(""),d=j.useRef(null);j.useEffect(()=>{(async()=>{try{const S=await SX(e);S&&!S.message&&n({name:S.name||"",logo_url:S.logo_url||"",contact:S.contact||""})}catch(S){console.error("Không thể tải thông tin công ty:",S)}})()},[e]);const p=async()=>{i(!0),s("");try{let w=t.logo_url;if(c)try{w=(await jX(c)).image_urls[0],u("")}catch(S){console.error("Upload error:",S),s("Có lỗi khi upload logo ❌");return}await NX(e,{...t,logo_url:w}),n(S=>({...S,logo_url:w})),s("Cập nhật thông tin công ty thành công ✅")}catch(w){console.error("Lỗi khi cập nhật:",w),s("Có lỗi khi cập nhật thông tin công ty ❌")}finally{i(!1)}},m=(w,S)=>{n(k=>({...k,[w]:S}))},y=()=>{const w=`📞 Hotline: 1900-123-456
📧 Email: contact@company.com  
📍 Địa chỉ: 123 Đường ABC, Quận XYZ, TP.HCM
🌐 Website: www.company.com
⏰ Giờ làm việc: 8:00 - 17:30 (T2-T6)`;n(S=>({...S,contact:w}))},v=w=>{const S=w.target.files[0];if(S){if(S.size>2*1024*1024){s("File ảnh quá lớn. Vui lòng chọn file nhỏ hơn 2MB ❌");return}if(!S.type.startsWith("image/")){s("Vui lòng chọn file ảnh hợp lệ ❌");return}const k=new FileReader;k.onload=function(E){const O=E.target.result;u(O),s('Ảnh đã được chọn. Ấn "Lưu thông tin" để cập nhật ✅')},k.readAsDataURL(S)}},b=()=>{d.current?.click()};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ND,{className:"w-5 h-5 text-blue-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tên công ty"})]}),h.jsx("input",{type:"text",value:t.name,onChange:w=>m("name",w.target.value),placeholder:"Nhập tên công ty...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Fh,{className:"w-5 h-5 text-blue-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Logo công ty"})]}),h.jsxs("div",{className:"space-y-3",children:[c||t.logo_url?h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-lg border border-gray-200 flex items-center justify-center overflow-hidden",children:h.jsx("img",{src:c||t.logo_url,alt:"Company Logo",className:"max-w-full max-h-full object-contain",onError:w=>{w.target.src="",w.target.style.display="none",w.target.parentNode.innerHTML='<Building className="w-8 h-8 text-gray-400" />'}})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:c?"Ảnh đã chọn (chưa lưu)":"Logo hiện tại"}),c&&h.jsx("p",{className:"text-xs text-orange-600 mb-2",children:'Ấn "Lưu thông tin" để cập nhật logo'}),h.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:c?"Chọn ảnh khác":"Thay đổi logo"})]})]}):h.jsxs("div",{onClick:b,className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[h.jsx(Fh,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"Upload logo công ty"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Chọn file ảnh (PNG, JPG, SVG) - Kích thước tối đa 2MB"})]}),h.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:v,className:"hidden"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(c9,{className:"w-5 h-5 text-blue-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Thông tin liên hệ"})]}),h.jsxs("button",{onClick:y,className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 text-sm font-medium",children:[h.jsx(OD,{className:"w-4 h-4"}),"Mẫu mặc định"]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("textarea",{value:t.contact,onChange:w=>m("contact",w.target.value),rows:8,placeholder:"Nhập thông tin liên hệ...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),h.jsxs("div",{className:"text-sm text-gray-500 text-right",children:[t.contact?.length||0," ký tự"]})]})]}),h.jsx("div",{className:"flex justify-end pt-4",children:h.jsx("button",{onClick:p,disabled:r,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Đang lưu..."]}):h.jsx(h.Fragment,{children:"Lưu thông tin"})})}),a&&h.jsx("div",{className:`flex items-center gap-3 p-4 rounded-lg border ${a.includes("thành công")?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"}`,children:h.jsx("span",{className:"font-medium",children:a})}),h.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:h.jsx("span",{className:"text-white text-xs",children:"💡"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-blue-800 text-sm mb-2",children:"Gợi ý:"}),h.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[h.jsx("li",{children:"• Logo nên có kích thước phù hợp và chất lượng cao"}),h.jsx("li",{children:"• Thông tin liên hệ nên bao gồm đầy đủ: điện thoại, email, địa chỉ"}),h.jsx("li",{children:"• Có thể sử dụng emoji để làm nổi bật thông tin"})]})]})]})})]})},EX=()=>{const[e,t]=j.useState(""),[n,r]=j.useState("Xin chào"),[i,a]=j.useState(!1),[s,c]=j.useState(),[u,d]=j.useState(""),[p,m]=j.useState("model"),[y,v]=j.useState([]),[b,w]=j.useState(null),[S,k]=j.useState(null);j.useEffect(()=>{(async()=>{try{const M=await LD(1);console.log("LLM Data:",M),d(M.botName),r(M.system_greeting),t(M.prompt),w(M.bot_model_detail_id),k(M.embedding_model_detail_id),M.llm_details&&M.llm_details.length>0&&v(M.llm_details)}catch(M){console.error("Failed to fetch LLM:",M)}})()},[]);const E=async()=>{a(!0),c("");const T={prompt:e,system_greeting:n,botName:u,bot_model_detail_id:b,embedding_model_detail_id:S};console.log("Saving configuration:",T);try{await A9(1,T),c("Cập nhật cấu hình thành công ✅")}catch(M){console.error(M),c("Có lỗi khi lưu cấu hình ❌")}finally{a(!1)}},O=[{id:"model",name:"Chọn Model",icon:Br,description:"Chọn model AI cho Bot và Embedding"},{id:"keys",name:"Quản lý API Keys",icon:Qs,description:"Quản lý API keys cho từng model"},{id:"prompt",name:"Cấu hình Prompt",icon:Qs,description:"Thiết lập Customer Prompt cho AI"},{id:"chatbot",name:"Thông tin ChatbotAI",icon:Cl,description:"Cấu hình tên bot và lời chào"},{id:"company",name:"Thông tin Công ty",icon:ND,description:"Quản lý thông tin công ty và thông tin liên hệ"}],_=()=>{switch(p){case"model":return h.jsx(bX,{llmDetails:y,botModelId:b,embeddingModelId:S,onBotModelChange:w,onEmbeddingModelChange:k});case"keys":return h.jsx(xX,{llmDetails:y});case"prompt":return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(Qs,{className:"w-4 h-4 text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Customer Prompt"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Thiết lập hướng dẫn hành vi cho AI"})]})]}),h.jsx("textarea",{value:e,onChange:T=>t(T.target.value),rows:12,placeholder:"Nhập Customer Prompt cho AI...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Customer Prompt sẽ định hướng cách AI phản hồi và hành xử"}),h.jsxs("span",{className:"text-sm text-gray-500",children:[e?.length||0," ký tự"]})]})]});case"chatbot":return h.jsx(wX,{greetingMessage:n,setGreetingMessage:r,botName:u,setBotName:d});case"company":return h.jsx(kX,{companyId:1});default:return null}};return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white border-b border-gray-200 mb-6",children:h.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(hd,{className:"w-5 h-5 text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cấu hình LLM"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Thiết lập AI và cấu hình chatbot"})]})]}),h.jsx("button",{onClick:E,disabled:i,className:`flex items-center gap-2 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors ${p==="company"||p==="keys"?"hidden":""}`,children:i?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Đang lưu..."]}):h.jsxs(h.Fragment,{children:[h.jsx(h9,{className:"w-4 h-4"}),"Lưu cấu hình"]})})]})})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-6 pb-8 space-y-6",children:[s&&h.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg border ${s.includes("thành công")?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"}`,children:[s.includes("thành công")?h.jsx(jU,{className:"w-5 h-5 text-green-600"}):h.jsx(SU,{className:"w-5 h-5 text-red-600"}),h.jsx("span",{className:"font-medium",children:s})]}),h.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[h.jsx("div",{className:"border-b border-gray-200",children:h.jsx("nav",{className:"flex -mb-px overflow-x-auto",children:O.map(T=>{const M=T.icon,D=p===T.id;return h.jsxs("button",{onClick:()=>m(T.id),className:`flex-shrink-0 flex items-center justify-center gap-2 px-4 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${D?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[h.jsx(M,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:T.name}),h.jsx("span",{className:"sm:hidden",children:T.name.split(" ")[0]})]},T.id)})})}),h.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:h.jsx("p",{className:"text-sm text-gray-600",children:O.find(T=>T.id===p)?.description})}),h.jsx("div",{className:"p-6",children:_()})]})]})]})},CX=[{label:"Trang quản lý",icon:ED,href:"/dashboard",color:"text-blue-600",bgColor:"bg-blue-100"},{label:"Cấu hình hệ thống",icon:hd,href:"/dashboard/cau-hinh-he-thong",color:"text-purple-600",bgColor:"bg-purple-100"},{label:"Quản lý người dùng",icon:_D,href:"/admin/users",color:"text-blue-600",bgColor:"bg-blue-100"},{label:"Dữ liệu Chatbot",icon:uU,href:"/dashboard/cau-hinh-kien-thuc",color:"text-green-600",bgColor:"bg-green-100"},{label:"Quản lý kênh",icon:r9,href:"/admin/facebook_page",color:"text-purple-600",bgColor:"bg-purple-100"},{label:"Chat Interface",icon:qa,href:"/admin/chat",color:"text-indigo-600",bgColor:"bg-indigo-100"},{label:"Thống kê hoạt động",icon:gU,href:"/admin/admin-analytics",color:"text-blue-600",bgColor:"bg-blue-100"},{label:"Hướng dẫn sử dụng",icon:oU,href:"/admin/dashboard-guide",color:"text-blue-600",bgColor:"bg-blue-100"}];function OX({children:e}){const n=xi().pathname,[r,i]=j.useState(!1),[a,s]=j.useState(!1),{handleLogout:c,user:u}=ra(),d=na(),p=()=>{i(!r)},m=()=>{i(!1)},y=()=>{s(!a)},v=async()=>{try{await c(),d("/login")}catch(w){console.error("Logout thất bại:",w)}},b=u||{name:"Nguyễn Văn Admin",email:"admin@company.com",role:"Super Admin",avatar:null,lastLogin:"15/09/2025 14:30",notifications:3};return h.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[h.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:h.jsx("button",{onClick:p,className:"p-3 bg-gray-900 text-white rounded-xl shadow-lg hover:bg-gray-800 transition-colors",children:r?h.jsx(On,{className:"w-6 h-6"}):h.jsx(Z1,{className:"w-6 h-6"})})}),r&&h.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:m}),h.jsxs("div",{className:`
                fixed lg:static inset-y-0 left-0 z-40
                w-64 lg:w-64
                bg-white border-r border-gray-200
                flex flex-col shadow-lg
                transform transition-transform duration-300 ease-in-out
                ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}
            `,children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-white text-lg font-bold",children:"🤖"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Menu Quản Trị"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Hệ thống Chat AI"})]})]})}),h.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:CX.map((w,S)=>{const k=w.icon,E=n===w.href;return h.jsxs(El,{to:w.href,onClick:m,className:`flex items-center w-full px-3 py-2 rounded-lg text-sm font-medium transition-colors ${E?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:bg-blue-400"}`,children:[h.jsx(k,{className:`w-5 h-5 mr-3 ${E?"text-blue-700":"text-gray-500"}`}),h.jsx("span",{className:"truncate",children:w.label})]},S)})}),h.jsx("div",{className:"relative p-4 border-t border-gray-700/50",children:h.jsxs("div",{className:"relative",children:[a&&h.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden z-50",children:[h.jsxs("div",{className:"p-3 border-b border-gray-100",children:[h.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Đăng nhập lần cuối"}),h.jsx("div",{className:"text-gray-900 text-sm",children:b.lastLogin})]}),h.jsxs("div",{className:"p-2",children:[h.jsxs(El,{to:"/profile",onClick:m,className:"flex items-center gap-3 w-full px-3 py-2 rounded-md hover:bg-gray-50 transition-colors",children:[h.jsx(bl,{className:"w-4 h-4 text-gray-500"}),h.jsx("span",{className:"text-gray-700 text-sm",children:"Thông tin cá nhân"})]}),h.jsx("div",{className:"h-px bg-gray-100 my-2"}),h.jsxs("button",{onClick:v,className:"flex items-center gap-3 w-full px-3 py-2 rounded-md hover:bg-red-50 transition-colors text-red-600",children:[h.jsx(CD,{className:"w-4 h-4"}),h.jsx("span",{className:"text-sm",children:"Đăng xuất"})]})]})]}),h.jsx("button",{onClick:y,className:"w-full bg-white hover:bg-gray-50 rounded-lg p-3 border border-gray-200 transition-colors",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"relative flex-shrink-0",children:[h.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:b.avatar?h.jsx("img",{src:b.avatar,alt:"Avatar",className:"w-full h-full rounded-full object-cover"}):h.jsx(bl,{className:"w-5 h-5 text-white"})}),h.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),h.jsxs("div",{className:"flex-1 text-left min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"text-gray-900 font-medium text-sm truncate",children:b.name}),b.role==="Super Admin"&&h.jsx(MU,{className:"w-4 h-4 text-amber-500"})]}),h.jsx("p",{className:"text-gray-500 text-xs truncate",children:b.email}),h.jsx("div",{className:"mt-1",children:h.jsx("span",{className:"inline-block px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:b.role})})]}),b.notifications>0&&h.jsxs("div",{className:"relative",children:[h.jsx(fd,{className:"w-5 h-5 text-gray-400"}),h.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center text-xs text-white font-bold",children:b.notifications})]}),h.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]})})]}),h.jsxs("div",{className:"flex-1 bg-gray-50 overflow-hidden lg:ml-0",children:[h.jsx("div",{className:"lg:hidden h-16"})," ",e]})]})}const M4=({allowedRoles:e,children:t})=>{const{user:n,loading:r}=ra();return r?h.jsx("div",{children:"Đang tải..."}):n?e&&!e.includes(n.role)?h.jsx(yl,{to:"/unauthorized"}):t:h.jsx(yl,{to:"/login"})};function TX({children:e}){return h.jsxs("div",{className:"flex h-screen bg-gray-50",children:[h.jsx(OX,{}),h.jsxs("div",{className:"flex-1 bg-gray-50 overflow-auto lg:ml-0",children:[h.jsx("div",{className:"lg:hidden h-16"}),e]})]})}const AX=()=>h.jsx(M4,{allowedRoles:["admin","root","superadmin"],children:h.jsx(TX,{children:h.jsx(K_,{})})}),MX=[{label:"Dashboard",icon:ED,href:"/viewer",color:"text-blue-600",bgColor:"bg-blue-100"},{label:"Chat",icon:Cl,href:"/viewer/chat",color:"text-green-600",bgColor:"bg-green-100"}];function _X({children:e}){const n=xi().pathname,[r,i]=j.useState(!1),[a,s]=j.useState(!1),{handleLogout:c,user:u}=ra(),d=na(),p=()=>{i(!r)},m=()=>{i(!1)},y=()=>{s(!a)},v=async()=>{try{await c(),d("/login")}catch(w){console.error("Logout thất bại:",w)}},b=u;return h.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50",children:[h.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:h.jsx("button",{onClick:p,className:"p-3 bg-gray-900 text-white rounded-xl shadow-lg hover:bg-gray-800 transition-colors",children:r?h.jsx(On,{className:"w-6 h-6"}):h.jsx(Z1,{className:"w-6 h-6"})})}),r&&h.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:m}),h.jsxs("div",{className:`
                fixed lg:static inset-y-0 left-0 z-40
                w-64 h-screen
                bg-white border-r border-gray-200
                flex flex-col shadow-lg
                transform transition-transform duration-300 ease-in-out
                ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}
            `,children:[h.jsx("div",{className:"flex-shrink-0 p-6 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-white text-lg font-bold",children:"👁️"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Viewer Panel"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Hệ thống Chat AI"})]})]})}),h.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:MX.map((w,S)=>{const k=w.icon,E=n===w.href;return h.jsxs(El,{to:w.href,onClick:m,className:`flex items-center w-full px-3 py-2 rounded-lg text-sm font-medium transition-colors ${E?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:bg-blue-50"}`,children:[h.jsx(k,{className:`w-5 h-5 mr-3 ${E?"text-blue-700":"text-gray-500"}`}),h.jsx("span",{className:"truncate",children:w.label})]},S)})}),h.jsx("div",{className:"flex-shrink-0 px-4 pb-2",children:h.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[h.jsx(bl,{className:"w-4 h-4"}),h.jsx("span",{className:"text-sm font-medium",children:"Quyền Viewer"})]}),h.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Xem dữ liệu, gửi tin nhắn, quản lý tag"})]})}),h.jsx("div",{className:"flex-shrink-0 relative p-4 border-t border-gray-200",children:h.jsxs("div",{className:"relative",children:[a&&h.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden z-50",children:[h.jsxs("div",{className:"p-3 border-b border-gray-100",children:[h.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Đăng nhập lần cuối"}),h.jsx("div",{className:"text-gray-900 text-sm",children:b.lastLogin})]}),h.jsxs("div",{className:"p-2",children:[h.jsxs(El,{to:"/viewer/profile",onClick:m,className:"flex items-center gap-3 w-full px-3 py-2 rounded-md hover:bg-gray-50 transition-colors",children:[h.jsx(bl,{className:"w-4 h-4 text-gray-500"}),h.jsx("span",{className:"text-gray-700 text-sm",children:"Thông tin cá nhân"})]}),h.jsx("div",{className:"h-px bg-gray-100 my-2"}),h.jsxs("button",{onClick:v,className:"flex items-center gap-3 w-full px-3 py-2 rounded-md hover:bg-red-50 transition-colors text-red-600",children:[h.jsx(CD,{className:"w-4 h-4"}),h.jsx("span",{className:"text-sm",children:"Đăng xuất"})]})]})]}),h.jsx("button",{onClick:y,className:"w-full bg-white hover:bg-gray-50 rounded-lg p-3 border border-gray-200 transition-colors",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"relative flex-shrink-0",children:[h.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:b.avatar?h.jsx("img",{src:b.avatar,alt:"Avatar",className:"w-full h-full rounded-full object-cover"}):h.jsx(bl,{className:"w-5 h-5 text-white"})}),h.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),h.jsxs("div",{className:"flex-1 text-left min-w-0",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("h3",{className:"text-gray-900 font-medium text-sm truncate",children:b.name})}),h.jsx("p",{className:"text-gray-500 text-xs truncate",children:b.email}),h.jsx("div",{className:"mt-1",children:h.jsx("span",{className:"inline-block px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:b.role})})]}),b.notifications>0&&h.jsxs("div",{className:"relative",children:[h.jsx(fd,{className:"w-5 h-5 text-gray-400"}),h.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center text-xs text-white font-bold",children:b.notifications})]}),h.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto",children:[h.jsx("div",{className:"lg:hidden h-16"}),h.jsx("div",{className:"min-h-full",children:e})]})]})}const DX=()=>h.jsx(M4,{allowedRoles:["user"],children:h.jsx(_X,{children:h.jsx(K_,{})})}),$O=()=>{const{user:e}=ra(),t=na(),[n,r]=j.useState([]),[i,a]=j.useState(!0),s=async(d,p)=>{const m={...p,company_id:1};m.password===""&&delete m.password;const y=await RD(d,m);r(n.map(v=>v.id===d?y.user:v)),a(!1),c()},c=()=>{e?.role==="viewer"?t("/viewer"):["admin","root","superadmin"].includes(e?.role)?t("/dashboard"):t("/")},u=()=>{a(!1),c()};return h.jsx("div",{children:i&&h.jsx(QD,{initialData:e,onSubmit:d=>s(e.id,d),onCancel:u,isProfileMode:!0})})};function PX(){return h.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:h.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[h.jsx("h1",{className:"text-4xl font-bold text-red-600 mb-4",children:"403"}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Không có quyền truy cập"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Bạn không có quyền để truy cập trang này."}),h.jsx("a",{href:"/",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Quay về trang chủ"})]})})}function _4(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=_4(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=_4(e))&&(r&&(r+=" "),r+=t);return r}var Tv={},Av={},UO;function RX(){return UO||(UO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Av)),Av}var Mv={},HO;function D4(){return HO||(HO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Mv)),Mv}var _v={},qO;function P4(){return qO||(qO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(_v)),_v}var Dv={},KO;function qw(){return KO||(KO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let a=0,s="",c="",u=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const d=n[a];c?d==="\\"&&a+1<i?(a++,s+=n[a]):d===c?c="":s+=d:u?d==='"'||d==="'"?c=d:d==="]"?(u=!1,r.push(s),s=""):s+=d:d==="["?(u=!0,s&&(r.push(s),s="")):d==="."?s&&(r.push(s),s=""):s+=d,a++}return s&&r.push(s),r}e.toPath=t})(Dv)),Dv}var VO;function Kw(){return VO||(VO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RX(),n=D4(),r=P4(),i=qw();function a(c,u,d){if(c==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const p=c[u];return p===void 0?n.isDeepKey(u)?a(c,i.toPath(u),d):d:p}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const p=c[u];return p===void 0?d:p}default:{if(Array.isArray(u))return s(c,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const p=c[u];return p===void 0?d:p}}}function s(c,u,d){if(u.length===0)return d;let p=c;for(let m=0;m<u.length;m++){if(p==null||t.isUnsafeProperty(u[m]))return d;p=p[u[m]]}return p===void 0?d:p}e.get=a})(Tv)),Tv}var Pv,FO;function LX(){return FO||(FO=1,Pv=Kw().get),Pv}var BX=LX();const po=Jr(BX);var Rv={exports:{}},at={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WO;function IX(){if(WO)return at;WO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function b(w){if(typeof w=="object"&&w!==null){var S=w.$$typeof;switch(S){case e:switch(w=w.type,w){case n:case i:case r:case u:case d:case y:return w;default:switch(w=w&&w.$$typeof,w){case s:case c:case m:case p:return w;case a:return w;default:return S}}case t:return S}}}return at.ContextConsumer=a,at.ContextProvider=s,at.Element=e,at.ForwardRef=c,at.Fragment=n,at.Lazy=m,at.Memo=p,at.Portal=t,at.Profiler=i,at.StrictMode=r,at.Suspense=u,at.SuspenseList=d,at.isContextConsumer=function(w){return b(w)===a},at.isContextProvider=function(w){return b(w)===s},at.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},at.isForwardRef=function(w){return b(w)===c},at.isFragment=function(w){return b(w)===n},at.isLazy=function(w){return b(w)===m},at.isMemo=function(w){return b(w)===p},at.isPortal=function(w){return b(w)===t},at.isProfiler=function(w){return b(w)===i},at.isStrictMode=function(w){return b(w)===r},at.isSuspense=function(w){return b(w)===u},at.isSuspenseList=function(w){return b(w)===d},at.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===u||w===d||typeof w=="object"&&w!==null&&(w.$$typeof===m||w.$$typeof===p||w.$$typeof===s||w.$$typeof===a||w.$$typeof===c||w.$$typeof===v||w.getModuleId!==void 0)},at.typeOf=b,at}var GO;function zX(){return GO||(GO=1,Rv.exports=IX()),Rv.exports}var $X=zX(),yn=e=>e===0?0:e>0?1:-1,$r=e=>typeof e=="number"&&e!=+e,Ws=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Pe=e=>(typeof e=="number"||e instanceof Number)&&!$r(e),yi=e=>Pe(e)||typeof e=="string",UX=0,Yu=e=>{var t=++UX;return"".concat(e||"").concat(t)},Cn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&typeof t!="string")return r;var a;if(Ws(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return $r(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},R4=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function At(e,t,n){return Pe(e)&&Pe(t)?e+n*(t-e):t}function L4(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):po(r,t))===n)}var bt=e=>e===null||typeof e>"u",vd=e=>bt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),HX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Vw(e){if(typeof e!="string")return!1;var t=HX;return t.includes(e)}var qX=["viewBox","children"],YO=["points","pathLength"],Lv={svg:qX,polygon:YO,polyline:YO},Fw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Vw(i)&&(r[i]=(a=>n[i](n,a)))}),r},KX=(e,t,n)=>r=>(e(t,n,r),null),xd=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Vw(i)&&typeof a=="function"&&(r||(r={}),r[i]=KX(a,t,n))}),r},VX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function B4(e){if(typeof e!="string")return!1;var t=VX;return t.includes(e)}function aa(e){var t=Object.entries(e).filter(n=>{var[r]=n;return B4(r)});return Object.fromEntries(t)}var XO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",QO=null,Bv=null,I4=e=>{if(e===QO&&Array.isArray(Bv))return Bv;var t=[];return j.Children.forEach(e,n=>{bt(n)||($X.isFragment(n)?t=t.concat(I4(n.props.children)):t.push(n))}),Bv=t,QO=e,t};function Ww(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>XO(i)):r=[XO(t)],I4(e).forEach(i=>{var a=po(i,"type.displayName")||po(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var z4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,FX=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=r&&Lv?.[r])!==null&&i!==void 0?i:[],s=t.startsWith("data-"),c=typeof e!="function"&&(!!r&&a.includes(t)||B4(t)),u=!!n&&Vw(t);return s||c||u},jt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var s;FX((s=r)===null||s===void 0?void 0:s[a],a,t,n)&&(i[a]=r[a])}),i},WX=["children","width","height","viewBox","className","style","title","desc"];function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fb.apply(null,arguments)}function GX(e,t){if(e==null)return{};var n,r,i=YX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Gw=j.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:c,title:u,desc:d}=e,p=GX(e,WX),m=a||{width:r,height:i,x:0,y:0},y=Ye("recharts-surface",s);return j.createElement("svg",Fb({},jt(p,!0,"svg"),{className:y,width:r,height:i,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),j.createElement("title",null,u),j.createElement("desc",null,d),n)}),XX=["children","className"];function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wb.apply(null,arguments)}function QX(e,t){if(e==null)return{};var n,r,i=ZX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vn=j.forwardRef((e,t)=>{var{children:n,className:r}=e,i=QX(e,XX),a=Ye("recharts-layer",r);return j.createElement("g",Wb({className:a},jt(i,!0),{ref:t}),n)}),$4=j.createContext(null),JX=()=>j.useContext($4);function ut(e){return function(){return e}}const U4=Math.cos,zp=Math.sin,ri=Math.sqrt,$p=Math.PI,Wm=2*$p,Gb=Math.PI,Yb=2*Gb,Is=1e-6,eQ=Yb-Is;function H4(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function tQ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return H4;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class nQ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?H4:tQ(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,u=r-t,d=i-n,p=s-t,m=c-n,y=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Is)if(!(Math.abs(m*u-d*p)>Is)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-s,b=i-c,w=u*u+d*d,S=v*v+b*b,k=Math.sqrt(w),E=Math.sqrt(y),O=a*Math.tan((Gb-Math.acos((w+y-S)/(2*k*E)))/2),_=O/E,T=O/k;Math.abs(_-1)>Is&&this._append`L${t+_*p},${n+_*m}`,this._append`A${a},${a},0,0,${+(m*v>p*b)},${this._x1=t+T*u},${this._y1=n+T*d}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),u=r*Math.sin(i),d=t+c,p=n+u,m=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>Is||Math.abs(this._y1-p)>Is)&&this._append`L${d},${p}`,r&&(y<0&&(y=y%Yb+Yb),y>eQ?this._append`A${r},${r},0,1,${m},${t-c},${n-u}A${r},${r},0,1,${m},${this._x1=d},${this._y1=p}`:y>Is&&this._append`A${r},${r},0,${+(y>=Gb)},${m},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Yw(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new nQ(t)}function Xw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function q4(e){this._context=e}q4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Gm(e){return new q4(e)}function K4(e){return e[0]}function V4(e){return e[1]}function F4(e,t){var n=ut(!0),r=null,i=Gm,a=null,s=Yw(c);e=typeof e=="function"?e:e===void 0?K4:ut(e),t=typeof t=="function"?t:t===void 0?V4:ut(t);function c(u){var d,p=(u=Xw(u)).length,m,y=!1,v;for(r==null&&(a=i(v=s())),d=0;d<=p;++d)!(d<p&&n(m=u[d],d,u))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+e(m,d,u),+t(m,d,u));if(v)return a=null,v+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:ut(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:ut(+u),c):t},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ut(!!u),c):n},c.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),c):i},c.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),c):r},c}function dh(e,t,n){var r=null,i=ut(!0),a=null,s=Gm,c=null,u=Yw(d);e=typeof e=="function"?e:e===void 0?K4:ut(+e),t=typeof t=="function"?t:ut(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?V4:ut(+n);function d(m){var y,v,b,w=(m=Xw(m)).length,S,k=!1,E,O=new Array(w),_=new Array(w);for(a==null&&(c=s(E=u())),y=0;y<=w;++y){if(!(y<w&&i(S=m[y],y,m))===k)if(k=!k)v=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=y-1;b>=v;--b)c.point(O[b],_[b]);c.lineEnd(),c.areaEnd()}k&&(O[y]=+e(S,y,m),_[y]=+t(S,y,m),c.point(r?+r(S,y,m):O[y],n?+n(S,y,m):_[y]))}if(E)return c=null,E+""||null}function p(){return F4().defined(i).curve(s).context(a)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:ut(+m),r=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:ut(+m),d):e},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ut(+m),d):r},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:ut(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:ut(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ut(+m),d):n},d.lineX0=d.lineY0=function(){return p().x(e).y(t)},d.lineY1=function(){return p().x(e).y(n)},d.lineX1=function(){return p().x(r).y(t)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:ut(!!m),d):i},d.curve=function(m){return arguments.length?(s=m,a!=null&&(c=s(a)),d):s},d.context=function(m){return arguments.length?(m==null?a=c=null:c=s(a=m),d):a},d}class W4{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function rQ(e){return new W4(e,!0)}function iQ(e){return new W4(e,!1)}const Qw={draw(e,t){const n=ri(t/$p);e.moveTo(n,0),e.arc(0,0,n,0,Wm)}},aQ={draw(e,t){const n=ri(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},G4=ri(1/3),sQ=G4*2,oQ={draw(e,t){const n=ri(t/sQ),r=n*G4;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},lQ={draw(e,t){const n=ri(t),r=-n/2;e.rect(r,r,n,n)}},cQ=.8908130915292852,Y4=zp($p/10)/zp(7*$p/10),uQ=zp(Wm/10)*Y4,dQ=-U4(Wm/10)*Y4,fQ={draw(e,t){const n=ri(t*cQ),r=uQ*n,i=dQ*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=Wm*a/5,c=U4(s),u=zp(s);e.lineTo(u*n,-c*n),e.lineTo(c*r-u*i,u*r+c*i)}e.closePath()}},Iv=ri(3),hQ={draw(e,t){const n=-ri(t/(Iv*3));e.moveTo(0,n*2),e.lineTo(-Iv*n,-n),e.lineTo(Iv*n,-n),e.closePath()}},Or=-.5,Tr=ri(3)/2,Xb=1/ri(12),pQ=(Xb/2+1)*3,mQ={draw(e,t){const n=ri(t/pQ),r=n/2,i=n*Xb,a=r,s=n*Xb+n,c=-a,u=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(c,u),e.lineTo(Or*r-Tr*i,Tr*r+Or*i),e.lineTo(Or*a-Tr*s,Tr*a+Or*s),e.lineTo(Or*c-Tr*u,Tr*c+Or*u),e.lineTo(Or*r+Tr*i,Or*i-Tr*r),e.lineTo(Or*a+Tr*s,Or*s-Tr*a),e.lineTo(Or*c+Tr*u,Or*u-Tr*c),e.closePath()}};function gQ(e,t){let n=null,r=Yw(i);e=typeof e=="function"?e:ut(e||Qw),t=typeof t=="function"?t:ut(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:ut(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:ut(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Up(){}function Hp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function X4(e){this._context=e}X4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yQ(e){return new X4(e)}function Q4(e){this._context=e}Q4.prototype={areaStart:Up,areaEnd:Up,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vQ(e){return new Q4(e)}function Z4(e){this._context=e}Z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Hp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xQ(e){return new Z4(e)}function J4(e){this._context=e}J4.prototype={areaStart:Up,areaEnd:Up,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function bQ(e){return new J4(e)}function ZO(e){return e<0?-1:1}function JO(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),c=(a*i+s*r)/(r+i);return(ZO(a)+ZO(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(c))||0}function eT(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function zv(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,c=(a-r)/3;e._context.bezierCurveTo(r+c,i+c*t,a-c,s-c*n,a,s)}function qp(e){this._context=e}qp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zv(this,this._t0,eT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,zv(this,eT(this,n=JO(this,e,t)),n);break;default:zv(this,this._t0,n=JO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function eR(e){this._context=new tR(e)}(eR.prototype=Object.create(qp.prototype)).point=function(e,t){qp.prototype.point.call(this,t,e)};function tR(e){this._context=e}tR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function wQ(e){return new qp(e)}function SQ(e){return new eR(e)}function nR(e){this._context=e}nR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=tT(e),i=tT(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function tT(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function NQ(e){return new nR(e)}function Ym(e,t){this._context=e,this._t=t}Ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function jQ(e){return new Ym(e,.5)}function kQ(e){return new Ym(e,0)}function EQ(e){return new Ym(e,1)}function Pl(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,c=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Qb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function CQ(e,t){return e[t]}function OQ(e){const t=[];return t.key=e,t}function TQ(){var e=ut([]),t=Qb,n=Pl,r=CQ;function i(a){var s=Array.from(e.apply(this,arguments),OQ),c,u=s.length,d=-1,p;for(const m of a)for(c=0,++d;c<u;++c)(s[c][d]=[0,+r(m,s[c].key,d,a)]).data=m;for(c=0,p=Xw(t(s));c<u;++c)s[p[c]].index=c;return n(s,p),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ut(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ut(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Qb:typeof a=="function"?a:ut(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Pl,i):n},i}function AQ(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Pl(e,t)}}function MQ(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,c=0;s<i;++s)c+=e[s][n][1]||0;r[n][1]+=r[n][0]=-c/2}Pl(e,t)}}function _Q(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var c=0,u=0,d=0;c<s;++c){for(var p=e[t[c]],m=p[r][1]||0,y=p[r-1][1]||0,v=(m-y)/2,b=0;b<c;++b){var w=e[t[b]],S=w[r][1]||0,k=w[r-1][1]||0;v+=S-k}u+=m,d+=v*m}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,Pl(e,t)}}var DQ=["type","size","sizeType"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zb.apply(null,arguments)}function nT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(n),!0).forEach(function(r){PQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PQ(e,t,n){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RQ(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BQ(e,t){if(e==null)return{};var n,r,i=IQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rR={symbolCircle:Qw,symbolCross:aQ,symbolDiamond:oQ,symbolSquare:lQ,symbolStar:fQ,symbolTriangle:hQ,symbolWye:mQ},zQ=Math.PI/180,$Q=e=>{var t="symbol".concat(vd(e));return rR[t]||Qw},UQ=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*zQ;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},HQ=(e,t)=>{rR["symbol".concat(vd(e))]=t},Zw=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=BQ(e,DQ),a=rT(rT({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var c=()=>{var y=$Q(s),v=gQ().type(y).size(UQ(n,r,s));return v()},{className:u,cx:d,cy:p}=a,m=jt(a,!0);return d===+d&&p===+p&&n===+n?j.createElement("path",Zb({},m,{className:Ye("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};Zw.registerSymbol=HQ;function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jb.apply(null,arguments)}function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(n),!0).forEach(function(r){Jw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jw(e,t,n){return(t=KQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KQ(e){var t=VQ(e,"string");return typeof t=="symbol"?t:t+""}function VQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ar=32;class eS extends j.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=Ar/2,a=Ar/6,s=Ar/3,c=t.inactive?r:t.color,u=n??t.type;if(u==="none")return null;if(u==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Ar,y2:i,className:"recharts-legend-icon"});if(u==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ar,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return j.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ar/8,"h").concat(Ar,"v").concat(Ar*3/4,"h").concat(-Ar,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var d=qQ({},t);return delete d.legendIcon,j.cloneElement(t.legendIcon,d)}return j.createElement(Zw,{fill:c,cx:i,cy:i,size:Ar,sizeType:"diameter",type:u})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=this.props,c={x:0,y:0,width:Ar,height:Ar},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,m)=>{var y=p.formatter||i,v=Ye({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:p.inactive});if(p.type==="none")return null;var b=p.inactive?a:p.color,w=y?y(p.value,p,m):p.value;return j.createElement("li",Jb({className:v,style:u,key:"legend-item-".concat(m)},xd(this.props,p,m)),j.createElement(Gw,{width:n,height:n,viewBox:c,style:d,"aria-label":"".concat(w," legend icon")},this.renderIcon(p,s)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},w))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Jw(eS,"displayName","Legend");Jw(eS,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var $v={},Uv={},aT;function FQ(){return aT||(aT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],c=r(s);i.has(c)||i.set(c,s)}return Array.from(i.values())}e.uniqBy=t})(Uv)),Uv}var Hv={},sT;function iR(){return sT||(sT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Hv)),Hv}var qv={},Kv={},Vv={},oT;function WQ(){return oT||(oT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Vv)),Vv}var lT;function tS(){return lT||(lT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WQ();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Kv)),Kv}var Fv={},cT;function GQ(){return cT||(cT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Fv)),Fv}var uT;function YQ(){return uT||(uT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tS(),n=GQ();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(qv)),qv}var Wv={},Gv={},dT;function XQ(){return dT||(dT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kw();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Gv)),Gv}var Yv={},Xv={},Qv={},Zv={},fT;function aR(){return fT||(fT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Zv)),Zv}var Jv={},hT;function sR(){return hT||(hT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Jv)),Jv}var ex={},pT;function oR(){return pT||(pT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(ex)),ex}var mT;function QQ(){return mT||(mT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nS(),n=aR(),r=sR(),i=oR();function a(m,y,v){return typeof v!="function"?t.isMatch(m,y):s(m,y,function b(w,S,k,E,O,_){const T=v(w,S,k,E,O,_);return T!==void 0?!!T:s(w,S,b,_)},new Map)}function s(m,y,v,b){if(y===m)return!0;switch(typeof y){case"object":return c(m,y,v,b);case"function":return Object.keys(y).length>0?s(m,{...y},v,b):i.eq(m,y);default:return n.isObject(m)?typeof y=="string"?y==="":!0:i.eq(m,y)}}function c(m,y,v,b){if(y==null)return!0;if(Array.isArray(y))return d(m,y,v,b);if(y instanceof Map)return u(m,y,v,b);if(y instanceof Set)return p(m,y,v,b);const w=Object.keys(y);if(m==null)return w.length===0;if(w.length===0)return!0;if(b&&b.has(y))return b.get(y)===m;b&&b.set(y,m);try{for(let S=0;S<w.length;S++){const k=w[S];if(!r.isPrimitive(m)&&!(k in m)||y[k]===void 0&&m[k]!==void 0||y[k]===null&&m[k]!==null||!v(m[k],y[k],k,m,y,b))return!1}return!0}finally{b&&b.delete(y)}}function u(m,y,v,b){if(y.size===0)return!0;if(!(m instanceof Map))return!1;for(const[w,S]of y.entries()){const k=m.get(w);if(v(k,S,w,m,y,b)===!1)return!1}return!0}function d(m,y,v,b){if(y.length===0)return!0;if(!Array.isArray(m))return!1;const w=new Set;for(let S=0;S<y.length;S++){const k=y[S];let E=!1;for(let O=0;O<m.length;O++){if(w.has(O))continue;const _=m[O];let T=!1;if(v(_,k,S,m,y,b)&&(T=!0),T){w.add(O),E=!0;break}}if(!E)return!1}return!0}function p(m,y,v,b){return y.size===0?!0:m instanceof Set?d([...m],[...y],v,b):!1}e.isMatchWith=a,e.isSetMatch=p})(Qv)),Qv}var gT;function nS(){return gT||(gT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QQ();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Xv)),Xv}var tx={},nx={},rx={},yT;function ZQ(){return yT||(yT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(rx)),rx}var ix={},vT;function lR(){return vT||(vT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(ix)),ix}var ax={},xT;function cR(){return xT||(xT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",c="[object Date]",u="[object Map]",d="[object Set]",p="[object Array]",m="[object Function]",y="[object ArrayBuffer]",v="[object Object]",b="[object Error]",w="[object DataView]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",E="[object Uint16Array]",O="[object Uint32Array]",_="[object BigUint64Array]",T="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",B="[object BigInt64Array]",q="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=B,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=w,e.dateTag=c,e.errorTag=b,e.float32ArrayTag=q,e.float64ArrayTag=L,e.functionTag=m,e.int16ArrayTag=M,e.int32ArrayTag=D,e.int8ArrayTag=T,e.mapTag=u,e.numberTag=r,e.objectTag=v,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=E,e.uint32ArrayTag=O,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=k})(ax)),ax}var sx={},bT;function JQ(){return bT||(bT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(sx)),sx}var wT;function uR(){return wT||(wT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZQ(),n=lR(),r=cR(),i=sR(),a=JQ();function s(p,m){return c(p,void 0,p,new Map,m)}function c(p,m,y,v=new Map,b=void 0){const w=b?.(p,m,y,v);if(w!==void 0)return w;if(i.isPrimitive(p))return p;if(v.has(p))return v.get(p);if(Array.isArray(p)){const S=new Array(p.length);v.set(p,S);for(let k=0;k<p.length;k++)S[k]=c(p[k],k,y,v,b);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;v.set(p,S);for(const[k,E]of p)S.set(k,c(E,k,y,v,b));return S}if(p instanceof Set){const S=new Set;v.set(p,S);for(const k of p)S.add(c(k,void 0,y,v,b));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(a.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);v.set(p,S);for(let k=0;k<p.length;k++)S[k]=c(p[k],k,y,v,b);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return v.set(p,S),u(S,p,y,v,b),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return v.set(p,S),u(S,p,y,v,b),S}if(p instanceof Blob){const S=new Blob([p],{type:p.type});return v.set(p,S),u(S,p,y,v,b),S}if(p instanceof Error){const S=new p.constructor;return v.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,u(S,p,y,v,b),S}if(typeof p=="object"&&d(p)){const S=Object.create(Object.getPrototypeOf(p));return v.set(p,S),u(S,p,y,v,b),S}return p}function u(p,m,y=p,v,b){const w=[...Object.keys(m),...t.getSymbols(m)];for(let S=0;S<w.length;S++){const k=w[S],E=Object.getOwnPropertyDescriptor(p,k);(E==null||E.writable)&&(p[k]=c(m[k],k,y,v,b))}}function d(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=c,e.copyProperties=u})(nx)),nx}var ST;function eZ(){return ST||(ST=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uR();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(tx)),tx}var NT;function tZ(){return NT||(NT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nS(),n=eZ();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(Yv)),Yv}var ox={},lx={},cx={},jT;function nZ(){return jT||(jT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uR(),n=cR();function r(i,a){return t.cloneDeepWith(i,(s,c,u,d)=>{const p=a?.(s,c,u,d);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(cx)),cx}var kT;function rZ(){return kT||(kT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nZ();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(lx)),lx}var ux={},dx={},ET;function dR(){return ET||(ET=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(dx)),dx}var fx={},CT;function iZ(){return CT||(CT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lR();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(fx)),fx}var OT;function aZ(){return OT||(OT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D4(),n=dR(),r=iZ(),i=qw();function a(s,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&t.isDeepKey(c)&&s?.[c]==null?u=i.toPath(c):u=[c],u.length===0)return!1;let d=s;for(let p=0;p<u.length;p++){const m=u[p];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=a})(ux)),ux}var TT;function sZ(){return TT||(TT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nS(),n=P4(),r=rZ(),i=Kw(),a=aZ();function s(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return u=r.cloneDeep(u),function(d){const p=i.get(d,c);return p===void 0?a.has(d,c):u===void 0?p===void 0:t.isMatch(p,u)}}e.matchesProperty=s})(ox)),ox}var AT;function oZ(){return AT||(AT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iR(),n=XQ(),r=tZ(),i=sZ();function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(Wv)),Wv}var MT;function lZ(){return MT||(MT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FQ(),n=iR(),r=YQ(),i=oZ();function a(s,c=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(c)):[]}e.uniqBy=a})($v)),$v}var hx,_T;function cZ(){return _T||(_T=1,hx=lZ().uniqBy),hx}var uZ=cZ();const DT=Jr(uZ);function fR(e,t,n){return t===!0?DT(e,n):typeof t=="function"?DT(e,t):e}var rS=j.createContext(null),dZ=e=>e,kt=()=>{var e=j.useContext(rS);return e?e.store.dispatch:dZ},Bh=()=>{},fZ=()=>Bh,hZ=(e,t)=>e===t;function Se(e){var t=j.useContext(rS);return r4.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:fZ,t?t.store.getState:Bh,t?t.store.getState:Bh,t?e:Bh,hZ)}function pZ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function mZ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function gZ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var PT=e=>Array.isArray(e)?e:[e];function yZ(e){const t=Array.isArray(e[0])?e[0]:e;return gZ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function vZ(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var xZ=class{constructor(e){this.value=e}deref(){return this.value}},bZ=typeof WeakRef<"u"?WeakRef:xZ,wZ=0,RT=1;function fh(){return{s:wZ,v:void 0,o:null,p:null}}function hR(e,t={}){let n=fh();const{resultEqualityCheck:r}=t;let i,a=0;function s(){let c=n;const{length:u}=arguments;for(let m=0,y=u;m<y;m++){const v=arguments[m];if(typeof v=="function"||typeof v=="object"&&v!==null){let b=c.o;b===null&&(c.o=b=new WeakMap);const w=b.get(v);w===void 0?(c=fh(),b.set(v,c)):c=w}else{let b=c.p;b===null&&(c.p=b=new Map);const w=b.get(v);w===void 0?(c=fh(),b.set(v,c)):c=w}}const d=c;let p;if(c.s===RT)p=c.v;else if(p=e.apply(null,arguments),a++,r){const m=i?.deref?.()??i;m!=null&&r(m,p)&&(p=m,a!==0&&a--),i=typeof p=="object"&&p!==null||typeof p=="function"?new bZ(p):p}return d.s=RT,d.v=p,p}return s.clearCache=()=>{n=fh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function SZ(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,c,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),pZ(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const p={...n,...u},{memoize:m,memoizeOptions:y=[],argsMemoize:v=hR,argsMemoizeOptions:b=[]}=p,w=PT(y),S=PT(b),k=yZ(i),E=m(function(){return a++,d.apply(null,arguments)},...w),O=v(function(){s++;const T=vZ(k,arguments);return c=E.apply(null,T),c},...S);return Object.assign(O,{resultFunc:d,memoizedResultFunc:E,dependencies:k,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var W=SZ(hR),NZ=Object.assign((e,t=W)=>{mZ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,c,u)=>(s[n[u]]=c,s),{}))},{withTypes:()=>NZ}),px={},mx={},gx={},LT;function jZ(){return LT||(LT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),c=t(i);if(s===c&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-s:s-c}return 0};e.compareValues=n})(gx)),gx}var yx={},vx={},BT;function pR(){return BT||(BT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(vx)),vx}var IT;function kZ(){return IT||(IT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(yx)),yx}var zT;function EZ(){return zT||(zT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jZ(),n=kZ(),r=qw();function i(a,s,c,u){if(a==null)return[];c=u?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(v=>String(v));const d=(v,b)=>{let w=v;for(let S=0;S<b.length&&w!=null;++S)w=w[b[S]];return w},p=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:d(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?d(b,v):typeof b=="object"?b[v]:b,m=s.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:m.map(b=>p(b,v))})).slice().sort((v,b)=>{for(let w=0;w<m.length;w++){const S=t.compareValues(v.criteria[w],b.criteria[w],c[w]);if(S!==0)return S}return 0}).map(v=>v.original)}e.orderBy=i})(mx)),mx}var xx={},$T;function CZ(){return $T||($T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(c,u)=>{for(let d=0;d<c.length;d++){const p=c[d];Array.isArray(p)&&u<a?s(p,u+1):i.push(p)}};return s(n,0),i}e.flatten=t})(xx)),xx}var bx={},UT;function mR(){return UT||(UT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dR(),n=tS(),r=aR(),i=oR();function a(s,c,u){return r.isObject(u)&&(typeof c=="number"&&n.isArrayLike(u)&&t.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?i.eq(u[c],s):!1}e.isIterateeCall=a})(bx)),bx}var HT;function OZ(){return HT||(HT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EZ(),n=CZ(),r=mR();function i(a,...s){const c=s.length;return c>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:c>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(px)),px}var wx,qT;function TZ(){return qT||(qT=1,wx=OZ().sortBy),wx}var AZ=TZ();const Xm=Jr(AZ);var gR=e=>e.legend.settings,MZ=e=>e.legend.size,_Z=e=>e.legend.payload,DZ=W([_Z,gR],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Xm(r,n):r});function PZ(){return Se(DZ)}var hh=1;function yR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=j.useState({height:0,left:0,top:0,width:0}),r=j.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>hh||Math.abs(s.left-t.left)>hh||Math.abs(s.top-t.top)>hh||Math.abs(s.width-t.width)>hh)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function fn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var RZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",KT=RZ,Sx=()=>Math.random().toString(36).substring(7).split("").join("."),LZ={INIT:`@@redux/INIT${Sx()}`,REPLACE:`@@redux/REPLACE${Sx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sx()}`},Kp=LZ;function iS(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function vR(e,t,n){if(typeof e!="function")throw new Error(fn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fn(1));return n(vR)(e,t)}let r=e,i=t,a=new Map,s=a,c=0,u=!1;function d(){s===a&&(s=new Map,a.forEach((S,k)=>{s.set(k,S)}))}function p(){if(u)throw new Error(fn(3));return i}function m(S){if(typeof S!="function")throw new Error(fn(4));if(u)throw new Error(fn(5));let k=!0;d();const E=c++;return s.set(E,S),function(){if(k){if(u)throw new Error(fn(6));k=!1,d(),s.delete(E),a=null}}}function y(S){if(!iS(S))throw new Error(fn(7));if(typeof S.type>"u")throw new Error(fn(8));if(typeof S.type!="string")throw new Error(fn(17));if(u)throw new Error(fn(9));try{u=!0,i=r(i,S)}finally{u=!1}return(a=s).forEach(E=>{E()}),S}function v(S){if(typeof S!="function")throw new Error(fn(10));r=S,y({type:Kp.REPLACE})}function b(){const S=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(fn(11));function E(){const _=k;_.next&&_.next(p())}return E(),{unsubscribe:S(E)}},[KT](){return this}}}return y({type:Kp.INIT}),{dispatch:y,subscribe:m,getState:p,replaceReducer:v,[KT]:b}}function BZ(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Kp.INIT})>"u")throw new Error(fn(12));if(typeof n(void 0,{type:Kp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fn(13))})}function xR(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{BZ(n)}catch(a){i=a}return function(s={},c){if(i)throw i;let u=!1;const d={};for(let p=0;p<r.length;p++){const m=r[p],y=n[m],v=s[m],b=y(v,c);if(typeof b>"u")throw c&&c.type,new Error(fn(14));d[m]=b,u=u||b!==v}return u=u||r.length!==Object.keys(s).length,u?d:s}}function Vp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function IZ(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(fn(15))};const s={getState:i.getState,dispatch:(u,...d)=>a(u,...d)},c=e.map(u=>u(s));return a=Vp(...c)(i.dispatch),{...i,dispatch:a}}}function bR(e){return iS(e)&&"type"in e&&typeof e.type=="string"}var wR=Symbol.for("immer-nothing"),VT=Symbol.for("immer-draftable"),hr=Symbol.for("immer-state");function Gr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rl=Object.getPrototypeOf;function mo(e){return!!e&&!!e[hr]}function Zi(e){return e?SR(e)||Array.isArray(e)||!!e[VT]||!!e.constructor?.[VT]||bd(e)||Zm(e):!1}var zZ=Object.prototype.constructor.toString();function SR(e){if(!e||typeof e!="object")return!1;const t=Rl(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===zZ}function Fp(e,t){Qm(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Qm(e){const t=e[hr];return t?t.type_:Array.isArray(e)?1:bd(e)?2:Zm(e)?3:0}function e1(e,t){return Qm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function NR(e,t,n){const r=Qm(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function $Z(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function bd(e){return e instanceof Map}function Zm(e){return e instanceof Set}function zs(e){return e.copy_||e.base_}function t1(e,t){if(bd(e))return new Map(e);if(Zm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=SR(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[hr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(Rl(e),r)}else{const r=Rl(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function aS(e,t=!1){return Jm(e)||mo(e)||!Zi(e)||(Qm(e)>1&&Object.defineProperties(e,{set:{value:ph},add:{value:ph},clear:{value:ph},delete:{value:ph}}),Object.freeze(e),t&&Object.values(e).forEach(n=>aS(n,!0))),e}function ph(){Gr(2)}function Jm(e){return Object.isFrozen(e)}var UZ={};function go(e){const t=UZ[e];return t||Gr(0,e),t}var Xu;function jR(){return Xu}function HZ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FT(e,t){t&&(go("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function n1(e){r1(e),e.drafts_.forEach(qZ),e.drafts_=null}function r1(e){e===Xu&&(Xu=e.parent_)}function WT(e){return Xu=HZ(Xu,e)}function qZ(e){const t=e[hr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function GT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[hr].modified_&&(n1(t),Gr(4)),Zi(e)&&(e=Wp(t,e),t.parent_||Gp(t,e)),t.patches_&&go("Patches").generateReplacementPatches_(n[hr].base_,e,t.patches_,t.inversePatches_)):e=Wp(t,n,[]),n1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wR?e:void 0}function Wp(e,t,n){if(Jm(t))return t;const r=t[hr];if(!r)return Fp(t,(i,a)=>YT(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Gp(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,s=!1;r.type_===3&&(a=new Set(i),i.clear(),s=!0),Fp(a,(c,u)=>YT(e,r,i,c,u,n,s)),Gp(e,i,!1),n&&e.patches_&&go("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function YT(e,t,n,r,i,a,s){if(mo(i)){const c=a&&t&&t.type_!==3&&!e1(t.assigned_,r)?a.concat(r):void 0,u=Wp(e,i,c);if(NR(n,r,u),mo(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Zi(i)&&!Jm(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Wp(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(bd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Gp(e,i)}}function Gp(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&aS(t,n)}function KZ(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:jR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=sS;n&&(i=[r],a=Qu);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=s,c}var sS={get(e,t){if(t===hr)return e;const n=zs(e);if(!e1(n,t))return VZ(e,n,t);const r=n[t];return e.finalized_||!Zi(r)?r:r===Nx(e.base_,t)?(jx(e),e.copy_[t]=a1(r,e)):r},has(e,t){return t in zs(e)},ownKeys(e){return Reflect.ownKeys(zs(e))},set(e,t,n){const r=kR(zs(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Nx(zs(e),t),a=i?.[hr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if($Z(n,i)&&(n!==void 0||e1(e.base_,t)))return!0;jx(e),i1(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Nx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,jx(e),i1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=zs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Gr(11)},getPrototypeOf(e){return Rl(e.base_)},setPrototypeOf(){Gr(12)}},Qu={};Fp(sS,(e,t)=>{Qu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Qu.deleteProperty=function(e,t){return Qu.set.call(this,e,t,void 0)};Qu.set=function(e,t,n){return sS.set.call(this,e[0],t,n,e[0])};function Nx(e,t){const n=e[hr];return(n?zs(n):e)[t]}function VZ(e,t,n){const r=kR(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function kR(e,t){if(!(t in e))return;let n=Rl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Rl(n)}}function i1(e){e.modified_||(e.modified_=!0,e.parent_&&i1(e.parent_))}function jx(e){e.copy_||(e.copy_=t1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var FZ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(u=a,...d){return s.produce(u,p=>n.call(this,p,...d))}}typeof n!="function"&&Gr(6),r!==void 0&&typeof r!="function"&&Gr(7);let i;if(Zi(t)){const a=WT(this),s=a1(t,void 0);let c=!0;try{i=n(s),c=!1}finally{c?n1(a):r1(a)}return FT(a,r),GT(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===wR&&(i=void 0),this.autoFreeze_&&aS(i,!0),r){const a=[],s=[];go("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else Gr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,u=>t(u,...c));let r,i;return[this.produce(t,n,(s,c)=>{r=s,i=c}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Zi(e)||Gr(8),mo(e)&&(e=Yi(e));const t=WT(this),n=a1(e,void 0);return n[hr].isManual_=!0,r1(t),n}finishDraft(e,t){const n=e&&e[hr];(!n||!n.isManual_)&&Gr(9);const{scope_:r}=n;return FT(r,t),GT(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=go("Patches").applyPatches_;return mo(e)?r(e,t):this.produce(e,i=>r(i,t))}};function a1(e,t){const n=bd(e)?go("MapSet").proxyMap_(e,t):Zm(e)?go("MapSet").proxySet_(e,t):KZ(e,t);return(t?t.scope_:jR()).drafts_.push(n),n}function Yi(e){return mo(e)||Gr(10,e),ER(e)}function ER(e){if(!Zi(e)||Jm(e))return e;const t=e[hr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=t1(e,t.scope_.immer_.useStrictShallowCopy_)}else n=t1(e,!0);return Fp(n,(r,i)=>{NR(n,r,ER(i))}),t&&(t.finalized_=!1),n}var WZ=new FZ,CR=WZ.produce;function OR(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var GZ=OR(),YZ=OR,XZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vp:Vp.apply(null,arguments)};function Ur(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(fr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>bR(r)&&r.type===e,n}var TR=class Su extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Su.prototype)}static get[Symbol.species](){return Su}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Su(...t[0].concat(this)):new Su(...t.concat(this))}};function XT(e){return Zi(e)?CR(e,()=>{}):e}function mh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function QZ(e){return typeof e=="boolean"}var ZZ=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new TR;return n&&(QZ(n)?s.push(GZ):s.push(YZ(n.extraArgument))),s},JZ="RTK_autoBatch",QT=e=>t=>{setTimeout(t,e)},eJ=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const c=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:QT(10):e.type==="callback"?e.queueNotification:QT(e.timeout),d=()=>{s=!1,a&&(a=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>i&&p(),y=r.subscribe(m);return c.add(p),()=>{y(),c.delete(p)}},dispatch(p){try{return i=!p?.meta?.[JZ],a=!i,a&&(s||(s=!0,u(d))),r.dispatch(p)}finally{i=!0}}})},tJ=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new TR(e);return r&&i.push(eJ(typeof r=="object"?r:void 0)),i};function nJ(e){const t=ZZ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(iS(n))c=xR(n);else throw new Error(fr(1));let u;typeof r=="function"?u=r(t):u=t();let d=Vp;i&&(d=XZ({trace:!1,...typeof i=="object"&&i}));const p=IZ(...u),m=tJ(p);let y=typeof s=="function"?s(m):m();const v=d(...y);return vR(c,a,v)}function AR(e){const t={},n=[];let r;const i={addCase(a,s){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(fr(28));if(c in t)throw new Error(fr(29));return t[c]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function rJ(e){return typeof e=="function"}function iJ(e,t){let[n,r,i]=AR(t),a;if(rJ(e))a=()=>XT(e());else{const c=XT(e);a=()=>c}function s(c=a(),u){let d=[n[u.type],...r.filter(({matcher:p})=>p(u)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[i]),d.reduce((p,m)=>{if(m)if(mo(p)){const v=m(p,u);return v===void 0?p:v}else{if(Zi(p))return CR(p,y=>m(y,u));{const y=m(p,u);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},c)}return s.getInitialState=a,s}var aJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sJ=(e=21)=>{let t="",n=e;for(;n--;)t+=aJ[Math.random()*64|0];return t},oJ=Symbol.for("rtk-slice-createasyncthunk");function lJ(e,t){return`${e}/${t}`}function cJ({creators:e}={}){const t=e?.asyncThunk?.[oJ];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(fr(11));const s=(typeof r.reducers=="function"?r.reducers(dJ()):r.reducers)||{},c=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(O,_){const T=typeof O=="string"?O:O.type;if(!T)throw new Error(fr(12));if(T in u.sliceCaseReducersByType)throw new Error(fr(13));return u.sliceCaseReducersByType[T]=_,d},addMatcher(O,_){return u.sliceMatchers.push({matcher:O,reducer:_}),d},exposeAction(O,_){return u.actionCreators[O]=_,d},exposeCaseReducer(O,_){return u.sliceCaseReducersByName[O]=_,d}};c.forEach(O=>{const _=s[O],T={reducerName:O,type:lJ(i,O),createNotation:typeof r.reducers=="function"};hJ(_)?mJ(T,_,d,t):fJ(T,_,d)});function p(){const[O={},_=[],T=void 0]=typeof r.extraReducers=="function"?AR(r.extraReducers):[r.extraReducers],M={...O,...u.sliceCaseReducersByType};return iJ(r.initialState,D=>{for(let B in M)D.addCase(B,M[B]);for(let B of u.sliceMatchers)D.addMatcher(B.matcher,B.reducer);for(let B of _)D.addMatcher(B.matcher,B.reducer);T&&D.addDefaultCase(T)})}const m=O=>O,y=new Map,v=new WeakMap;let b;function w(O,_){return b||(b=p()),b(O,_)}function S(){return b||(b=p()),b.getInitialState()}function k(O,_=!1){function T(D){let B=D[O];return typeof B>"u"&&_&&(B=mh(v,T,S)),B}function M(D=m){const B=mh(y,_,()=>new WeakMap);return mh(B,D,()=>{const q={};for(const[L,K]of Object.entries(r.selectors??{}))q[L]=uJ(K,D,()=>mh(v,D,S),_);return q})}return{reducerPath:O,getSelectors:M,get selectors(){return M(T)},selectSlice:T}}const E={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...k(a),injectInto(O,{reducerPath:_,...T}={}){const M=_??a;return O.inject({reducerPath:M,reducer:w},T),{...E,...k(M,!0)}}};return E}}function uJ(e,t,n,r){function i(a,...s){let c=t(a);return typeof c>"u"&&r&&(c=n()),e(c,...s)}return i.unwrapped=e,i}var gr=cJ();function dJ(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function fJ({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!pJ(r))throw new Error(fr(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Ur(e,s):Ur(e))}function hJ(e){return e._reducerDefinitionType==="asyncThunk"}function pJ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function mJ({type:e,reducerName:t},n,r,i){if(!i)throw new Error(fr(18));const{payloadCreator:a,fulfilled:s,pending:c,rejected:u,settled:d,options:p}=n,m=i(e,a,p);r.exposeAction(t,m),s&&r.addCase(m.fulfilled,s),c&&r.addCase(m.pending,c),u&&r.addCase(m.rejected,u),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(t,{fulfilled:s||gh,pending:c||gh,rejected:u||gh,settled:d||gh})}function gh(){}var gJ="task",MR="listener",_R="completed",oS="cancelled",yJ=`task-${oS}`,vJ=`task-${_R}`,s1=`${MR}-${oS}`,xJ=`${MR}-${_R}`,eg=class{constructor(e){this.code=e,this.message=`${gJ} ${oS} (reason: ${e})`}name="TaskAbortError";message},lS=(e,t)=>{if(typeof e!="function")throw new TypeError(fr(32))},Yp=()=>{},DR=(e,t=Yp)=>(e.catch(t),e),PR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ro=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},io=e=>{if(e.aborted){const{reason:t}=e;throw new eg(t)}};function RR(e,t){let n=Yp;return new Promise((r,i)=>{const a=()=>i(new eg(e.reason));if(e.aborted){a();return}n=PR(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Yp})}var bJ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof eg?"cancelled":"rejected",error:n}}finally{t?.()}},Xp=e=>t=>DR(RR(e,t).then(n=>(io(e),n))),LR=e=>{const t=Xp(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Nl}=Object,ZT={},tg="listenerMiddleware",wJ=(e,t)=>{const n=r=>PR(e,()=>ro(r,e.reason));return(r,i)=>{lS(r);const a=new AbortController;n(a);const s=bJ(async()=>{io(e),io(a.signal);const c=await r({pause:Xp(a.signal),delay:LR(a.signal),signal:a.signal});return io(a.signal),c},()=>ro(a,vJ));return i?.autoJoin&&t.push(s.catch(Yp)),{result:Xp(e)(s),cancel(){ro(a,yJ)}}}},SJ=(e,t)=>{const n=async(r,i)=>{io(t);let a=()=>{};const c=[new Promise((u,d)=>{let p=e({predicate:r,effect:(m,y)=>{y.unsubscribe(),u([m,y.getState(),y.getOriginalState()])}});a=()=>{p(),d()}})];i!=null&&c.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await RR(t,Promise.race(c));return io(t),u}finally{a()}};return(r,i)=>DR(n(r,i))},BR=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Ur(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(fr(21));return lS(a),{predicate:i,type:t,effect:a}},IR=Nl(e=>{const{type:t,predicate:n,effect:r}=BR(e);return{id:sJ(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(fr(22))}}},{withTypes:()=>IR}),JT=(e,t)=>{const{type:n,effect:r,predicate:i}=BR(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},o1=e=>{e.pending.forEach(t=>{ro(t,s1)})},NJ=e=>()=>{e.forEach(o1),e.clear()},eA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},zR=Nl(Ur(`${tg}/add`),{withTypes:()=>zR}),jJ=Ur(`${tg}/removeAll`),$R=Nl(Ur(`${tg}/remove`),{withTypes:()=>$R}),kJ=(...e)=>{console.error(`${tg}/error`,...e)},wd=(e={})=>{const t=new Map,{extra:n,onError:r=kJ}=e;lS(r);const i=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m?.cancelActive&&o1(p)}),a=p=>{const m=JT(t,p)??IR(p);return i(m)};Nl(a,{withTypes:()=>a});const s=p=>{const m=JT(t,p);return m&&(m.unsubscribe(),p.cancelActive&&o1(m)),!!m};Nl(s,{withTypes:()=>s});const c=async(p,m,y,v)=>{const b=new AbortController,w=SJ(a,b.signal),S=[];try{p.pending.add(b),await Promise.resolve(p.effect(m,Nl({},y,{getOriginalState:v,condition:(k,E)=>w(k,E).then(Boolean),take:w,delay:LR(b.signal),pause:Xp(b.signal),extra:n,signal:b.signal,fork:wJ(b.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((k,E,O)=>{k!==b&&(ro(k,s1),O.delete(k))})},cancel:()=>{ro(b,s1),p.pending.delete(b)},throwIfCancelled:()=>{io(b.signal)}})))}catch(k){k instanceof eg||eA(r,k,{raisedBy:"effect"})}finally{await Promise.all(S),ro(b,xJ),p.pending.delete(b)}},u=NJ(t);return{middleware:p=>m=>y=>{if(!bR(y))return m(y);if(zR.match(y))return a(y.payload);if(jJ.match(y)){u();return}if($R.match(y))return s(y.payload);let v=p.getState();const b=()=>{if(v===ZT)throw new Error(fr(23));return v};let w;try{if(w=m(y),t.size>0){const S=p.getState(),k=Array.from(t.values());for(const E of k){let O=!1;try{O=E.predicate(y,S,v)}catch(_){O=!1,eA(r,_,{raisedBy:"predicate"})}O&&c(E,y,p,b)}}}finally{v=ZT}return w},startListening:a,stopListening:s,clearListeners:u}};function fr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var EJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},UR=gr({name:"chartLayout",initialState:EJ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:CJ,setLayout:OJ,setChartSize:TJ,setScale:AJ}=UR.actions,MJ=UR.reducer;function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(r){_J(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _J(e,t,n){return(t=DJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DJ(e){var t=PJ(e,"string");return typeof t=="symbol"?t:t+""}function PJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qp=Math.PI/180,RJ=e=>e*180/Math.PI,zt=(e,t,n,r)=>({x:e+Math.cos(-Qp*r)*n,y:t+Math.sin(-Qp*r)*n}),HR=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},LJ=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},BJ=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=LJ({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var c=(n-i)/s,u=Math.acos(c);return r>a&&(u=2*Math.PI-u),{radius:s,angle:RJ(u),angleInRadian:u}},IJ=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},zJ=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},$J=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=BJ({x:n,y:r},t),{innerRadius:s,outerRadius:c}=t;if(i<s||i>c||i===0)return null;var{startAngle:u,endAngle:d}=IJ(t),p=a,m;if(u<=d){for(;p>d;)p-=360;for(;p<u;)p+=360;m=p>=u&&p<=d}else{for(;p>u;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=u}return m?nA(nA({},t),{},{radius:i,angle:zJ(p,t)}):null};function qR(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){UJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UJ(e,t,n){return(t=HJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HJ(e){var t=qJ(e,"string");return typeof t=="symbol"?t:t+""}function qJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dt(e,t,n){return bt(e)||bt(t)?n:yi(t)?po(e,t,n):typeof t=="function"?t(e):n}var KJ=(e,t,n,r,i)=>{var a,s=-1,c=(a=t?.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var d=u>0?n[u-1].coordinate:n[c-1].coordinate,p=n[u].coordinate,m=u>=c-1?n[0].coordinate:n[u+1].coordinate,y=void 0;if(yn(p-d)!==yn(m-p)){var v=[];if(yn(m-p)===yn(i[1]-i[0])){y=m;var b=p+i[1]-i[0];v[0]=Math.min(b,(b+d)/2),v[1]=Math.max(b,(b+d)/2)}else{y=d;var w=m+i[1]-i[0];v[0]=Math.min(p,(w+p)/2),v[1]=Math.max(p,(w+p)/2)}var S=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>S[0]&&e<=S[1]||e>=v[0]&&e<=v[1]){({index:s}=n[u]);break}}else{var k=Math.min(d,m),E=Math.max(d,m);if(e>(k+p)/2&&e<=(E+p)/2){({index:s}=n[u]);break}}}else if(t){for(var O=0;O<c;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:s}=t[O]);break}}return s},VJ=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:c}=t;if((c==="vertical"||c==="horizontal"&&s==="middle")&&a!=="center"&&Pe(e[a]))return Pr(Pr({},e),{},{[a]:e[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&s!=="middle"&&Pe(e[s]))return Pr(Pr({},e),{},{[s]:e[s]+(i||0)})}return e},fs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",iA=1e-4,FJ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-iA,a=Math.max(r[0],r[1])+iA,s=e(t[0]),c=e(t[n-1]);(s<i||s>a||c<i||c>a)&&e.domain([t[0],t[n-1]])}},WJ=(e,t)=>{if(!t||t.length!==2||!Pe(t[0])||!Pe(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Pe(e[0])||e[0]<n)&&(i[0]=n),(!Pe(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},GJ=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var c=$r(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=i,e[s][n][1]=i+c,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1])}},YJ=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=$r(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},XJ={sign:GJ,expand:AQ,none:Pl,silhouette:MQ,wiggle:_Q,positive:YJ},QJ=(e,t,n)=>{var r=XJ[n],i=TQ().keys(t).value((a,s)=>+dt(a,s,0)).order(Qb).offset(r);return i(e)};function ZJ(e){return e==null?void 0:String(e)}function aA(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!bt(i[t.dataKey])){var c=L4(n,"value",i[t.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=dt(i,bt(s)?t.dataKey:s);return bt(u)?null:t.scale(u)}var sA=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return n[s]?n[s].coordinate+r:null;var c=dt(a,t.dataKey,t.scale.domain()[s]);return bt(c)?null:t.scale(c)-i/2+r},JJ=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},eee=e=>{var t=e.flat(2).filter(Pe);return[Math.min(...t),Math.max(...t)]},tee=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],nee=(e,t,n)=>{if(e!=null)return tee(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,c=s.reduce((u,d)=>{var p=qR(d,t,n),m=eee(p);return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},oA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zu=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Xm(t,p=>p.coordinate),a=1/0,s=1,c=i.length;s<c;s++){var u=i[s],d=i[s-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function cA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Pr(Pr({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Ql(e,t){if(e)return String(e);if(typeof t=="string")return t}function ree(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return r?$J({x:e,y:t},r):null}var iee=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Pr(Pr(Pr({},r),zt(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var c=i.coordinate,{angle:u}=r;return Pr(Pr(Pr({},r),zt(r.cx,r.cy,c,u)),{},{angle:u,radius:c})}return{x:0,y:0}},aee=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,sa=e=>e.layout.width,oa=e=>e.layout.height,see=e=>e.layout.scale,KR=e=>e.layout.margin,ng=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),rg=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),VR="data-recharts-item-index",FR="data-recharts-item-data-key",Sd=60;function uA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(n),!0).forEach(function(r){oee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oee(e,t,n){return(t=lee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lee(e){var t=cee(e,"string");return typeof t=="symbol"?t:t+""}function cee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uee=e=>e.brush.height;function dee(e){var t=rg(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Sd;return n+i}return n},0)}function fee(e){var t=rg(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Sd;return n+i}return n},0)}function hee(e){var t=ng(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function pee(e){var t=ng(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Gt=W([sa,oa,KR,uee,dee,fee,hee,pee,gR,MZ],(e,t,n,r,i,a,s,c,u,d)=>{var p={left:(n.left||0)+i,right:(n.right||0)+a},m={top:(n.top||0)+s,bottom:(n.bottom||0)+c},y=yh(yh({},m),p),v=y.bottom;y.bottom+=r,y=VJ(y,u,d);var b=e-y.left-y.right,w=t-y.top-y.bottom;return yh(yh({brushBottom:v},y),{},{width:Math.max(b,0),height:Math.max(w,0)})}),mee=W(Gt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),cS=W(sa,oa,(e,t)=>({x:0,y:0,width:e,height:t})),gee=j.createContext(null),yr=()=>j.useContext(gee)!=null,ig=e=>e.brush,ag=W([ig,Gt,KR],(e,t,n)=>({height:e.height,x:Pe(e.x)?e.x:t.left,y:Pe(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Pe(e.width)?e.width:t.width})),uS=()=>{var e,t=yr(),n=Se(mee),r=Se(ag),i=(e=Se(ig))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},yee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vee=()=>{var e;return(e=Se(Gt))!==null&&e!==void 0?e:yee},WR=()=>Se(sa),GR=()=>Se(oa),xee=()=>Se(e=>e.layout.margin),We=e=>e.layout.layoutType,sg=()=>Se(We),bee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},YR=gr({name:"legend",initialState:bee,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Yi(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:dA,setLegendSettings:wee,addLegendPayload:XR,removeLegendPayload:QR}=YR.actions,See=YR.reducer,Nee=["contextPayload"];function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l1.apply(null,arguments)}function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(r){dS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dS(e,t,n){return(t=jee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jee(e){var t=kee(e,"string");return typeof t=="symbol"?t:t+""}function kee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eee(e,t){if(e==null)return{};var n,r,i=Cee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Oee(e){return e.value}function Tee(e){var{contextPayload:t}=e,n=Eee(e,Nee),r=fR(t,e.payloadUniqBy,Oee),i=Ll(Ll({},n),{},{payload:r});return j.isValidElement(e.content)?j.cloneElement(e.content,i):typeof e.content=="function"?j.createElement(e.content,i):j.createElement(eS,i)}function Aee(e,t,n,r,i,a){var{layout:s,align:c,verticalAlign:u}=t,d,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&s==="vertical"?d={left:((r||0)-a.width)/2}:d=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?p={top:((i||0)-a.height)/2}:p=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Ll(Ll({},d),p)}function Mee(e){var t=kt();return j.useEffect(()=>{t(wee(e))},[t,e]),null}function _ee(e){var t=kt();return j.useEffect(()=>(t(dA(e)),()=>{t(dA({width:0,height:0}))}),[t,e]),null}function Dee(e){var t=PZ(),n=JX(),r=xee(),{width:i,height:a,wrapperStyle:s,portal:c}=e,[u,d]=yR([t]),p=WR(),m=GR();if(p==null||m==null)return null;var y=p-(r.left||0)-(r.right||0),v=jl.getWidthOrHeight(e.layout,a,i,y),b=c?s:Ll(Ll({position:"absolute",width:v?.width||i||"auto",height:v?.height||a||"auto"},Aee(s,e,r,p,m,u)),s),w=c??n;if(w==null)return null;var S=j.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:d},j.createElement(Mee,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),j.createElement(_ee,{width:u.width,height:u.height}),j.createElement(Tee,l1({},e,v,{margin:r,chartWidth:p,chartHeight:m,contextPayload:t})));return G1.createPortal(S,w)}class jl extends j.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&Pe(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return j.createElement(Dee,this.props)}}dS(jl,"displayName","Legend");dS(jl,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function c1(){return c1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c1.apply(null,arguments)}function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(r){Pee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pee(e,t,n){return(t=Ree(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ree(e){var t=Lee(e,"string");return typeof t=="symbol"?t:t+""}function Lee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bee(e){return Array.isArray(e)&&yi(e[0])&&yi(e[1])?e.join(" ~ "):e}var Iee=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:c,wrapperClassName:u,labelClassName:d,label:p,labelFormatter:m,accessibilityLayer:y=!1}=e,v=()=>{if(a&&a.length){var T={padding:0,margin:0},M=(c?Xm(a,c):a).map((D,B)=>{if(D.type==="none")return null;var q=D.formatter||s||Bee,{value:L,name:K}=D,V=L,te=K;if(q){var oe=q(L,K,D,B,a);if(Array.isArray(oe))[V,te]=oe;else if(oe!=null)V=oe;else return null}var ue=kx({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:ue},yi(te)?j.createElement("span",{className:"recharts-tooltip-item-name"},te):null,yi(te)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},V),j.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:T},M)}return null},b=kx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=kx({margin:0},i),S=!bt(p),k=S?p:"",E=Ye("recharts-default-tooltip",u),O=Ye("recharts-tooltip-label",d);S&&m&&a!==void 0&&a!==null&&(k=m(p,a));var _=y?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",c1({className:E,style:b},_),j.createElement("p",{className:O,style:w},j.isValidElement(k)?k:"".concat(k)),v())},uu="recharts-tooltip-wrapper",zee={visibility:"hidden"};function $ee(e){var{coordinate:t,translateX:n,translateY:r}=e;return Ye(uu,{["".concat(uu,"-right")]:Pe(n)&&t&&Pe(t.x)&&n>=t.x,["".concat(uu,"-left")]:Pe(n)&&t&&Pe(t.x)&&n<t.x,["".concat(uu,"-bottom")]:Pe(r)&&t&&Pe(t.y)&&r>=t.y,["".concat(uu,"-top")]:Pe(r)&&t&&Pe(t.y)&&r<t.y})}function pA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:c,viewBox:u,viewBoxDimension:d}=e;if(a&&Pe(a[r]))return a[r];var p=n[r]-c-(i>0?i:0),m=n[r]+i;if(t[r])return s[r]?p:m;var y=u[r];if(y==null)return 0;if(s[r]){var v=p,b=y;return v<b?Math.max(m,y):Math.max(p,y)}if(d==null)return 0;var w=m+c,S=y+d;return w>S?Math.max(p,y):Math.max(m,y)}function Uee(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Hee(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:c,viewBox:u}=e,d,p,m;return s.height>0&&s.width>0&&n?(p=pA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),m=pA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),d=Uee({translateX:p,translateY:m,useTranslate3d:c})):d=zee,{cssProperties:d,cssClasses:$ee({translateX:p,translateY:m,coordinate:n})}}function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(n),!0).forEach(function(r){u1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u1(e,t,n){return(t=qee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qee(e){var t=Kee(e,"string");return typeof t=="symbol"?t:t+""}function Kee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Vee extends j.PureComponent{constructor(){super(...arguments),u1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),u1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:c,isAnimationActive:u,offset:d,position:p,reverseDirection:m,useTranslate3d:y,viewBox:v,wrapperStyle:b,lastBoundingBox:w,innerRef:S,hasPortalFromProps:k}=this.props,{cssClasses:E,cssProperties:O}=Hee({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:d,position:p,reverseDirection:m,tooltipBox:{height:w.height,width:w.width},useTranslate3d:y,viewBox:v}),_=k?{}:vh(vh({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),T=vh(vh({},_),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},b);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:T,ref:S},a)}}var Fee=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hs={devToolsEnabled:!1,isSsr:Fee()},ZR=()=>Se(e=>e.rootProps.accessibilityLayer);function pr(e){return Number.isFinite(e)}function Bl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d1.apply(null,arguments)}function gA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(n),!0).forEach(function(r){Wee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wee(e,t,n){return(t=Gee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gee(e){var t=Yee(e,"string");return typeof t=="symbol"?t:t+""}function Yee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vA={curveBasisClosed:vQ,curveBasisOpen:xQ,curveBasis:yQ,curveBumpX:rQ,curveBumpY:iQ,curveLinearClosed:bQ,curveLinear:Gm,curveMonotoneX:wQ,curveMonotoneY:SQ,curveNatural:NQ,curveStep:jQ,curveStepAfter:EQ,curveStepBefore:kQ},xh=e=>pr(e.x)&&pr(e.y),du=e=>e.x,fu=e=>e.y,Xee=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(vd(e));return(n==="curveMonotone"||n==="curveBump")&&t?vA["".concat(n).concat(t==="vertical"?"Y":"X")]:vA[n]||Gm},Qee=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=Xee(t,i),c=a?n.filter(xh):n,u;if(Array.isArray(r)){var d=a?r.filter(m=>xh(m)):r,p=c.map((m,y)=>yA(yA({},m),{},{base:d[y]}));return i==="vertical"?u=dh().y(fu).x1(du).x0(m=>m.base.x):u=dh().x(du).y1(fu).y0(m=>m.base.y),u.defined(xh).curve(s),u(p)}return i==="vertical"&&Pe(r)?u=dh().y(fu).x1(du).x0(r):Pe(r)?u=dh().x(du).y1(fu).y0(r):u=F4().x(du).y(fu),u.defined(xh).curve(s),u(c)},fS=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Qee(e):r;return j.createElement("path",d1({},aa(e),Fw(e),{className:Ye("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Zee=["x","y","top","left","width","height","className"];function f1(){return f1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f1.apply(null,arguments)}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){ete(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ete(e,t,n){return(t=tte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tte(e){var t=nte(e,"string");return typeof t=="symbol"?t:t+""}function nte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rte(e,t){if(e==null)return{};var n,r,i=ite(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ite(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ate=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),ste=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:c}=e,u=rte(e,Zee),d=Jee({x:t,y:n,top:r,left:i,width:a,height:s},u);return!Pe(t)||!Pe(n)||!Pe(a)||!Pe(s)||!Pe(r)||!Pe(i)?null:j.createElement("path",f1({},jt(d,!0),{className:Ye("recharts-cross",c),d:ate(t,n,a,s,r,i)}))};function ote(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(n),!0).forEach(function(r){cte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cte(e,t,n){return(t=ute(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ute(e){var t=dte(e,"string");return typeof t=="symbol"?t:t+""}function dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function An(e,t){var n=lte({},e),r=t,i=Object.keys(t),a=i.reduce((s,c)=>(s[c]===void 0&&r[c]!==void 0&&(s[c]=r[c]),s),n);return a}function fte(){}function wA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(n),!0).forEach(function(r){hte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hte(e,t,n){return(t=pte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pte(e){var t=mte(e,"string");return typeof t=="symbol"?t:t+""}function mte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gte=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),JR=(e,t,n)=>e.map(r=>"".concat(gte(r)," ").concat(t,"ms ").concat(n)).join(","),yte=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ju=(e,t)=>Object.keys(t).reduce((n,r)=>SA(SA({},n),{},{[r]:e(r,t[r])}),{});function NA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(n),!0).forEach(function(r){vte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vte(e,t,n){return(t=xte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xte(e){var t=bte(e,"string");return typeof t=="symbol"?t:t+""}function bte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zp=(e,t,n)=>e+(t-e)*n,h1=e=>{var{from:t,to:n}=e;return t!==n},e5=(e,t,n)=>{var r=Ju((i,a)=>{if(h1(a)){var[s,c]=e(a.from,a.to,a.velocity);return pn(pn({},a),{},{from:s,velocity:c})}return a},t);return n<1?Ju((i,a)=>h1(a)?pn(pn({},a),{},{velocity:Zp(a.velocity,r[i].velocity,n),from:Zp(a.from,r[i].from,n)}):a,t):e5(e,r,n-1)};function wte(e,t,n,r,i,a){var s,c=r.reduce((y,v)=>pn(pn({},y),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),u=()=>Ju((y,v)=>v.from,c),d=()=>!Object.values(c).filter(h1).length,p=null,m=y=>{s||(s=y);var v=y-s,b=v/n.dt;c=e5(n,c,b),i(pn(pn(pn({},e),t),u())),s=y,d()||(p=a.setTimeout(m))};return()=>(p=a.setTimeout(m),()=>{p()})}function Ste(e,t,n,r,i,a,s){var c=null,u=i.reduce((m,y)=>pn(pn({},m),{},{[y]:[e[y],t[y]]}),{}),d,p=m=>{d||(d=m);var y=(m-d)/r,v=Ju((w,S)=>Zp(...S,n(y)),u);if(a(pn(pn(pn({},e),t),v)),y<1)c=s.setTimeout(p);else{var b=Ju((w,S)=>Zp(...S,n(1)),u);a(pn(pn(pn({},e),t),b))}};return()=>(c=s.setTimeout(p),()=>{c()})}const Nte=(e,t,n,r,i,a)=>{var s=yte(e,t);return n.isStepper===!0?wte(e,t,n,s,i,a):Ste(e,t,n,r,s,i,a)};var Jp=1e-4,t5=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],n5=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),jA=(e,t)=>n=>{var r=t5(e,t);return n5(r,n)},jte=(e,t)=>n=>{var r=t5(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return n5(i,n)},kA=function(){for(var t,n,r,i,a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];if(s.length===1)switch(s[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var u=s[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,r,n,i]=u[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else s.length===4&&([t,r,n,i]=s);var d=jA(t,n),p=jA(r,i),m=jte(t,n),y=b=>b>1?1:b<0?0:b,v=b=>{for(var w=b>1?1:b,S=w,k=0;k<8;++k){var E=d(S)-w,O=m(S);if(Math.abs(E-w)<Jp||O<Jp)return p(S);S=y(S-E/O)}return p(S)};return v.isStepper=!1,v},kte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,c,u)=>{var d=-(s-c)*n,p=u*r,m=u+(d-p)*i/1e3,y=u*i/1e3+s;return Math.abs(y-c)<Jp&&Math.abs(m)<Jp?[c,0]:[y,m]};return a.isStepper=!0,a.dt=i,a},Ete=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kA(e);case"spring":return kte();default:if(e.split("(")[0]==="cubic-bezier")return kA(e)}return typeof e=="function"?e:null};function Cte(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,[u,...d]=c;if(typeof u=="number"){i=e.setTimeout(a.bind(null,d),u);return}a(u),i=e.setTimeout(a.bind(null,d));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class Ote{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function Tte(){return Cte(new Ote)}var Ate=j.createContext(Tte);function Mte(e,t){var n=j.useContext(Ate);return j.useMemo(()=>t??n(e),[e,t,n])}var _te={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},EA={t:0},Ex={t:1};function Nd(e){var t=An(e,_te),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:c,onAnimationStart:u,children:d}=t,p=Mte(t.animationId,t.animationManager),[m,y]=j.useState(n?EA:Ex),v=j.useRef(null);return j.useEffect(()=>{n||y(Ex)},[n]),j.useEffect(()=>{if(!n||!r)return fte;var b=Nte(EA,Ex,Ete(a),i,y,p.getTimeoutController()),w=()=>{v.current=b()};return p.start([u,s,w,i,c]),()=>{p.stop(),v.current&&v.current(),c()}},[n,r,i,a,s,u,c,p]),d(m.t)}function jd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=j.useRef(Yu(t)),r=j.useRef(e);return r.current!==e&&(n.current=Yu(t),r.current=e),n.current}function CA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(n),!0).forEach(function(r){Dte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dte(e,t,n){return(t=Pte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pte(e){var t=Rte(e,"string");return typeof t=="symbol"?t:t+""}function Rte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},em.apply(null,arguments)}var TA=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,c=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var p=[0,0,0,0],m=0,y=4;m<y;m++)p[m]=i[m]>a?a:i[m];d="M".concat(e,",").concat(t+s*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(e+c*p[0],",").concat(t)),d+="L ".concat(e+n-c*p[1],",").concat(t),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+s*p[1])),d+="L ".concat(e+n,",").concat(t+r-s*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(e+n-c*p[2],",").concat(t+r)),d+="L ".concat(e+c*p[3],",").concat(t+r),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-s*p[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);d="M ".concat(e,",").concat(t+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(t,`
            L `).concat(e+n-c*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(t+s*v,`
            L `).concat(e+n,",").concat(t+r-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-c*v,",").concat(t+r,`
            L `).concat(e+c*v,",").concat(t+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(t+r-s*v," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},Lte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},r5=e=>{var t=An(e,Lte),n=j.useRef(null),[r,i]=j.useState(-1);j.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var oe=n.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:a,y:s,width:c,height:u,radius:d,className:p}=t,{animationEasing:m,animationDuration:y,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:w}=t,S=j.useRef(c),k=j.useRef(u),E=j.useRef(a),O=j.useRef(s),_=j.useMemo(()=>({x:a,y:s,width:c,height:u,radius:d}),[a,s,c,u,d]),T=jd(_,"rectangle-");if(a!==+a||s!==+s||c!==+c||u!==+u||c===0||u===0)return null;var M=Ye("recharts-rectangle",p);if(!w)return j.createElement("path",em({},jt(t,!0),{className:M,d:TA(a,s,c,u,d)}));var D=S.current,B=k.current,q=E.current,L=O.current,K="0px ".concat(r===-1?1:r,"px"),V="".concat(r,"px 0px"),te=JR(["strokeDasharray"],y,typeof m=="string"?m:void 0);return j.createElement(Nd,{animationId:T,key:T,canBegin:r>0,duration:y,easing:m,isActive:w,begin:v},oe=>{var ue=At(D,c,oe),$=At(B,u,oe),J=At(q,a,oe),he=At(L,s,oe);n.current&&(S.current=ue,k.current=$,E.current=J,O.current=he);var be;return b?oe>0?be={transition:te,strokeDasharray:V}:be={strokeDasharray:K}:be={strokeDasharray:V},j.createElement("path",em({},jt(t,!0),{className:M,d:TA(J,he,ue,$,d),ref:n,style:OA(OA({},be),t.style)}))})};function i5(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=zt(t,n,r,i),c=zt(t,n,r,a);return{points:[s,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function p1(){return p1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p1.apply(null,arguments)}var Bte=(e,t)=>{var n=yn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},bh=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:c,cornerIsExternal:u}=e,d=c*(s?1:-1)+r,p=Math.asin(c/d)/Qp,m=u?i:i+a*p,y=zt(t,n,d,m),v=zt(t,n,r,m),b=u?i-a*p:i,w=zt(t,n,d*Math.cos(p*Qp),b);return{center:y,circleTangency:v,lineTangency:w,theta:p}},a5=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,c=Bte(a,s),u=a+c,d=zt(t,n,i,a),p=zt(t,n,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var y=zt(t,n,r,a),v=zt(t,n,r,u);m+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},Ite=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d}=e,p=yn(d-u),{circleTangency:m,lineTangency:y,theta:v}=bh({cx:t,cy:n,radius:i,angle:u,sign:p,cornerRadius:a,cornerIsExternal:c}),{circleTangency:b,lineTangency:w,theta:S}=bh({cx:t,cy:n,radius:i,angle:d,sign:-p,cornerRadius:a,cornerIsExternal:c}),k=c?Math.abs(u-d):Math.abs(u-d)-v-S;if(k<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):a5({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:_,theta:T}=bh({cx:t,cy:n,radius:r,angle:u,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:M,lineTangency:D,theta:B}=bh({cx:t,cy:n,radius:r,angle:d,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),q=c?Math.abs(u-d):Math.abs(u-d)-T-B;if(q<0&&a===0)return"".concat(E,"L").concat(t,",").concat(n,"Z");E+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(q>180),",").concat(+(p>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,"Z")}else E+="L".concat(t,",").concat(n,"Z");return E},zte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},s5=e=>{var t=An(e,zte),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:p,className:m}=t;if(a<i||d===p)return null;var y=Ye("recharts-sector",m),v=a-i,b=Cn(s,v,0,!0),w;return b>0&&Math.abs(d-p)<360?w=Ite({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:p}):w=a5({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:p}),j.createElement("path",p1({},jt(t,!0),{className:y,d:w}))};function $te(e,t,n){var r,i,a,s;if(e==="horizontal")r=t.x,a=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:u,innerRadius:d,outerRadius:p,angle:m}=t,y=zt(c,u,d,m),v=zt(c,u,p,m);r=y.x,i=y.y,a=v.x,s=v.y}else return i5(t);return[{x:r,y:i},{x:a,y:s}]}var Cx={},Ox={},Tx={},AA;function Ute(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pR();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Tx)),Tx}var MA;function Hte(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ute();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Ox)),Ox}var _A;function qte(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mR(),n=Hte();function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const c=Math.max(Math.ceil((a-i)/(s||1)),0),u=new Array(c);for(let d=0;d<c;d++)u[d]=i,i+=s;return u}e.range=r})(Cx)),Cx}var Ax,DA;function Kte(){return DA||(DA=1,Ax=qte().range),Ax}var Vte=Kte();const o5=Jr(Vte);function ts(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fte(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hS(e){let t,n,r;e.length!==2?(t=ts,n=(c,u)=>ts(e(c),u),r=(c,u)=>e(c)-u):(t=e===ts||e===Fte?e:Wte,n=e,r=e);function i(c,u,d=0,p=c.length){if(d<p){if(t(u,u)!==0)return p;do{const m=d+p>>>1;n(c[m],u)<0?d=m+1:p=m}while(d<p)}return d}function a(c,u,d=0,p=c.length){if(d<p){if(t(u,u)!==0)return p;do{const m=d+p>>>1;n(c[m],u)<=0?d=m+1:p=m}while(d<p)}return d}function s(c,u,d=0,p=c.length){const m=i(c,u,d,p-1);return m>d&&r(c[m-1],u)>-r(c[m],u)?m-1:m}return{left:i,center:s,right:a}}function Wte(){return 0}function l5(e){return e===null?NaN:+e}function*Gte(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Yte=hS(ts),kd=Yte.right;hS(l5).center;class PA extends Map{constructor(t,n=Zte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(RA(this,t))}has(t){return super.has(RA(this,t))}set(t,n){return super.set(Xte(this,t),n)}delete(t){return super.delete(Qte(this,t))}}function RA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Xte({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Qte({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Zte(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Jte(e=ts){if(e===ts)return c5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function c5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ene=Math.sqrt(50),tne=Math.sqrt(10),nne=Math.sqrt(2);function tm(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=ene?10:a>=tne?5:a>=nne?2:1;let c,u,d;return i<0?(d=Math.pow(10,-i)/s,c=Math.round(e*d),u=Math.round(t*d),c/d<e&&++c,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*s,c=Math.round(e/d),u=Math.round(t/d),c*d<e&&++c,u*d>t&&--u),u<c&&.5<=n&&n<2?tm(e,t,n*2):[c,u,d]}function m1(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?tm(t,e,n):tm(e,t,n);if(!(a>=i))return[];const c=a-i+1,u=new Array(c);if(r)if(s<0)for(let d=0;d<c;++d)u[d]=(a-d)/-s;else for(let d=0;d<c;++d)u[d]=(a-d)*s;else if(s<0)for(let d=0;d<c;++d)u[d]=(i+d)/-s;else for(let d=0;d<c;++d)u[d]=(i+d)*s;return u}function g1(e,t,n){return t=+t,e=+e,n=+n,tm(e,t,n)[2]}function y1(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?g1(t,e,n):g1(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function LA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function BA(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function u5(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?c5:Jte(i);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,p=Math.log(u),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(u-m)/u)*(d-u/2<0?-1:1),v=Math.max(n,Math.floor(t-d*m/u+y)),b=Math.min(r,Math.floor(t+(u-d)*m/u+y));u5(e,t,v,b,i)}const a=e[t];let s=n,c=r;for(hu(e,n,t),i(e[r],a)>0&&hu(e,n,r);s<c;){for(hu(e,s,c),++s,--c;i(e[s],a)<0;)++s;for(;i(e[c],a)>0;)--c}i(e[n],a)===0?hu(e,n,c):(++c,hu(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function hu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function rne(e,t,n){if(e=Float64Array.from(Gte(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return BA(e);if(t>=1)return LA(e);var r,i=(r-1)*t,a=Math.floor(i),s=LA(u5(e,a).subarray(0,a+1)),c=BA(e.subarray(a+1));return s+(c-s)*(i-a)}}function ine(e,t,n=l5){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return s+(c-s)*(i-a)}}function ane(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function qr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function la(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const v1=Symbol("implicit");function pS(){var e=new PA,t=[],n=[],r=v1;function i(a){let s=e.get(a);if(s===void 0){if(r!==v1)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new PA;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return pS(t,n).unknown(r)},qr.apply(i,arguments),i}function mS(){var e=pS().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,c=!1,u=0,d=0,p=.5;delete e.unknown;function m(){var y=t().length,v=i<r,b=v?i:r,w=v?r:i;a=(w-b)/Math.max(1,y-u+d*2),c&&(a=Math.floor(a)),b+=(w-b-a*(y-u))*p,s=a*(1-u),c&&(b=Math.round(b),s=Math.round(s));var S=ane(y).map(function(k){return b+a*k});return n(v?S.reverse():S)}return e.domain=function(y){return arguments.length?(t(y),m()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,c=!0,m()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(y){return arguments.length?(c=!!y,m()):c},e.padding=function(y){return arguments.length?(u=Math.min(1,d=+y),m()):u},e.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),m()):u},e.paddingOuter=function(y){return arguments.length?(d=+y,m()):d},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),m()):p},e.copy=function(){return mS(t(),[r,i]).round(c).paddingInner(u).paddingOuter(d).align(p)},qr.apply(m(),arguments)}function d5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return d5(t())},e}function sne(){return d5(mS.apply(null,arguments).paddingInner(1))}function gS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function f5(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ed(){}var ed=.7,nm=1/ed,kl="\\s*([+-]?\\d+)\\s*",td="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",one=/^#([0-9a-f]{3,8})$/,lne=new RegExp(`^rgb\\(${kl},${kl},${kl}\\)$`),cne=new RegExp(`^rgb\\(${pi},${pi},${pi}\\)$`),une=new RegExp(`^rgba\\(${kl},${kl},${kl},${td}\\)$`),dne=new RegExp(`^rgba\\(${pi},${pi},${pi},${td}\\)$`),fne=new RegExp(`^hsl\\(${td},${pi},${pi}\\)$`),hne=new RegExp(`^hsla\\(${td},${pi},${pi},${td}\\)$`),IA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gS(Ed,nd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zA,formatHex:zA,formatHex8:pne,formatHsl:mne,formatRgb:$A,toString:$A});function zA(){return this.rgb().formatHex()}function pne(){return this.rgb().formatHex8()}function mne(){return h5(this).formatHsl()}function $A(){return this.rgb().formatRgb()}function nd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=one.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?UA(t):n===3?new Fn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?wh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?wh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lne.exec(e))?new Fn(t[1],t[2],t[3],1):(t=cne.exec(e))?new Fn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=une.exec(e))?wh(t[1],t[2],t[3],t[4]):(t=dne.exec(e))?wh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fne.exec(e))?KA(t[1],t[2]/100,t[3]/100,1):(t=hne.exec(e))?KA(t[1],t[2]/100,t[3]/100,t[4]):IA.hasOwnProperty(e)?UA(IA[e]):e==="transparent"?new Fn(NaN,NaN,NaN,0):null}function UA(e){return new Fn(e>>16&255,e>>8&255,e&255,1)}function wh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Fn(e,t,n,r)}function gne(e){return e instanceof Ed||(e=nd(e)),e?(e=e.rgb(),new Fn(e.r,e.g,e.b,e.opacity)):new Fn}function x1(e,t,n,r){return arguments.length===1?gne(e):new Fn(e,t,n,r??1)}function Fn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}gS(Fn,x1,f5(Ed,{brighter(e){return e=e==null?nm:Math.pow(nm,e),new Fn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ed:Math.pow(ed,e),new Fn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fn(ao(this.r),ao(this.g),ao(this.b),rm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HA,formatHex:HA,formatHex8:yne,formatRgb:qA,toString:qA}));function HA(){return`#${Gs(this.r)}${Gs(this.g)}${Gs(this.b)}`}function yne(){return`#${Gs(this.r)}${Gs(this.g)}${Gs(this.b)}${Gs((isNaN(this.opacity)?1:this.opacity)*255)}`}function qA(){const e=rm(this.opacity);return`${e===1?"rgb(":"rgba("}${ao(this.r)}, ${ao(this.g)}, ${ao(this.b)}${e===1?")":`, ${e})`}`}function rm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ao(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gs(e){return e=ao(e),(e<16?"0":"")+e.toString(16)}function KA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Yr(e,t,n,r)}function h5(e){if(e instanceof Yr)return new Yr(e.h,e.s,e.l,e.opacity);if(e instanceof Ed||(e=nd(e)),!e)return new Yr;if(e instanceof Yr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,c=a-i,u=(a+i)/2;return c?(t===a?s=(n-r)/c+(n<r)*6:n===a?s=(r-t)/c+2:s=(t-n)/c+4,c/=u<.5?a+i:2-a-i,s*=60):c=u>0&&u<1?0:s,new Yr(s,c,u,e.opacity)}function vne(e,t,n,r){return arguments.length===1?h5(e):new Yr(e,t,n,r??1)}function Yr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}gS(Yr,vne,f5(Ed,{brighter(e){return e=e==null?nm:Math.pow(nm,e),new Yr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ed:Math.pow(ed,e),new Yr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Fn(Mx(e>=240?e-240:e+120,i,r),Mx(e,i,r),Mx(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Yr(VA(this.h),Sh(this.s),Sh(this.l),rm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rm(this.opacity);return`${e===1?"hsl(":"hsla("}${VA(this.h)}, ${Sh(this.s)*100}%, ${Sh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function VA(e){return e=(e||0)%360,e<0?e+360:e}function Sh(e){return Math.max(0,Math.min(1,e||0))}function Mx(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const yS=e=>()=>e;function xne(e,t){return function(n){return e+n*t}}function bne(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function wne(e){return(e=+e)==1?p5:function(t,n){return n-t?bne(t,n,e):yS(isNaN(t)?n:t)}}function p5(e,t){var n=t-e;return n?xne(e,n):yS(isNaN(e)?t:e)}const FA=(function e(t){var n=wne(t);function r(i,a){var s=n((i=x1(i)).r,(a=x1(a)).r),c=n(i.g,a.g),u=n(i.b,a.b),d=p5(i.opacity,a.opacity);return function(p){return i.r=s(p),i.g=c(p),i.b=u(p),i.opacity=d(p),i+""}}return r.gamma=e,r})(1);function Sne(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Nne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jne(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Zl(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(c){for(s=0;s<r;++s)a[s]=i[s](c);return a}}function kne(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function im(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ene(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Zl(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var b1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_x=new RegExp(b1.source,"g");function Cne(e){return function(){return e}}function One(e){return function(t){return e(t)+""}}function Tne(e,t){var n=b1.lastIndex=_x.lastIndex=0,r,i,a,s=-1,c=[],u=[];for(e=e+"",t=t+"";(r=b1.exec(e))&&(i=_x.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),c[s]?c[s]+=a:c[++s]=a),(r=r[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,u.push({i:s,x:im(r,i)})),n=_x.lastIndex;return n<t.length&&(a=t.slice(n),c[s]?c[s]+=a:c[++s]=a),c.length<2?u[0]?One(u[0].x):Cne(t):(t=u.length,function(d){for(var p=0,m;p<t;++p)c[(m=u[p]).i]=m.x(d);return c.join("")})}function Zl(e,t){var n=typeof t,r;return t==null||n==="boolean"?yS(t):(n==="number"?im:n==="string"?(r=nd(t))?(t=r,FA):Tne:t instanceof nd?FA:t instanceof Date?kne:Nne(t)?Sne:Array.isArray(t)?jne:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ene:im)(e,t)}function vS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ane(e,t){t===void 0&&(t=e,e=Zl);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var c=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[c](s-c)}}function Mne(e){return function(){return e}}function am(e){return+e}var WA=[0,1];function Rn(e){return e}function w1(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Mne(isNaN(t)?NaN:.5)}function _ne(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Dne(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=w1(i,r),a=n(s,a)):(r=w1(r,i),a=n(a,s)),function(c){return a(r(c))}}function Pne(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=w1(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(c){var u=kd(e,c,1,r)-1;return a[u](i[u](c))}}function Cd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function og(){var e=WA,t=WA,n=Zl,r,i,a,s=Rn,c,u,d;function p(){var y=Math.min(e.length,t.length);return s!==Rn&&(s=_ne(e[0],e[y-1])),c=y>2?Pne:Dne,u=d=null,m}function m(y){return y==null||isNaN(y=+y)?a:(u||(u=c(e.map(r),t,n)))(r(s(y)))}return m.invert=function(y){return s(i((d||(d=c(t,e.map(r),im)))(y)))},m.domain=function(y){return arguments.length?(e=Array.from(y,am),p()):e.slice()},m.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},m.rangeRound=function(y){return t=Array.from(y),n=vS,p()},m.clamp=function(y){return arguments.length?(s=y?!0:Rn,p()):s!==Rn},m.interpolate=function(y){return arguments.length?(n=y,p()):n},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,v){return r=y,i=v,p()}}function xS(){return og()(Rn,Rn)}function Rne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sm(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Il(e){return e=sm(Math.abs(e)),e?e[1]:NaN}function Lne(e,t){return function(n,r){for(var i=n.length,a=[],s=0,c=e[0],u=0;i>0&&c>0&&(u+c+1>r&&(c=Math.max(1,r-u)),a.push(n.substring(i-=c,i+c)),!((u+=c+1)>r));)c=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Bne(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ine=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rd(e){if(!(t=Ine.exec(e)))throw new Error("invalid format: "+e);var t;return new bS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}rd.prototype=bS.prototype;function bS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zne(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var m5;function $ne(e,t){var n=sm(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(m5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+sm(e,Math.max(0,t+a-1))[0]}function GA(e,t){var n=sm(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const YA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Rne,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>GA(e*100,t),r:GA,s:$ne,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function XA(e){return e}var QA=Array.prototype.map,ZA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Une(e){var t=e.grouping===void 0||e.thousands===void 0?XA:Lne(QA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?XA:Bne(QA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(m){m=rd(m);var y=m.fill,v=m.align,b=m.sign,w=m.symbol,S=m.zero,k=m.width,E=m.comma,O=m.precision,_=m.trim,T=m.type;T==="n"?(E=!0,T="g"):YA[T]||(O===void 0&&(O=12),_=!0,T="g"),(S||y==="0"&&v==="=")&&(S=!0,y="0",v="=");var M=w==="$"?n:w==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",D=w==="$"?r:/[%p]/.test(T)?s:"",B=YA[T],q=/[defgprs%]/.test(T);O=O===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function L(K){var V=M,te=D,oe,ue,$;if(T==="c")te=B(K)+te,K="";else{K=+K;var J=K<0||1/K<0;if(K=isNaN(K)?u:B(Math.abs(K),O),_&&(K=zne(K)),J&&+K==0&&b!=="+"&&(J=!1),V=(J?b==="("?b:c:b==="-"||b==="("?"":b)+V,te=(T==="s"?ZA[8+m5/3]:"")+te+(J&&b==="("?")":""),q){for(oe=-1,ue=K.length;++oe<ue;)if($=K.charCodeAt(oe),48>$||$>57){te=($===46?i+K.slice(oe+1):K.slice(oe))+te,K=K.slice(0,oe);break}}}E&&!S&&(K=t(K,1/0));var he=V.length+K.length+te.length,be=he<k?new Array(k-he+1).join(y):"";switch(E&&S&&(K=t(be+K,be.length?k-te.length:1/0),be=""),v){case"<":K=V+K+te+be;break;case"=":K=V+be+K+te;break;case"^":K=be.slice(0,he=be.length>>1)+V+K+te+be.slice(he);break;default:K=be+V+K+te;break}return a(K)}return L.toString=function(){return m+""},L}function p(m,y){var v=d((m=rd(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(Il(y)/3)))*3,w=Math.pow(10,-b),S=ZA[8+b/3];return function(k){return v(w*k)+S}}return{format:d,formatPrefix:p}}var Nh,wS,g5;Hne({thousands:",",grouping:[3],currency:["$",""]});function Hne(e){return Nh=Une(e),wS=Nh.format,g5=Nh.formatPrefix,Nh}function qne(e){return Math.max(0,-Il(Math.abs(e)))}function Kne(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Il(t)/3)))*3-Il(Math.abs(e)))}function Vne(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Il(t)-Il(e))+1}function y5(e,t,n,r){var i=y1(e,t,n),a;switch(r=rd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Kne(i,s))&&(r.precision=a),g5(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Vne(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=qne(i))&&(r.precision=a-(r.type==="%")*2);break}}return wS(r)}function ps(e){var t=e.domain;return e.ticks=function(n){var r=t();return m1(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return y5(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],c=r[a],u,d,p=10;for(c<s&&(d=s,s=c,c=d,d=i,i=a,a=d);p-- >0;){if(d=g1(s,c,n),d===u)return r[i]=s,r[a]=c,t(r);if(d>0)s=Math.floor(s/d)*d,c=Math.ceil(c/d)*d;else if(d<0)s=Math.ceil(s*d)/d,c=Math.floor(c*d)/d;else break;u=d}return e},e}function v5(){var e=xS();return e.copy=function(){return Cd(e,v5())},qr.apply(e,arguments),ps(e)}function x5(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,am),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return x5(e).unknown(t)},e=arguments.length?Array.from(e,am):[0,1],ps(n)}function b5(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function JA(e){return Math.log(e)}function eM(e){return Math.exp(e)}function Fne(e){return-Math.log(-e)}function Wne(e){return-Math.exp(-e)}function Gne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Yne(e){return e===10?Gne:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Xne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function tM(e){return(t,n)=>-e(-t,n)}function SS(e){const t=e(JA,eM),n=t.domain;let r=10,i,a;function s(){return i=Xne(r),a=Yne(r),n()[0]<0?(i=tM(i),a=tM(a),e(Fne,Wne)):e(JA,eM),t}return t.base=function(c){return arguments.length?(r=+c,s()):r},t.domain=function(c){return arguments.length?(n(c),s()):n()},t.ticks=c=>{const u=n();let d=u[0],p=u[u.length-1];const m=p<d;m&&([d,p]=[p,d]);let y=i(d),v=i(p),b,w;const S=c==null?10:+c;let k=[];if(!(r%1)&&v-y<S){if(y=Math.floor(y),v=Math.ceil(v),d>0){for(;y<=v;++y)for(b=1;b<r;++b)if(w=y<0?b/a(-y):b*a(y),!(w<d)){if(w>p)break;k.push(w)}}else for(;y<=v;++y)for(b=r-1;b>=1;--b)if(w=y>0?b/a(-y):b*a(y),!(w<d)){if(w>p)break;k.push(w)}k.length*2<S&&(k=m1(d,p,S))}else k=m1(y,v,Math.min(v-y,S)).map(a);return m?k.reverse():k},t.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=rd(u)).precision==null&&(u.trim=!0),u=wS(u)),c===1/0)return u;const d=Math.max(1,r*c/t.ticks().length);return p=>{let m=p/a(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=d?u(p):""}},t.nice=()=>n(b5(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function w5(){const e=SS(og()).domain([1,10]);return e.copy=()=>Cd(e,w5()).base(e.base()),qr.apply(e,arguments),e}function nM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function NS(e){var t=1,n=e(nM(t),rM(t));return n.constant=function(r){return arguments.length?e(nM(t=+r),rM(t)):t},ps(n)}function S5(){var e=NS(og());return e.copy=function(){return Cd(e,S5()).constant(e.constant())},qr.apply(e,arguments)}function iM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Qne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Zne(e){return e<0?-e*e:e*e}function jS(e){var t=e(Rn,Rn),n=1;function r(){return n===1?e(Rn,Rn):n===.5?e(Qne,Zne):e(iM(n),iM(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ps(t)}function kS(){var e=jS(og());return e.copy=function(){return Cd(e,kS()).exponent(e.exponent())},qr.apply(e,arguments),e}function Jne(){return kS.apply(null,arguments).exponent(.5)}function aM(e){return Math.sign(e)*e*e}function ere(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function N5(){var e=xS(),t=[0,1],n=!1,r;function i(a){var s=ere(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(aM(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,am)).map(aM)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return N5(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},qr.apply(i,arguments),ps(i)}function j5(){var e=[],t=[],n=[],r;function i(){var s=0,c=Math.max(1,t.length);for(n=new Array(c-1);++s<c;)n[s-1]=ine(e,s/c);return a}function a(s){return s==null||isNaN(s=+s)?r:t[kd(n,s)]}return a.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(ts),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return j5().domain(e).range(t).unknown(r)},qr.apply(a,arguments)}function k5(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[kd(r,u,0,n)]:a}function c(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,c()):[e,t]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,c()):i.slice()},s.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return k5().domain([e,t]).range(i).unknown(a)},qr.apply(ps(s),arguments)}function E5(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[kd(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return E5().domain(e).range(t).unknown(n)},qr.apply(i,arguments)}const Dx=new Date,Px=new Date;function Yt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),c=i.ceil(a);return a-s<c-a?s:c},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,c)=>{const u=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<s)||!(c>0))return u;let d;do u.push(d=new Date(+a)),t(a,c),e(a);while(d<a&&a<s);return u},i.filter=a=>Yt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!a(s););else for(;--c>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Dx.setTime(+a),Px.setTime(+s),e(Dx),e(Px),Math.floor(n(Dx,Px))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const om=Yt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);om.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):om);om.range;const Ki=1e3,Lr=Ki*60,Vi=Lr*60,Ji=Vi*24,ES=Ji*7,sM=Ji*30,Rx=Ji*365,Ys=Yt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getUTCSeconds());Ys.range;const CS=Yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ki)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getMinutes());CS.range;const OS=Yt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getUTCMinutes());OS.range;const TS=Yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ki-e.getMinutes()*Lr)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getHours());TS.range;const AS=Yt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getUTCHours());AS.range;const Od=Yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lr)/Ji,e=>e.getDate()-1);Od.range;const lg=Yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ji,e=>e.getUTCDate()-1);lg.range;const C5=Yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ji,e=>Math.floor(e/Ji));C5.range;function So(e){return Yt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Lr)/ES)}const cg=So(0),lm=So(1),tre=So(2),nre=So(3),zl=So(4),rre=So(5),ire=So(6);cg.range;lm.range;tre.range;nre.range;zl.range;rre.range;ire.range;function No(e){return Yt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ES)}const ug=No(0),cm=No(1),are=No(2),sre=No(3),$l=No(4),ore=No(5),lre=No(6);ug.range;cm.range;are.range;sre.range;$l.range;ore.range;lre.range;const MS=Yt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());MS.range;const _S=Yt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_S.range;const ea=Yt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ea.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ea.range;const ta=Yt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ta.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ta.range;function O5(e,t,n,r,i,a){const s=[[Ys,1,Ki],[Ys,5,5*Ki],[Ys,15,15*Ki],[Ys,30,30*Ki],[a,1,Lr],[a,5,5*Lr],[a,15,15*Lr],[a,30,30*Lr],[i,1,Vi],[i,3,3*Vi],[i,6,6*Vi],[i,12,12*Vi],[r,1,Ji],[r,2,2*Ji],[n,1,ES],[t,1,sM],[t,3,3*sM],[e,1,Rx]];function c(d,p,m){const y=p<d;y&&([d,p]=[p,d]);const v=m&&typeof m.range=="function"?m:u(d,p,m),b=v?v.range(d,+p+1):[];return y?b.reverse():b}function u(d,p,m){const y=Math.abs(p-d)/m,v=hS(([,,S])=>S).right(s,y);if(v===s.length)return e.every(y1(d/Rx,p/Rx,m));if(v===0)return om.every(Math.max(y1(d,p,m),1));const[b,w]=s[y/s[v-1][2]<s[v][2]/y?v-1:v];return b.every(w)}return[c,u]}const[cre,ure]=O5(ta,_S,ug,C5,AS,OS),[dre,fre]=O5(ea,MS,cg,Od,TS,CS);function Lx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Bx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function hre(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,c=e.months,u=e.shortMonths,d=mu(i),p=gu(i),m=mu(a),y=gu(a),v=mu(s),b=gu(s),w=mu(c),S=gu(c),k=mu(u),E=gu(u),O={a:J,A:he,b:be,B:P,c:null,d:fM,e:fM,f:Lre,g:Fre,G:Gre,H:Dre,I:Pre,j:Rre,L:T5,m:Bre,M:Ire,p:X,q:Z,Q:mM,s:gM,S:zre,u:$re,U:Ure,V:Hre,w:qre,W:Kre,x:null,X:null,y:Vre,Y:Wre,Z:Yre,"%":pM},_={a:de,A:ve,b:Oe,B:Ee,c:null,d:hM,e:hM,f:Jre,g:cie,G:die,H:Xre,I:Qre,j:Zre,L:M5,m:eie,M:tie,p:je,q:ae,Q:mM,s:gM,S:nie,u:rie,U:iie,V:aie,w:sie,W:oie,x:null,X:null,y:lie,Y:uie,Z:fie,"%":pM},T={a:L,A:K,b:V,B:te,c:oe,d:uM,e:uM,f:Tre,g:cM,G:lM,H:dM,I:dM,j:kre,L:Ore,m:jre,M:Ere,p:q,q:Nre,Q:Mre,s:_re,S:Cre,u:vre,U:xre,V:bre,w:yre,W:wre,x:ue,X:$,y:cM,Y:lM,Z:Sre,"%":Are};O.x=M(n,O),O.X=M(r,O),O.c=M(t,O),_.x=M(n,_),_.X=M(r,_),_.c=M(t,_);function M(Q,me){return function(pe){var se=[],ne=-1,fe=0,ye=Q.length,ke,Ve,pt;for(pe instanceof Date||(pe=new Date(+pe));++ne<ye;)Q.charCodeAt(ne)===37&&(se.push(Q.slice(fe,ne)),(Ve=oM[ke=Q.charAt(++ne)])!=null?ke=Q.charAt(++ne):Ve=ke==="e"?" ":"0",(pt=me[ke])&&(ke=pt(pe,Ve)),se.push(ke),fe=ne+1);return se.push(Q.slice(fe,ne)),se.join("")}}function D(Q,me){return function(pe){var se=pu(1900,void 0,1),ne=B(se,Q,pe+="",0),fe,ye;if(ne!=pe.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(me&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(fe=Bx(pu(se.y,0,1)),ye=fe.getUTCDay(),fe=ye>4||ye===0?cm.ceil(fe):cm(fe),fe=lg.offset(fe,(se.V-1)*7),se.y=fe.getUTCFullYear(),se.m=fe.getUTCMonth(),se.d=fe.getUTCDate()+(se.w+6)%7):(fe=Lx(pu(se.y,0,1)),ye=fe.getDay(),fe=ye>4||ye===0?lm.ceil(fe):lm(fe),fe=Od.offset(fe,(se.V-1)*7),se.y=fe.getFullYear(),se.m=fe.getMonth(),se.d=fe.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),ye="Z"in se?Bx(pu(se.y,0,1)).getUTCDay():Lx(pu(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(ye+5)%7:se.w+se.U*7-(ye+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,Bx(se)):Lx(se)}}function B(Q,me,pe,se){for(var ne=0,fe=me.length,ye=pe.length,ke,Ve;ne<fe;){if(se>=ye)return-1;if(ke=me.charCodeAt(ne++),ke===37){if(ke=me.charAt(ne++),Ve=T[ke in oM?me.charAt(ne++):ke],!Ve||(se=Ve(Q,pe,se))<0)return-1}else if(ke!=pe.charCodeAt(se++))return-1}return se}function q(Q,me,pe){var se=d.exec(me.slice(pe));return se?(Q.p=p.get(se[0].toLowerCase()),pe+se[0].length):-1}function L(Q,me,pe){var se=v.exec(me.slice(pe));return se?(Q.w=b.get(se[0].toLowerCase()),pe+se[0].length):-1}function K(Q,me,pe){var se=m.exec(me.slice(pe));return se?(Q.w=y.get(se[0].toLowerCase()),pe+se[0].length):-1}function V(Q,me,pe){var se=k.exec(me.slice(pe));return se?(Q.m=E.get(se[0].toLowerCase()),pe+se[0].length):-1}function te(Q,me,pe){var se=w.exec(me.slice(pe));return se?(Q.m=S.get(se[0].toLowerCase()),pe+se[0].length):-1}function oe(Q,me,pe){return B(Q,t,me,pe)}function ue(Q,me,pe){return B(Q,n,me,pe)}function $(Q,me,pe){return B(Q,r,me,pe)}function J(Q){return s[Q.getDay()]}function he(Q){return a[Q.getDay()]}function be(Q){return u[Q.getMonth()]}function P(Q){return c[Q.getMonth()]}function X(Q){return i[+(Q.getHours()>=12)]}function Z(Q){return 1+~~(Q.getMonth()/3)}function de(Q){return s[Q.getUTCDay()]}function ve(Q){return a[Q.getUTCDay()]}function Oe(Q){return u[Q.getUTCMonth()]}function Ee(Q){return c[Q.getUTCMonth()]}function je(Q){return i[+(Q.getUTCHours()>=12)]}function ae(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var me=M(Q+="",O);return me.toString=function(){return Q},me},parse:function(Q){var me=D(Q+="",!1);return me.toString=function(){return Q},me},utcFormat:function(Q){var me=M(Q+="",_);return me.toString=function(){return Q},me},utcParse:function(Q){var me=D(Q+="",!0);return me.toString=function(){return Q},me}}}var oM={"-":"",_:" ",0:"0"},on=/^\s*\d+/,pre=/^%/,mre=/[\\^$*+?|[\]().{}]/g;function Xe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function gre(e){return e.replace(mre,"\\$&")}function mu(e){return new RegExp("^(?:"+e.map(gre).join("|")+")","i")}function gu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function yre(e,t,n){var r=on.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function vre(e,t,n){var r=on.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function xre(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function bre(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function wre(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function lM(e,t,n){var r=on.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function cM(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Sre(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Nre(e,t,n){var r=on.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function jre(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function uM(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function kre(e,t,n){var r=on.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function dM(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ere(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Cre(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ore(e,t,n){var r=on.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Tre(e,t,n){var r=on.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Are(e,t,n){var r=pre.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Mre(e,t,n){var r=on.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function _re(e,t,n){var r=on.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function fM(e,t){return Xe(e.getDate(),t,2)}function Dre(e,t){return Xe(e.getHours(),t,2)}function Pre(e,t){return Xe(e.getHours()%12||12,t,2)}function Rre(e,t){return Xe(1+Od.count(ea(e),e),t,3)}function T5(e,t){return Xe(e.getMilliseconds(),t,3)}function Lre(e,t){return T5(e,t)+"000"}function Bre(e,t){return Xe(e.getMonth()+1,t,2)}function Ire(e,t){return Xe(e.getMinutes(),t,2)}function zre(e,t){return Xe(e.getSeconds(),t,2)}function $re(e){var t=e.getDay();return t===0?7:t}function Ure(e,t){return Xe(cg.count(ea(e)-1,e),t,2)}function A5(e){var t=e.getDay();return t>=4||t===0?zl(e):zl.ceil(e)}function Hre(e,t){return e=A5(e),Xe(zl.count(ea(e),e)+(ea(e).getDay()===4),t,2)}function qre(e){return e.getDay()}function Kre(e,t){return Xe(lm.count(ea(e)-1,e),t,2)}function Vre(e,t){return Xe(e.getFullYear()%100,t,2)}function Fre(e,t){return e=A5(e),Xe(e.getFullYear()%100,t,2)}function Wre(e,t){return Xe(e.getFullYear()%1e4,t,4)}function Gre(e,t){var n=e.getDay();return e=n>=4||n===0?zl(e):zl.ceil(e),Xe(e.getFullYear()%1e4,t,4)}function Yre(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xe(t/60|0,"0",2)+Xe(t%60,"0",2)}function hM(e,t){return Xe(e.getUTCDate(),t,2)}function Xre(e,t){return Xe(e.getUTCHours(),t,2)}function Qre(e,t){return Xe(e.getUTCHours()%12||12,t,2)}function Zre(e,t){return Xe(1+lg.count(ta(e),e),t,3)}function M5(e,t){return Xe(e.getUTCMilliseconds(),t,3)}function Jre(e,t){return M5(e,t)+"000"}function eie(e,t){return Xe(e.getUTCMonth()+1,t,2)}function tie(e,t){return Xe(e.getUTCMinutes(),t,2)}function nie(e,t){return Xe(e.getUTCSeconds(),t,2)}function rie(e){var t=e.getUTCDay();return t===0?7:t}function iie(e,t){return Xe(ug.count(ta(e)-1,e),t,2)}function _5(e){var t=e.getUTCDay();return t>=4||t===0?$l(e):$l.ceil(e)}function aie(e,t){return e=_5(e),Xe($l.count(ta(e),e)+(ta(e).getUTCDay()===4),t,2)}function sie(e){return e.getUTCDay()}function oie(e,t){return Xe(cm.count(ta(e)-1,e),t,2)}function lie(e,t){return Xe(e.getUTCFullYear()%100,t,2)}function cie(e,t){return e=_5(e),Xe(e.getUTCFullYear()%100,t,2)}function uie(e,t){return Xe(e.getUTCFullYear()%1e4,t,4)}function die(e,t){var n=e.getUTCDay();return e=n>=4||n===0?$l(e):$l.ceil(e),Xe(e.getUTCFullYear()%1e4,t,4)}function fie(){return"+0000"}function pM(){return"%"}function mM(e){return+e}function gM(e){return Math.floor(+e/1e3)}var fl,D5,P5;hie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hie(e){return fl=hre(e),D5=fl.format,fl.parse,P5=fl.utcFormat,fl.utcParse,fl}function pie(e){return new Date(e)}function mie(e){return e instanceof Date?+e:+new Date(+e)}function DS(e,t,n,r,i,a,s,c,u,d){var p=xS(),m=p.invert,y=p.domain,v=d(".%L"),b=d(":%S"),w=d("%I:%M"),S=d("%I %p"),k=d("%a %d"),E=d("%b %d"),O=d("%B"),_=d("%Y");function T(M){return(u(M)<M?v:c(M)<M?b:s(M)<M?w:a(M)<M?S:r(M)<M?i(M)<M?k:E:n(M)<M?O:_)(M)}return p.invert=function(M){return new Date(m(M))},p.domain=function(M){return arguments.length?y(Array.from(M,mie)):y().map(pie)},p.ticks=function(M){var D=y();return e(D[0],D[D.length-1],M??10)},p.tickFormat=function(M,D){return D==null?T:d(D)},p.nice=function(M){var D=y();return(!M||typeof M.range!="function")&&(M=t(D[0],D[D.length-1],M??10)),M?y(b5(D,M)):p},p.copy=function(){return Cd(p,DS(e,t,n,r,i,a,s,c,u,d))},p}function gie(){return qr.apply(DS(dre,fre,ea,MS,cg,Od,TS,CS,Ys,D5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yie(){return qr.apply(DS(cre,ure,ta,_S,ug,lg,AS,OS,Ys,P5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dg(){var e=0,t=1,n,r,i,a,s=Rn,c=!1,u;function d(m){return m==null||isNaN(m=+m)?u:s(i===0?.5:(m=(a(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(m){return arguments.length?(c=!!m,d):c},d.interpolator=function(m){return arguments.length?(s=m,d):s};function p(m){return function(y){var v,b;return arguments.length?([v,b]=y,s=m(v,b),d):[s(0),s(1)]}}return d.range=p(Zl),d.rangeRound=p(vS),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return a=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),d}}function ms(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function R5(){var e=ps(dg()(Rn));return e.copy=function(){return ms(e,R5())},la.apply(e,arguments)}function L5(){var e=SS(dg()).domain([1,10]);return e.copy=function(){return ms(e,L5()).base(e.base())},la.apply(e,arguments)}function B5(){var e=NS(dg());return e.copy=function(){return ms(e,B5()).constant(e.constant())},la.apply(e,arguments)}function PS(){var e=jS(dg());return e.copy=function(){return ms(e,PS()).exponent(e.exponent())},la.apply(e,arguments)}function vie(){return PS.apply(null,arguments).exponent(.5)}function I5(){var e=[],t=Rn;function n(r){if(r!=null&&!isNaN(r=+r))return t((kd(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ts),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>rne(e,a/r))},n.copy=function(){return I5(t).domain(e)},la.apply(n,arguments)}function fg(){var e=0,t=.5,n=1,r=1,i,a,s,c,u,d=Rn,p,m=!1,y;function v(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-a)*(r*w<r*a?c:u),d(m?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,n]=w,i=p(e=+e),a=p(t=+t),s=p(n=+n),c=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,v):[e,t,n]},v.clamp=function(w){return arguments.length?(m=!!w,v):m},v.interpolator=function(w){return arguments.length?(d=w,v):d};function b(w){return function(S){var k,E,O;return arguments.length?([k,E,O]=S,d=Ane(w,[k,E,O]),v):[d(0),d(.5),d(1)]}}return v.range=b(Zl),v.rangeRound=b(vS),v.unknown=function(w){return arguments.length?(y=w,v):y},function(w){return p=w,i=w(e),a=w(t),s=w(n),c=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,v}}function z5(){var e=ps(fg()(Rn));return e.copy=function(){return ms(e,z5())},la.apply(e,arguments)}function $5(){var e=SS(fg()).domain([.1,1,10]);return e.copy=function(){return ms(e,$5()).base(e.base())},la.apply(e,arguments)}function U5(){var e=NS(fg());return e.copy=function(){return ms(e,U5()).constant(e.constant())},la.apply(e,arguments)}function RS(){var e=jS(fg());return e.copy=function(){return ms(e,RS()).exponent(e.exponent())},la.apply(e,arguments)}function xie(){return RS.apply(null,arguments).exponent(.5)}const Nu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mS,scaleDiverging:z5,scaleDivergingLog:$5,scaleDivergingPow:RS,scaleDivergingSqrt:xie,scaleDivergingSymlog:U5,scaleIdentity:x5,scaleImplicit:v1,scaleLinear:v5,scaleLog:w5,scaleOrdinal:pS,scalePoint:sne,scalePow:kS,scaleQuantile:j5,scaleQuantize:k5,scaleRadial:N5,scaleSequential:R5,scaleSequentialLog:L5,scaleSequentialPow:PS,scaleSequentialQuantile:I5,scaleSequentialSqrt:vie,scaleSequentialSymlog:B5,scaleSqrt:Jne,scaleSymlog:S5,scaleThreshold:E5,scaleTime:gie,scaleUtc:yie,tickFormat:y5},Symbol.toStringTag,{value:"Module"}));var gs=e=>e.chartData,LS=W([gs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),hg=(e,t,n,r)=>r?LS(e):gs(e);function Ul(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(pr(t)&&pr(n))return!0}return!1}function yM(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function bie(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(pr(n))i=n;else if(typeof n=="function")return;if(pr(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Ul(s))return s}}function wie(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ul(r))return yM(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,c;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Pe(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&oA.test(i)){var u=oA.exec(i);if(u==null||t==null)s=void 0;else{var d=+u[1];s=t[0]-d}}else s=t?.[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(Pe(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[1]))}catch{}else if(typeof a=="string"&&lA.test(a)){var p=lA.exec(a);if(p==null||t==null)c=void 0;else{var m=+p[1];c=t[1]+m}}else c=t?.[1];var y=[s,c];if(Ul(y))return t==null?y:yM(y,t,n)}}}var Jl=1e9,Sie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},IS,yt=!0,Hr="[DecimalError] ",so=Hr+"Invalid argument: ",BS=Hr+"Exponent out of range: ",ec=Math.floor,$s=Math.pow,Nie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ur,tn=1e7,ht=7,H5=9007199254740991,um=ec(H5/ht),xe={};xe.absoluteValue=xe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};xe.comparedTo=xe.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ht;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};xe.dividedBy=xe.div=function(e){return Xi(this,new this.constructor(e))};xe.dividedToIntegerBy=xe.idiv=function(e){var t=this,n=t.constructor;return lt(Xi(t,new n(e),0,1),n.precision)};xe.equals=xe.eq=function(e){return!this.cmp(e)};xe.exponent=function(){return $t(this)};xe.greaterThan=xe.gt=function(e){return this.cmp(e)>0};xe.greaterThanOrEqualTo=xe.gte=function(e){return this.cmp(e)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(e){return this.cmp(e)<0};xe.lessThanOrEqualTo=xe.lte=function(e){return this.cmp(e)<1};xe.logarithm=xe.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ur))throw Error(Hr+"NaN");if(n.s<1)throw Error(Hr+(n.s?"NaN":"-Infinity"));return n.eq(ur)?new r(0):(yt=!1,t=Xi(id(n,a),id(e,a),a),yt=!0,lt(t,i))};xe.minus=xe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?V5(t,e):q5(t,(e.s=-e.s,e))};xe.modulo=xe.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Hr+"NaN");return n.s?(yt=!1,t=Xi(n,e,0,1).times(e),yt=!0,n.minus(t)):lt(new r(n),i)};xe.naturalExponential=xe.exp=function(){return K5(this)};xe.naturalLogarithm=xe.ln=function(){return id(this)};xe.negated=xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};xe.plus=xe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?q5(t,e):V5(t,(e.s=-e.s,e))};xe.precision=xe.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(so+e);if(t=$t(i)+1,r=i.d.length-1,n=r*ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};xe.squareRoot=xe.sqrt=function(){var e,t,n,r,i,a,s,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(Hr+"NaN")}for(e=$t(c),yt=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=hi(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ec((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(a=r,r=a.plus(Xi(c,a,s+2)).times(.5),hi(a.d).slice(0,s)===(t=hi(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(lt(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;s+=4}return yt=!0,lt(r,n)};xe.times=xe.mul=function(e){var t,n,r,i,a,s,c,u,d,p=this,m=p.constructor,y=p.d,v=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,n=p.e+e.e,u=y.length,d=v.length,u<d&&(a=y,y=v,v=a,s=u,u=d,d=s),a=[],s=u+d,r=s;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)c=a[i]+v[r]*y[i-r-1]+t,a[i--]=c%tn|0,t=c/tn|0;a[i]=(a[i]+t)%tn|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,yt?lt(e,m.precision):e};xe.toDecimalPlaces=xe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(vi(e,0,Jl),t===void 0?t=r.rounding:vi(t,0,8),lt(n,e+$t(n)+1,t))};xe.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=yo(r,!0):(vi(e,0,Jl),t===void 0?t=i.rounding:vi(t,0,8),r=lt(new i(r),e+1,t),n=yo(r,!0,e+1)),n};xe.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?yo(i):(vi(e,0,Jl),t===void 0?t=a.rounding:vi(t,0,8),r=lt(new a(i),e+$t(i)+1,t),n=yo(r.abs(),!1,e+$t(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};xe.toInteger=xe.toint=function(){var e=this,t=e.constructor;return lt(new t(e),$t(e)+1,t.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(e){var t,n,r,i,a,s,c=this,u=c.constructor,d=12,p=+(e=new u(e));if(!e.s)return new u(ur);if(c=new u(c),!c.s){if(e.s<1)throw Error(Hr+"Infinity");return c}if(c.eq(ur))return c;if(r=u.precision,e.eq(ur))return lt(c,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=c.s,s){if((n=p<0?-p:p)<=H5){for(i=new u(ur),t=Math.ceil(r/ht+4),yt=!1;n%2&&(i=i.times(c),xM(i.d,t)),n=ec(n/2),n!==0;)c=c.times(c),xM(c.d,t);return yt=!0,e.s<0?new u(ur).div(i):lt(i,r)}}else if(a<0)throw Error(Hr+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,yt=!1,i=e.times(id(c,r+d)),yt=!0,i=K5(i),i.s=a,i};xe.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=$t(i),r=yo(i,n<=a.toExpNeg||n>=a.toExpPos)):(vi(e,1,Jl),t===void 0?t=a.rounding:vi(t,0,8),i=lt(new a(i),e,t),n=$t(i),r=yo(i,e<=n||n<=a.toExpNeg,e)),r};xe.toSignificantDigits=xe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(vi(e,1,Jl),t===void 0?t=r.rounding:vi(t,0,8)),lt(new r(n),e,t)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$t(e),n=e.constructor;return yo(e,t<=n.toExpNeg||t>=n.toExpPos)};function q5(e,t){var n,r,i,a,s,c,u,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),yt?lt(t,m):t;if(u=e.d,d=t.d,s=e.e,i=t.e,u=u.slice(),a=s-i,a){for(a<0?(r=u,a=-a,c=d.length):(r=d,i=s,c=u.length),s=Math.ceil(m/ht),c=s>c?s+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=u.length,a=d.length,c-a<0&&(a=c,r=d,d=u,u=r),n=0;a;)n=(u[--a]=u[a]+d[a]+n)/tn|0,u[a]%=tn;for(n&&(u.unshift(n),++i),c=u.length;u[--c]==0;)u.pop();return t.d=u,t.e=i,yt?lt(t,m):t}function vi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(so+e)}function hi(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=ht-r.length,n&&(a+=Ua(n)),a+=r;s=e[t],r=s+"",n=ht-r.length,n&&(a+=Ua(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Xi=(function(){function e(r,i){var a,s=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+s,r[c]=a%tn|0,s=a/tn|0;return s&&r.unshift(s),r}function t(r,i,a,s){var c,u;if(a!=s)u=a>s?1:-1;else for(c=u=0;c<a;c++)if(r[c]!=i[c]){u=r[c]>i[c]?1:-1;break}return u}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*tn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var c,u,d,p,m,y,v,b,w,S,k,E,O,_,T,M,D,B,q=r.constructor,L=r.s==i.s?1:-1,K=r.d,V=i.d;if(!r.s)return new q(r);if(!i.s)throw Error(Hr+"Division by zero");for(u=r.e-i.e,D=V.length,T=K.length,v=new q(L),b=v.d=[],d=0;V[d]==(K[d]||0);)++d;if(V[d]>(K[d]||0)&&--u,a==null?E=a=q.precision:s?E=a+($t(r)-$t(i))+1:E=a,E<0)return new q(0);if(E=E/ht+2|0,d=0,D==1)for(p=0,V=V[0],E++;(d<T||p)&&E--;d++)O=p*tn+(K[d]||0),b[d]=O/V|0,p=O%V|0;else{for(p=tn/(V[0]+1)|0,p>1&&(V=e(V,p),K=e(K,p),D=V.length,T=K.length),_=D,w=K.slice(0,D),S=w.length;S<D;)w[S++]=0;B=V.slice(),B.unshift(0),M=V[0],V[1]>=tn/2&&++M;do p=0,c=t(V,w,D,S),c<0?(k=w[0],D!=S&&(k=k*tn+(w[1]||0)),p=k/M|0,p>1?(p>=tn&&(p=tn-1),m=e(V,p),y=m.length,S=w.length,c=t(m,w,y,S),c==1&&(p--,n(m,D<y?B:V,y))):(p==0&&(c=p=1),m=V.slice()),y=m.length,y<S&&m.unshift(0),n(w,m,S),c==-1&&(S=w.length,c=t(V,w,D,S),c<1&&(p++,n(w,D<S?B:V,S))),S=w.length):c===0&&(p++,w=[0]),b[d++]=p,c&&w[0]?w[S++]=K[_]||0:(w=[K[_]],S=1);while((_++<T||w[0]!==void 0)&&E--)}return b[0]||b.shift(),v.e=u,lt(v,s?a+$t(v)+1:a)}})();function K5(e,t){var n,r,i,a,s,c,u=0,d=0,p=e.constructor,m=p.precision;if($t(e)>16)throw Error(BS+$t(e));if(!e.s)return new p(ur);for(yt=!1,c=m,s=new p(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(r=Math.log($s(2,d))/Math.LN10*2+5|0,c+=r,n=i=a=new p(ur),p.precision=c;;){if(i=lt(i.times(e),c),n=n.times(++u),s=a.plus(Xi(i,n,c)),hi(s.d).slice(0,c)===hi(a.d).slice(0,c)){for(;d--;)a=lt(a.times(a),c);return p.precision=m,t==null?(yt=!0,lt(a,m)):a}a=s}}function $t(e){for(var t=e.e*ht,n=e.d[0];n>=10;n/=10)t++;return t}function Ix(e,t,n){if(t>e.LN10.sd())throw yt=!0,n&&(e.precision=n),Error(Hr+"LN10 precision limit exceeded");return lt(new e(e.LN10),t)}function Ua(e){for(var t="";e--;)t+="0";return t}function id(e,t){var n,r,i,a,s,c,u,d,p,m=1,y=10,v=e,b=v.d,w=v.constructor,S=w.precision;if(v.s<1)throw Error(Hr+(v.s?"NaN":"-Infinity"));if(v.eq(ur))return new w(0);if(t==null?(yt=!1,d=S):d=t,v.eq(10))return t==null&&(yt=!0),Ix(w,d);if(d+=y,w.precision=d,n=hi(b),r=n.charAt(0),a=$t(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=hi(v.d),r=n.charAt(0),m++;a=$t(v),r>1?(v=new w("0."+n),a++):v=new w(r+"."+n.slice(1))}else return u=Ix(w,d+2,S).times(a+""),v=id(new w(r+"."+n.slice(1)),d-y).plus(u),w.precision=S,t==null?(yt=!0,lt(v,S)):v;for(c=s=v=Xi(v.minus(ur),v.plus(ur),d),p=lt(v.times(v),d),i=3;;){if(s=lt(s.times(p),d),u=c.plus(Xi(s,new w(i),d)),hi(u.d).slice(0,d)===hi(c.d).slice(0,d))return c=c.times(2),a!==0&&(c=c.plus(Ix(w,d+2,S).times(a+""))),c=Xi(c,new w(m),d),w.precision=S,t==null?(yt=!0,lt(c,S)):c;c=u,i+=2}}function vM(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=ec(n/ht),e.d=[],r=(n+1)%ht,n<0&&(r+=ht),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ht;r<i;)e.d.push(+t.slice(r,r+=ht));t=t.slice(r),r=ht-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),yt&&(e.e>um||e.e<-um))throw Error(BS+n)}else e.s=0,e.e=0,e.d=[0];return e}function lt(e,t,n){var r,i,a,s,c,u,d,p,m=e.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=ht,i=t,d=m[p=0];else{if(p=Math.ceil((r+1)/ht),a=m.length,p>=a)return e;for(d=a=m[p],s=1;a>=10;a/=10)s++;r%=ht,i=r-ht+s}if(n!==void 0&&(a=$s(10,s-i-1),c=d/a%10|0,u=t<0||m[p+1]!==void 0||d%a,u=n<4?(c||u)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||u||n==6&&(r>0?i>0?d/$s(10,s-i):0:m[p-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return u?(a=$t(e),m.length=1,t=t-a-1,m[0]=$s(10,(ht-t%ht)%ht),e.e=ec(-t/ht)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=p,a=1,p--):(m.length=p+1,a=$s(10,ht-r),m[p]=i>0?(d/$s(10,s-i)%$s(10,i)|0)*a:0),u)for(;;)if(p==0){(m[0]+=a)==tn&&(m[0]=1,++e.e);break}else{if(m[p]+=a,m[p]!=tn)break;m[p--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(yt&&(e.e>um||e.e<-um))throw Error(BS+$t(e));return e}function V5(e,t){var n,r,i,a,s,c,u,d,p,m,y=e.constructor,v=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),yt?lt(t,v):t;if(u=e.d,m=t.d,r=t.e,d=e.e,u=u.slice(),s=d-r,s){for(p=s<0,p?(n=u,s=-s,c=m.length):(n=m,r=d,c=u.length),i=Math.max(Math.ceil(v/ht),c)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(u[i]!=m[i]){p=u[i]<m[i];break}s=0}for(p&&(n=u,u=m,m=n,t.s=-t.s),c=u.length,i=m.length-c;i>0;--i)u[c++]=0;for(i=m.length;i>s;){if(u[--i]<m[i]){for(a=i;a&&u[--a]===0;)u[a]=tn-1;--u[a],u[i]+=tn}u[i]-=m[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,yt?lt(t,v):t):new y(0)}function yo(e,t,n){var r,i=$t(e),a=hi(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ua(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ua(-i-1)+a,n&&(r=n-s)>0&&(a+=Ua(r))):i>=s?(a+=Ua(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Ua(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Ua(r))),e.s<0?"-"+a:a}function xM(e,t){if(e.length>t)return e.length=t,!0}function F5(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(so+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return vM(s,a.toString())}else if(typeof a!="string")throw Error(so+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Nie.test(a))vM(s,a);else throw Error(so+a)}if(i.prototype=xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=F5,i.config=i.set=jie,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function jie(e){if(!e||typeof e!="object")throw Error(Hr+"Object expected");var t,n,r,i=["precision",1,Jl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(ec(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(so+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(so+n+": "+r);return this}var IS=F5(Sie);ur=new IS(1);const tt=IS;var kie=e=>e,W5={},G5=e=>e===W5,bM=e=>function t(){return arguments.length===0||arguments.length===1&&G5(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Y5=(e,t)=>e===1?t:bM(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==W5).length;return a>=e?t(...r):Y5(e-a,bM(function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];var d=r.map(p=>G5(p)?c.shift():p);return t(...d,...c)}))}),pg=e=>Y5(e.length,e),S1=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Eie=pg((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Cie=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return kie;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((c,u)=>u(c),a(...arguments))}},N1=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),X5=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((s,c)=>{var u;return s===((u=t)===null||u===void 0?void 0:u[c])})||(t=i,n=e(...i)),n}};function Q5(e){var t;return e===0?t=1:t=Math.floor(new tt(e).abs().log(10).toNumber())+1,t}function Z5(e,t,n){for(var r=new tt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}pg((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});pg((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});pg((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var J5=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},e6=(e,t,n)=>{if(e.lte(0))return new tt(0);var r=Q5(e.toNumber()),i=new tt(10).pow(r),a=e.div(i),s=r!==1?.05:.1,c=new tt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),u=c.mul(i);return t?new tt(u.toNumber()):new tt(Math.ceil(u.toNumber()))},Oie=(e,t,n)=>{var r=new tt(1),i=new tt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new tt(10).pow(Q5(e)-1),i=new tt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new tt(Math.floor(e)))}else e===0?i=new tt(Math.floor((t-1)/2)):n||(i=new tt(Math.floor(e)));var s=Math.floor((t-1)/2),c=Cie(Eie(u=>i.add(new tt(u-s).mul(r)).toNumber()),S1);return c(0,t)},t6=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new tt(0),tickMin:new tt(0),tickMax:new tt(0)};var s=e6(new tt(n).sub(t).div(r-1),i,a),c;t<=0&&n>=0?c=new tt(0):(c=new tt(t).add(n).div(2),c=c.sub(new tt(c).mod(s)));var u=Math.ceil(c.sub(t).div(s).toNumber()),d=Math.ceil(new tt(n).sub(c).div(s).toNumber()),p=u+d+1;return p>r?t6(t,n,r,i,a+1):(p<r&&(d=n>0?d+(r-p):d,u=n>0?u:u+(r-p)),{step:s,tickMin:c.sub(new tt(u).mul(s)),tickMax:c.add(new tt(d).mul(s))})};function Tie(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[s,c]=J5([t,n]);if(s===-1/0||c===1/0){var u=c===1/0?[s,...S1(0,r-1).map(()=>1/0)]:[...S1(0,r-1).map(()=>-1/0),c];return t>n?N1(u):u}if(s===c)return Oie(s,r,i);var{step:d,tickMin:p,tickMax:m}=t6(s,c,a,i,0),y=Z5(p,m.add(new tt(.1).mul(d)),d);return t>n?N1(y):y}function Aie(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=J5([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var c=Math.max(t,2),u=e6(new tt(s).sub(a).div(c-1),i,0),d=[...Z5(new tt(a),new tt(s),u),s];return i===!1&&(d=d.map(p=>Math.round(p))),n>r?N1(d):d}var Mie=X5(Tie),_ie=X5(Aie),n6=e=>e.rootProps.maxBarSize,Die=e=>e.rootProps.barGap,r6=e=>e.rootProps.barCategoryGap,Pie=e=>e.rootProps.barSize,Td=e=>e.rootProps.stackOffset,zS=e=>e.options.chartName,$S=e=>e.rootProps.syncId,i6=e=>e.rootProps.syncMethod,US=e=>e.options.eventEmitter,Ui={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},or={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},mg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Rie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ui.angleAxisId,includeHidden:!1,name:void 0,reversed:Ui.reversed,scale:Ui.scale,tick:Ui.tick,tickCount:void 0,ticks:void 0,type:Ui.type,unit:void 0},Lie={allowDataOverflow:or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:or.scale,tick:or.tick,tickCount:or.tickCount,ticks:void 0,type:or.type,unit:void 0},Bie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ui.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ui.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ui.scale,tick:Ui.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Iie={allowDataOverflow:or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:or.scale,tick:or.tick,tickCount:or.tickCount,ticks:void 0,type:"category",unit:void 0},HS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Bie:Rie,qS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Iie:Lie,gg=e=>e.polarOptions,KS=W([sa,oa,Gt],HR),a6=W([gg,KS],(e,t)=>{if(e!=null)return Cn(e.innerRadius,t,0)}),s6=W([gg,KS],(e,t)=>{if(e!=null)return Cn(e.outerRadius,t,t*.8)}),zie=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},o6=W([gg],zie);W([HS,o6],mg);var l6=W([KS,a6,s6],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});W([qS,l6],mg);var c6=W([We,gg,a6,s6,sa,oa],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:c,startAngle:u,endAngle:d}=t;return{cx:Cn(s,i,i/2),cy:Cn(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),wt=(e,t)=>t,Ad=(e,t,n)=>n;function VS(e){return e?.id}var Xt=e=>{var t=We(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},tc=e=>e.tooltip.settings.axisId,ln=e=>{var t=Xt(e),n=tc(e);return Md(e,t,n)},u6=W([ln],e=>e?.dataKey);function d6(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(c=>{var u,d=(u=c.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var p=VS(c);d.forEach((m,y)=>{var v=a==null||i?y:String(dt(m,a,null)),b=dt(m,c.dataKey,0),w;s.has(v)?w=s.get(v):w={},Object.assign(w,{[p]:b}),s.set(v,w)})}}),Array.from(s.values())}function yg(e){return e.stackId!=null&&e.dataKey!=null}function wM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(n),!0).forEach(function(r){$ie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ie(e,t,n){return(t=Uie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uie(e){var t=Hie(e,"string");return typeof t=="symbol"?t:t+""}function Hie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j1=[0,"auto"],ar={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},f6=(e,t)=>e.cartesianAxis.xAxis[t],ca=(e,t)=>{var n=f6(e,t);return n??ar},sr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:j1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Sd},h6=(e,t)=>e.cartesianAxis.yAxis[t],ua=(e,t)=>{var n=h6(e,t);return n??sr},qie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},FS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??qie},Rt=(e,t,n)=>{switch(t){case"xAxis":return ca(e,n);case"yAxis":return ua(e,n);case"zAxis":return FS(e,n);case"angleAxis":return HS(e,n);case"radiusAxis":return qS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Kie=(e,t,n)=>{switch(t){case"xAxis":return ca(e,n);case"yAxis":return ua(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Md=(e,t,n)=>{switch(t){case"xAxis":return ca(e,n);case"yAxis":return ua(e,n);case"angleAxis":return HS(e,n);case"radiusAxis":return qS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},p6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function WS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var vg=e=>e.graphicalItems.cartesianItems,Vie=W([wt,Ad],WS),GS=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),_d=W([vg,Rt,Vie],GS),m6=W([_d],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(yg)),g6=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),y6=W([_d],g6),YS=e=>e.map(t=>t.data).filter(Boolean).flat(1),Fie=W([_d],YS),XS=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},QS=W([Fie,hg],XS),ZS=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:dt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:dt(i,r)}))):e.map(r=>({value:r})),xg=W([QS,Rt,_d],ZS);function v6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function jo(e){return e.filter(t=>yi(t)||t instanceof Date).map(Number).filter(t=>$r(t)===!1)}function Wie(e,t,n){return!n||typeof t!="number"||$r(t)?[]:n.length?jo(n.flatMap(r=>{var i=dt(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!pr(a)||!pr(s)))return[t-a,t+s]})):[]}var Gie=W([m6,hg,ln],d6),x6=(e,t,n)=>{var r={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[s,c]=a,u=c.map(VS);return[s,{stackedData:QJ(e,u,n),graphicalItems:c}]}))},k1=W([Gie,m6,Td],x6),b6=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var a=nee(e,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Yie=W([k1,gs,wt],b6),w6=(e,t,n,r,i)=>n.length>0?e.flatMap(a=>n.flatMap(s=>{var c,u,d=(c=r[s.id])===null||c===void 0?void 0:c.filter(m=>v6(i,m)),p=dt(a,(u=t.dataKey)!==null&&u!==void 0?u:s.dataKey);return{value:p,errorDomain:Wie(a,p,d)}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:dt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),bg=e=>e.errorBars,S6=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>v6(n,r));W([y6,bg,wt],S6);var Xie=W([QS,Rt,y6,bg,wt],w6);function Qie(e){var{value:t}=e;if(yi(t)||t instanceof Date)return t}var SM=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=jo(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Zie=(e,t,n)=>{var r=e.map(Qie).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&R4(r))?o5(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},JS=e=>{var t;if(e==null||!("domain"in e))return j1;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=jo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:j1},fm=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),c=Math.max(...a);return[s,c]}},N6=e=>e.referenceElements.dots,nc=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Jie=W([N6,wt,Ad],nc),j6=e=>e.referenceElements.areas,eae=W([j6,wt,Ad],nc),k6=e=>e.referenceElements.lines,tae=W([k6,wt,Ad],nc),E6=(e,t)=>{var n=jo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},nae=W(Jie,wt,E6),C6=(e,t)=>{var n=jo(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},rae=W([eae,wt],C6),O6=(e,t)=>{var n=jo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},iae=W(tae,wt,O6),aae=W(nae,iae,rae,(e,t,n)=>fm(e,n,t)),T6=W([Rt],JS),eN=(e,t,n,r,i,a,s)=>{var c=bie(t,e.allowDataOverflow);if(c!=null)return c;var u=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",d=u?fm(n,i,SM(r)):fm(i,SM(r));return wie(t,d,e.allowDataOverflow)},sae=W([Rt,T6,Yie,Xie,aae,We,wt],eN),oae=[0,1],tN=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:c,type:u}=e,d=fs(t,a);return d&&c==null?o5(0,n.length):u==="category"?Zie(r,e,d):i==="expand"?oae:s}},nN=W([Rt,We,QS,xg,Td,wt,sae],tN),A6=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(vd(a));return c in Nu?c:"point"}}},rc=W([Rt,We,p6,zS,wt],A6);function lae(e){if(e!=null){if(e in Nu)return Nu[e]();var t="scale".concat(vd(e));if(t in Nu)return Nu[t]()}}function rN(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=lae(t);if(i!=null){var a=i.domain(n).range(r);return FJ(a),a}}}var iN=(e,t,n)=>{var r=JS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ul(e))return Mie(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ul(e))return _ie(e,t.tickCount,t.allowDecimals)}},aN=W([nN,Md,rc],iN),sN=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Ul(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],c=n[n.length-1];return[Math.min(i,a),Math.max(s,c)]}return t},cae=W([Rt,nN,aN,wt],sN),uae=W(xg,Rt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(jo(e.map(c=>c.value))).sort((c,u)=>c-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),M6=W(uae,We,r6,Gt,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!pr(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Cn(n,e*a),c=e*a/2;return c-s-(c-s)/a*s}return 0}),dae=(e,t)=>{var n=ca(e,t);return n==null||typeof n.padding!="string"?0:M6(e,"xAxis",t,n.padding)},fae=(e,t)=>{var n=ua(e,t);return n==null||typeof n.padding!="string"?0:M6(e,"yAxis",t,n.padding)},hae=W(ca,dae,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),pae=W(ua,fae,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),mae=W([Gt,hae,ag,ig,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),gae=W([Gt,We,pae,ag,ig,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Dd=(e,t,n,r)=>{var i;switch(t){case"xAxis":return mae(e,n,r);case"yAxis":return gae(e,n,r);case"zAxis":return(i=FS(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return o6(e);case"radiusAxis":return l6(e,n);default:return}},_6=W([Rt,Dd],mg),ic=W([Rt,rc,cae,_6],rN);W([_d,bg,wt],S6);function D6(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var wg=(e,t)=>t,Sg=(e,t,n)=>n,yae=W(ng,wg,Sg,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(D6)),vae=W(rg,wg,Sg,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(D6)),P6=(e,t)=>({width:e.width,height:t.height}),xae=(e,t)=>{var n=typeof t.width=="number"?t.width:Sd;return{width:n,height:e.height}},R6=W(Gt,ca,P6),bae=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},wae=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Sae=W(oa,Gt,yae,wg,Sg,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var u=P6(t,c);s==null&&(s=bae(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[c.id]=s-Number(d)*u.height,s+=(d?-1:1)*u.height}),a}),Nae=W(sa,Gt,vae,wg,Sg,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var u=xae(t,c);s==null&&(s=wae(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[c.id]=s-Number(d)*u.width,s+=(d?-1:1)*u.width}),a}),jae=(e,t)=>{var n=ca(e,t);if(n!=null)return Sae(e,n.orientation,n.mirror)},kae=W([Gt,ca,jae,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Eae=(e,t)=>{var n=ua(e,t);if(n!=null)return Nae(e,n.orientation,n.mirror)},Cae=W([Gt,ua,Eae,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),L6=W(Gt,ua,(e,t)=>{var n=typeof t.width=="number"?t.width:Sd;return{width:n,height:e.height}}),NM=(e,t,n)=>{switch(t){case"xAxis":return R6(e,n).width;case"yAxis":return L6(e,n).height;default:return}},B6=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,c=fs(e,r),u=t.map(d=>d.value);if(s&&c&&a==="category"&&i&&R4(u))return u}},oN=W([We,xg,Rt,wt],B6),I6=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=fs(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},lN=W([We,xg,Md,wt],I6);W([We,Kie,rc,ic,oN,lN,Dd,aN,wt],(e,t,n,r,i,a,s,c,u)=>{if(t==null)return null;var d=fs(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:c,range:s,realScaleType:n,scale:r}});var Oae=(e,t,n,r,i,a,s,c,u)=>{if(!(t==null||r==null)){var d=fs(e,u),{type:p,ticks:m,tickCount:y}=t,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=p==="category"&&r.bandwidth?r.bandwidth()/v:0;b=u==="angleAxis"&&a!=null&&a.length>=2?yn(a[0]-a[1])*2*b:b;var w=m||i;if(w){var S=w.map((k,E)=>{var O=s?s.indexOf(k):k;return{index:E,coordinate:r(O)+b,value:k,offset:b}});return S.filter(k=>!$r(k.coordinate))}return d&&c?c.map((k,E)=>({coordinate:r(k)+b,value:k,index:E,offset:b})):r.ticks?r.ticks(y).map(k=>({coordinate:r(k)+b,value:k,offset:b})):r.domain().map((k,E)=>({coordinate:r(k)+b,value:s?s[k]:k,index:E,offset:b}))}},z6=W([We,Md,rc,ic,aN,Dd,oN,lN,wt],Oae),Tae=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=fs(e,s),{tickCount:u}=t,d=0;return d=s==="angleAxis"&&r?.length>=2?yn(r[0]-r[1])*2*d:d,c&&a?a.map((p,m)=>({coordinate:n(p)+d,value:p,index:m,offset:d})):n.ticks?n.ticks(u).map(p=>({coordinate:n(p)+d,value:p,offset:d})):n.domain().map((p,m)=>({coordinate:n(p)+d,value:i?i[p]:p,index:m,offset:d}))}},is=W([We,Md,ic,Dd,oN,lN,wt],Tae),as=W(Rt,ic,(e,t)=>{if(!(e==null||t==null))return dm(dm({},e),{},{scale:t})}),Aae=W([Rt,rc,nN,_6],rN);W((e,t,n)=>FS(e,n),Aae,(e,t)=>{if(!(e==null||t==null))return dm(dm({},e),{},{scale:t})});var Mae=W([We,ng,rg],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$6=e=>e.options.defaultTooltipEventType,U6=e=>e.options.validateTooltipEventTypes;function H6(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function cN(e,t){var n=$6(e),r=U6(e);return H6(t,n,r)}function _ae(e){return Se(t=>cN(t,e))}var q6=(e,t)=>{var n,r=Number(t);if(!($r(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Dae=e=>e.tooltip.settings,Wa={active:!1,index:null,dataKey:void 0,coordinate:void 0},Pae={itemInteraction:{click:Wa,hover:Wa},axisInteraction:{click:Wa,hover:Wa},keyboardInteraction:Wa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},K6=gr({name:"tooltip",initialState:Pae,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Yi(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Rae,removeTooltipEntrySettings:Lae,setTooltipSettingsState:Bae,setActiveMouseOverItemIndex:V6,mouseLeaveItem:Iae,mouseLeaveChart:F6,setActiveClickItemIndex:zae,setMouseOverAxisIndex:W6,setMouseClickAxisIndex:$ae,setSyncInteraction:E1,setKeyboardInteraction:C1}=K6.actions,Uae=K6.reducer;function jM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(n),!0).forEach(function(r){Hae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hae(e,t,n){return(t=qae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qae(e){var t=Kae(e,"string");return typeof t=="symbol"?t:t+""}function Kae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vae(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Fae(e){return e.index!=null}var G6=(e,t,n,r)=>{if(t==null)return Wa;var i=Vae(e,t,n);if(i==null)return Wa;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Fae(i)){if(a)return jh(jh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return jh(jh({},Wa),{},{coordinate:i.coordinate})},uN=(e,t)=>{var n=e?.index;if(n==null)return null;var r=Number(n);if(!pr(r))return n;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(r,a)))},Y6=(e,t,n,r,i,a,s,c)=>{if(!(a==null||c==null)){var u=s[0],d=u==null?void 0:c(u.positions,a);if(d!=null)return d;var p=i?.[Number(a)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},X6=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Pd=e=>e.options.tooltipPayloadSearcher,ac=e=>e.tooltip;function kM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(n),!0).forEach(function(r){Wae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wae(e,t,n){return(t=Gae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gae(e){var t=Yae(e,"string");return typeof t=="symbol"?t:t+""}function Yae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xae(e,t){return e??t}var Q6=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:c,computedData:u,dataStartIndex:d,dataEndIndex:p}=n,m=[];return e.reduce((y,v)=>{var b,{dataDefinedOnItem:w,settings:S}=v,k=Xae(w,c),E=Array.isArray(k)?qR(k,d,p):k,O=(b=S?.dataKey)!==null&&b!==void 0?b:r,_=S?.nameKey,T;if(r&&Array.isArray(E)&&!Array.isArray(E[0])&&s==="axis"?T=L4(E,r,i):T=a(E,t,u,_),Array.isArray(T))T.forEach(D=>{var B=EM(EM({},S),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});y.push(cA({tooltipEntrySettings:B,dataKey:D.dataKey,payload:D.payload,value:dt(D.payload,D.dataKey),name:D.name}))});else{var M;y.push(cA({tooltipEntrySettings:S,dataKey:O,payload:T,value:dt(T,O),name:(M=dt(T,_))!==null&&M!==void 0?M:S?.name}))}return y},m)}},dN=W([ln,We,p6,zS,Xt],A6),Qae=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Zae=W([Xt,tc],WS),Rd=W([Qae,ln,Zae],GS),Jae=W([Rd],e=>e.filter(yg)),ese=W([Rd],YS),sc=W([ese,gs],XS),tse=W([Jae,gs,ln],d6),fN=W([sc,ln,Rd],ZS),nse=W([ln],JS),rse=W([Rd],e=>e.filter(yg)),ise=W([tse,rse,Td],x6),ase=W([ise,gs,Xt],b6),sse=W([Rd],g6),ose=W([sc,ln,sse,bg,Xt],w6),lse=W([N6,Xt,tc],nc),cse=W([lse,Xt],E6),use=W([j6,Xt,tc],nc),dse=W([use,Xt],C6),fse=W([k6,Xt,tc],nc),hse=W([fse,Xt],O6),pse=W([cse,hse,dse],fm),mse=W([ln,nse,ase,ose,pse,We,Xt],eN),Z6=W([ln,We,sc,fN,Td,Xt,mse],tN),gse=W([Z6,ln,dN],iN),yse=W([ln,Z6,gse,Xt],sN),J6=e=>{var t=Xt(e),n=tc(e),r=!1;return Dd(e,t,n,r)},eL=W([ln,J6],mg),tL=W([ln,dN,yse,eL],rN),vse=W([We,fN,ln,Xt],B6),xse=W([We,fN,ln,Xt],I6),bse=(e,t,n,r,i,a,s,c)=>{if(t){var{type:u}=t,d=fs(e,c);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=u==="category"&&r.bandwidth?r.bandwidth()/p:0;return m=c==="angleAxis"&&i!=null&&i?.length>=2?yn(i[0]-i[1])*2*m:m,d&&s?s.map((y,v)=>({coordinate:r(y)+m,value:y,index:v,offset:m})):r.domain().map((y,v)=>({coordinate:r(y)+m,value:a?a[y]:y,index:v,offset:m}))}}},da=W([We,ln,dN,tL,J6,vse,xse,Xt],bse),hN=W([$6,U6,Dae],(e,t,n)=>H6(n.shared,e,t)),nL=e=>e.tooltip.settings.trigger,pN=e=>e.tooltip.settings.defaultIndex,Ng=W([ac,hN,nL,pN],G6),ss=W([Ng,sc],uN),rL=W([da,ss],q6),iL=W([Ng],e=>{if(e)return e.dataKey}),aL=W([ac,hN,nL,pN],X6),wse=W([sa,oa,We,Gt,da,pN,aL,Pd],Y6),Sse=W([Ng,wse],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Nse=W([Ng],e=>e.active),jse=W([aL,ss,gs,u6,rL,Pd,hN],Q6),kse=W([jse],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function CM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(n),!0).forEach(function(r){Ese(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ese(e,t,n){return(t=Cse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cse(e){var t=Ose(e,"string");return typeof t=="symbol"?t:t+""}function Ose(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tse=()=>Se(ln),Ase=()=>{var e=Tse(),t=Se(da),n=Se(tL);return Zu(OM(OM({},e),{},{scale:n}),t)},Mse=()=>Se(zS),mN=(e,t)=>t,sL=(e,t,n)=>n,gN=(e,t,n,r)=>r,_se=W(da,e=>Xm(e,t=>t.coordinate)),yN=W([ac,mN,sL,gN],G6),oL=W([yN,sc],uN),Dse=(e,t,n)=>{if(t!=null){var r=ac(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},lL=W([ac,mN,sL,gN],X6),hm=W([sa,oa,We,Gt,da,gN,lL,Pd],Y6),Pse=W([yN,hm],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),cL=W(da,oL,q6),Rse=W([lL,oL,gs,u6,cL,Pd,mN],Q6),Lse=W([yN],e=>({isActive:e.active,activeIndex:e.index})),Bse=(e,t,n,r,i,a,s,c)=>{if(!(!e||!t||!r||!i||!a)){var u=ree(e.chartX,e.chartY,t,n,c);if(u){var d=aee(u,t),p=KJ(d,s,a,r,i),m=iee(t,a,p,u);return{activeIndex:String(p),activeCoordinate:m}}}};function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O1.apply(null,arguments)}function TM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(n),!0).forEach(function(r){Ise(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ise(e,t,n){return(t=zse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zse(e){var t=$se(e,"string");return typeof t=="symbol"?t:t+""}function $se(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Use(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:s,cursor:c,tooltipEventType:u,chartName:d}=e,p=t,m=n,y=r;if(!c||!p||d!=="ScatterChart"&&u!=="axis")return null;var v,b;if(d==="ScatterChart")v=p,b=ste;else if(d==="BarChart")v=ote(s,p,i,a),b=r5;else if(s==="radial"){var{cx:w,cy:S,radius:k,startAngle:E,endAngle:O}=i5(p);v={cx:w,cy:S,startAngle:E,endAngle:O,innerRadius:k,outerRadius:k},b=s5}else v={points:$te(s,p,i)},b=fS;var _=typeof c=="object"&&"className"in c?c.className:void 0,T=kh(kh(kh(kh({stroke:"#ccc",pointerEvents:"none"},i),v),jt(c,!1)),{},{payload:m,payloadIndex:y,className:Ye("recharts-tooltip-cursor",_)});return j.isValidElement(c)?j.cloneElement(c,T):j.createElement(b,T)}function Hse(e){var t=Ase(),n=vee(),r=sg(),i=Mse();return j.createElement(Use,O1({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var uL=j.createContext(null),qse=()=>j.useContext(uL),zx={exports:{}},AM;function Kse(){return AM||(AM=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,p){this.fn=u,this.context=d,this.once=p||!1}function a(u,d,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new i(p,m||u,y),b=n?n+d:d;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],v]:u._events[b].push(v):(u._events[b]=v,u._eventsCount++),u}function s(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],p,m;if(this._eventsCount===0)return d;for(m in p=this._events)t.call(p,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},c.prototype.listeners=function(d){var p=n?n+d:d,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,v=m.length,b=new Array(v);y<v;y++)b[y]=m[y].fn;return b},c.prototype.listenerCount=function(d){var p=n?n+d:d,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(d,p,m,y,v,b){var w=n?n+d:d;if(!this._events[w])return!1;var S=this._events[w],k=arguments.length,E,O;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),k){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,m),!0;case 4:return S.fn.call(S.context,p,m,y),!0;case 5:return S.fn.call(S.context,p,m,y,v),!0;case 6:return S.fn.call(S.context,p,m,y,v,b),!0}for(O=1,E=new Array(k-1);O<k;O++)E[O-1]=arguments[O];S.fn.apply(S.context,E)}else{var _=S.length,T;for(O=0;O<_;O++)switch(S[O].once&&this.removeListener(d,S[O].fn,void 0,!0),k){case 1:S[O].fn.call(S[O].context);break;case 2:S[O].fn.call(S[O].context,p);break;case 3:S[O].fn.call(S[O].context,p,m);break;case 4:S[O].fn.call(S[O].context,p,m,y);break;default:if(!E)for(T=1,E=new Array(k-1);T<k;T++)E[T-1]=arguments[T];S[O].fn.apply(S[O].context,E)}}return!0},c.prototype.on=function(d,p,m){return a(this,d,p,m,!1)},c.prototype.once=function(d,p,m){return a(this,d,p,m,!0)},c.prototype.removeListener=function(d,p,m,y){var v=n?n+d:d;if(!this._events[v])return this;if(!p)return s(this,v),this;var b=this._events[v];if(b.fn)b.fn===p&&(!y||b.once)&&(!m||b.context===m)&&s(this,v);else{for(var w=0,S=[],k=b.length;w<k;w++)(b[w].fn!==p||y&&!b[w].once||m&&b[w].context!==m)&&S.push(b[w]);S.length?this._events[v]=S.length===1?S[0]:S:s(this,v)}return this},c.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&s(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(zx)),zx.exports}var Vse=Kse();const Fse=Jr(Vse);var ad=new Fse,T1="recharts.syncEvent.tooltip",MM="recharts.syncEvent.brush";function vN(e,t){if(t){var n=Number.parseInt(t,10);if(!$r(n))return e?.[n]}}var Wse={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},dL=gr({name:"options",initialState:Wse,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Gse=dL.reducer,{createEventEmitter:Yse}=dL.actions;function Xse(e){return e.tooltip.syncInteraction}var Qse={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},fL=gr({name:"chartData",initialState:Qse,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:_M,setDataStartEndIndexes:Zse,setComputedData:Npe}=fL.actions,Jse=fL.reducer,eoe=["x","y"];function DM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(n),!0).forEach(function(r){toe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function toe(e,t,n){return(t=noe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function noe(e){var t=roe(e,"string");return typeof t=="symbol"?t:t+""}function roe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ioe(e,t){if(e==null)return{};var n,r,i=aoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hL=()=>{};function soe(){var e=Se($S),t=Se(US),n=kt(),r=Se(i6),i=Se(da),a=sg(),s=uS(),c=Se(u=>u.rootProps.className);j.useEffect(()=>{if(e==null)return hL;var u=(d,p,m)=>{if(t!==m&&e===d){if(r==="index"){var y;if(s&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate){var v=p.payload.coordinate,{x:b,y:w}=v,S=ioe(v,eoe),k=Bs(Bs(Bs({},S),typeof b=="number"&&{x:Math.max(s.x,Math.min(b,s.x+s.width))}),typeof w=="number"&&{y:Math.max(s.y,Math.min(w,s.y+s.height))}),E=Bs(Bs({},p),{},{payload:Bs(Bs({},p.payload),{},{coordinate:k})});n(E)}else n(p);return}if(i!=null){var O;if(typeof r=="function"){var _={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},T=r(i,_);O=i[T]}else r==="value"&&(O=i.find(te=>String(te.value)===p.payload.label));var{coordinate:M}=p.payload;if(O==null||p.payload.active===!1||M==null||s==null){n(E1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:D,y:B}=M,q=Math.min(D,s.x+s.width),L=Math.min(B,s.y+s.height),K={x:a==="horizontal"?O.coordinate:q,y:a==="horizontal"?L:O.coordinate},V=E1({active:p.payload.active,coordinate:K,dataKey:p.payload.dataKey,index:String(O.index),label:p.payload.label});n(V)}}};return ad.on(T1,u),()=>{ad.off(T1,u)}},[c,n,t,e,r,i,a,s])}function ooe(){var e=Se($S),t=Se(US),n=kt();j.useEffect(()=>{if(e==null)return hL;var r=(i,a,s)=>{t!==s&&e===i&&n(Zse(a))};return ad.on(MM,r),()=>{ad.off(MM,r)}},[n,t,e])}function loe(){var e=kt();j.useEffect(()=>{e(Yse())},[e]),soe(),ooe()}function coe(e,t,n,r,i,a){var s=Se(y=>Dse(y,e,t)),c=Se(US),u=Se($S),d=Se(i6),p=Se(Xse),m=p?.active;j.useEffect(()=>{if(!m&&u!=null&&c!=null){var y=E1({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});ad.emit(T1,u,y,c)}},[m,n,s,i,r,c,u,d,a])}function PM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(n),!0).forEach(function(r){uoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uoe(e,t,n){return(t=doe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function doe(e){var t=foe(e,"string");return typeof t=="symbol"?t:t+""}function foe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hoe(e){return e.dataKey}function poe(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(Iee,t)}var LM=[],moe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!hs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $x(e){var t=An(e,moe),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:s,filterNull:c,isAnimationActive:u,offset:d,payloadUniqBy:p,position:m,reverseDirection:y,useTranslate3d:v,wrapperStyle:b,cursor:w,shared:S,trigger:k,defaultIndex:E,portal:O,axisId:_}=t,T=kt(),M=typeof E=="number"?String(E):E;j.useEffect(()=>{T(Bae({shared:S,trigger:k,axisId:_,active:n,defaultIndex:M}))},[T,S,k,_,n,M]);var D=uS(),B=ZR(),q=_ae(S),{activeIndex:L,isActive:K}=Se(Oe=>Lse(Oe,q,k,M)),V=Se(Oe=>Rse(Oe,q,k,M)),te=Se(Oe=>cL(Oe,q,k,M)),oe=Se(Oe=>Pse(Oe,q,k,M)),ue=V,$=qse(),J=n??K,[he,be]=yR([ue,J]),P=q==="axis"?te:void 0;coe(q,k,oe,P,L,J);var X=O??$;if(X==null)return null;var Z=ue??LM;J||(Z=LM),c&&Z.length&&(Z=fR(ue.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||t.includeHidden)),p,hoe));var de=Z.length>0,ve=j.createElement(Vee,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:u,active:J,coordinate:oe,hasPayload:de,offset:d,position:m,reverseDirection:y,useTranslate3d:v,viewBox:D,wrapperStyle:b,lastBoundingBox:he,innerRef:be,hasPortalFromProps:!!O},poe(s,RM(RM({},t),{},{payload:Z,label:P,active:J,coordinate:oe,accessibilityLayer:B})));return j.createElement(j.Fragment,null,G1.createPortal(ve,X),J&&j.createElement(Hse,{cursor:w,tooltipEventType:q,coordinate:oe,payload:ue,index:L}))}var Ux={},Hx={},qx={},BM;function goe(){return BM||(BM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,c=null;const u=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),p=()=>{c!==null&&(n.apply(s,c),s=void 0,c=null)},m=()=>{d&&p(),w()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},r)},b=()=>{y!==null&&(clearTimeout(y),y=null)},w=()=>{b(),s=void 0,c=null},S=()=>{p()},k=function(...E){if(i?.aborted)return;s=this,c=E;const O=y==null;v(),u&&O&&p()};return k.schedule=v,k.cancel=w,k.flush=S,i?.addEventListener("abort",w,{once:!0}),k}e.debounce=t})(qx)),qx}var IM;function yoe(){return IM||(IM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=goe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:c=!0,maxWait:u}=a,d=Array(2);s&&(d[0]="leading"),c&&(d[1]="trailing");let p,m=null;const y=t.debounce(function(...w){p=r.apply(this,w),m=null},i,{edges:d}),v=function(...w){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(p=r.apply(this,w),m=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,w),p)},b=()=>(y.flush(),p);return v.cancel=y.cancel,v.flush=b,v}e.debounce=n})(Hx)),Hx}var zM;function voe(){return zM||(zM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yoe();function n(r,i=0,a={}){const{leading:s=!0,trailing:c=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:c})}e.throttle=n})(Ux)),Ux}var Kx,$M;function xoe(){return $M||($M=1,Kx=voe().throttle),Kx}var boe=xoe();const woe=Jr(boe);var Vx=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(n),!0).forEach(function(r){Soe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Soe(e,t,n){return(t=Noe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Noe(e){var t=joe(e,"string");return typeof t=="symbol"?t:t+""}function joe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wx=j.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:c,maxHeight:u,children:d,debounce:p=0,id:m,className:y,onResize:v,style:b={}}=e,w=j.useRef(null),S=j.useRef();S.current=v,j.useImperativeHandle(t,()=>w.current);var[k,E]=j.useState({containerWidth:r.width,containerHeight:r.height}),O=j.useCallback((T,M)=>{E(D=>{var B=Math.round(T),q=Math.round(M);return D.containerWidth===B&&D.containerHeight===q?D:{containerWidth:B,containerHeight:q}})},[]);j.useEffect(()=>{var T=q=>{var L,{width:K,height:V}=q[0].contentRect;O(K,V),(L=S.current)===null||L===void 0||L.call(S,K,V)};p>0&&(T=woe(T,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(T),{width:D,height:B}=w.current.getBoundingClientRect();return O(D,B),M.observe(w.current),()=>{M.disconnect()}},[O,p]);var _=j.useMemo(()=>{var{containerWidth:T,containerHeight:M}=k;if(T<0||M<0)return null;Vx(Ws(i)||Ws(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Vx(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=Ws(i)?T:i,B=Ws(a)?M:a;return n&&n>0&&(D?B=D/n:B&&(D=B*n),u&&B>u&&(B=u)),Vx(D>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,B,i,a,s,c,n),j.Children.map(d,q=>j.cloneElement(q,{width:D,height:B,style:Fx({width:D,height:B},q.props.style)}))},[n,d,a,u,c,s,k,i]);return j.createElement("div",{id:m?"".concat(m):void 0,className:Ye("recharts-responsive-container",y),style:Fx(Fx({},b),{},{width:i,height:a,minWidth:s,minHeight:c,maxHeight:u}),ref:w},j.createElement("div",{style:{width:0,height:0,overflow:"visible"}},_))}),Ld=e=>null;Ld.displayName="Cell";function koe(e,t,n){return(t=Eoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eoe(e){var t=Coe(e,"string");return typeof t=="symbol"?t:t+""}function Coe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ooe{constructor(t){koe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function HM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Toe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(n),!0).forEach(function(r){Aoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aoe(e,t,n){return(t=Moe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Moe(e){var t=_oe(e,"string");return typeof t=="symbol"?t:t+""}function _oe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Doe={cacheSize:2e3,enableCache:!0},pL=Toe({},Doe),qM=new Ooe(pL.cacheSize),Poe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KM="recharts_measurement_span";function Roe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(c)}var VM=(e,t)=>{try{var n=document.getElementById(KM);n||(n=document.createElement("span"),n.setAttribute("id",KM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Poe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Pu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hs.isSsr)return{width:0,height:0};if(!pL.enableCache)return VM(t,n);var r=Roe(t,n),i=qM.get(r);if(i)return i;var a=VM(t,n);return qM.set(r,a),a},FM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Loe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Boe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ioe=Object.keys(mL),xl="NaN";function zoe(e,t){return e*mL[t]}class Kn{static parse(t){var n,[,r,i]=(n=Boe.exec(t))!==null&&n!==void 0?n:[];return new Kn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,$r(t)&&(this.unit=""),n!==""&&!Loe.test(n)&&(this.num=NaN,this.unit=""),Ioe.includes(n)&&(this.num=zoe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Kn(NaN,""):new Kn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Kn(NaN,""):new Kn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Kn(NaN,""):new Kn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Kn(NaN,""):new Kn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $r(this.num)}}function gL(e){if(e.includes(xl))return xl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=FM.exec(t))!==null&&n!==void 0?n:[],s=Kn.parse(r??""),c=Kn.parse(a??""),u=i==="*"?s.multiply(c):s.divide(c);if(u.isNaN())return xl;t=t.replace(FM,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,p,m,y]=(d=WM.exec(t))!==null&&d!==void 0?d:[],v=Kn.parse(p??""),b=Kn.parse(y??""),w=m==="+"?v.add(b):v.subtract(b);if(w.isNaN())return xl;t=t.replace(WM,w.toString())}return t}var GM=/\(([^()]*)\)/;function $oe(e){for(var t=e,n;(n=GM.exec(t))!=null;){var[,r]=n;t=t.replace(GM,gL(r))}return t}function Uoe(e){var t=e.replace(/\s+/g,"");return t=$oe(t),t=gL(t),t}function Hoe(e){try{return Uoe(e)}catch{return xl}}function Gx(e){var t=Hoe(e.slice(5,-1));return t===xl?"":t}var qoe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Koe=["dx","dy","angle","className","breakAll"];function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A1.apply(null,arguments)}function YM(e,t){if(e==null)return{};var n,r,i=Voe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Voe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yL=/[ \f\n\r\t\v\u2028\u2029]+/,vL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];bt(t)||(n?i=t.toString().split(""):i=t.toString().split(yL));var a=i.map(c=>({word:c,width:Pu(c,r).width})),s=n?0:Pu(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Foe=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:c,breakAll:u}=e,d=Pe(a),p=s,m=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce((V,te)=>{var{word:oe,width:ue}=te,$=V[V.length-1];if($&&(r==null||i||$.width+ue+n<Number(r)))$.words.push(oe),$.width+=ue+n;else{var J={words:[oe],width:ue};V.push(J)}return V},[])},y=m(t),v=L=>L.reduce((K,V)=>K.width>V.width?K:V);if(!d||i)return y;var b=y.length>a||v(y).width>Number(r);if(!b)return y;for(var w="…",S=L=>{var K=p.slice(0,L),V=vL({breakAll:u,style:c,children:K+w}).wordsWithComputedWidth,te=m(V),oe=te.length>a||v(te).width>Number(r);return[oe,te]},k=0,E=p.length-1,O=0,_;k<=E&&O<=p.length-1;){var T=Math.floor((k+E)/2),M=T-1,[D,B]=S(M),[q]=S(T);if(!D&&!q&&(k=T+1),D&&q&&(E=T-1),!D&&q){_=B;break}O++}return _||y},XM=e=>{var t=bt(e)?[]:e.toString().split(yL);return[{words:t}]},Woe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!hs.isSsr){var c,u,d=vL({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:p,spaceWidth:m}=d;c=p,u=m}else return XM(r);return Foe({breakAll:a,children:r,maxLines:s,style:i},c,u,t,n)}return XM(r)},QM="#808080",jg=j.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:c="start",verticalAnchor:u="end",fill:d=QM}=e,p=YM(e,qoe),m=j.useMemo(()=>Woe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:s,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,s,p.style,p.width]),{dx:y,dy:v,angle:b,className:w,breakAll:S}=p,k=YM(p,Koe);if(!yi(n)||!yi(r)||m.length===0)return null;var E=n+(Pe(y)?y:0),O=r+(Pe(v)?v:0),_;switch(u){case"start":_=Gx("calc(".concat(a,")"));break;case"middle":_=Gx("calc(".concat((m.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:_=Gx("calc(".concat(m.length-1," * -").concat(i,")"));break}var T=[];if(s){var M=m[0].width,{width:D}=p;T.push("scale(".concat(Pe(D)?D/M:1,")"))}return b&&T.push("rotate(".concat(b,", ").concat(E,", ").concat(O,")")),T.length&&(k.transform=T.join(" ")),j.createElement("text",A1({},jt(k,!0),{ref:t,x:E,y:O,className:Ye("recharts-text",w),textAnchor:c,fill:d.includes("url")?QM:d}),m.map((B,q)=>{var L=B.words.join(S?"":" ");return j.createElement("tspan",{x:E,dy:q===0?_:i,key:"".concat(L,"-").concat(q)},L)}))});jg.displayName="Text";var Goe=["labelRef"];function Yoe(e,t){if(e==null)return{};var n,r,i=Xoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(n),!0).forEach(function(r){Qoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qoe(e,t,n){return(t=Zoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zoe(e){var t=Joe(e,"string");return typeof t=="symbol"?t:t+""}function Joe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hi.apply(null,arguments)}var xL=j.createContext(null),ele=e=>{var{x:t,y:n,width:r,height:i,children:a}=e,s=j.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return j.createElement(xL.Provider,{value:s},a)},bL=()=>{var e=j.useContext(xL),t=uS();return e||t},tle=j.createContext(null),nle=()=>{var e=j.useContext(tle),t=Se(c6);return e||t},rle=e=>{var{value:t,formatter:n}=e,r=bt(e.children)?t:e.children;return typeof n=="function"?n(r):r},xN=e=>e!=null&&typeof e=="function",ile=(e,t)=>{var n=yn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},ale=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:c,cy:u,innerRadius:d,outerRadius:p,startAngle:m,endAngle:y,clockWise:v}=i,b=(d+p)/2,w=ile(m,y),S=w>=0?1:-1,k,E;switch(t){case"insideStart":k=m+S*a,E=v;break;case"insideEnd":k=y-S*a,E=!v;break;case"end":k=y+S*a,E=v;break;default:throw new Error("Unsupported position ".concat(t))}E=w<=0?E:!E;var O=zt(c,u,b,k),_=zt(c,u,b,k+(E?1:-1)*359),T="M".concat(O.x,",").concat(O.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(_.x,",").concat(_.y),M=bt(e.id)?Yu("recharts-radial-line-"):e.id;return j.createElement("text",Hi({},r,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",s)}),j.createElement("defs",null,j.createElement("path",{id:M,d:T})),j.createElement("textPath",{xlinkHref:"#".concat(M)},n))},sle=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:u}=e,d=(c+u)/2;if(n==="outside"){var{x:p,y:m}=zt(r,i,s+t,d);return{x:p,y:m,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+s)/2,{x:v,y:b}=zt(r,i,y,d);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},wL=e=>"cx"in e&&Pe(e.cx),ole=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!wL(n)&&(a=n);var{x:s,y:c,width:u,height:d}=t,p=d>=0?1:-1,m=p*r,y=p>0?"end":"start",v=p>0?"start":"end",b=u>=0?1:-1,w=b*r,S=b>0?"end":"start",k=b>0?"start":"end";if(i==="top"){var E={x:s+u/2,y:c-p*r,textAnchor:"middle",verticalAnchor:y};return Pt(Pt({},E),a?{height:Math.max(c-a.y,0),width:u}:{})}if(i==="bottom"){var O={x:s+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:v};return Pt(Pt({},O),a?{height:Math.max(a.y+a.height-(c+d),0),width:u}:{})}if(i==="left"){var _={x:s-w,y:c+d/2,textAnchor:S,verticalAnchor:"middle"};return Pt(Pt({},_),a?{width:Math.max(_.x-a.x,0),height:d}:{})}if(i==="right"){var T={x:s+u+w,y:c+d/2,textAnchor:k,verticalAnchor:"middle"};return Pt(Pt({},T),a?{width:Math.max(a.x+a.width-T.x,0),height:d}:{})}var M=a?{width:u,height:d}:{};return i==="insideLeft"?Pt({x:s+w,y:c+d/2,textAnchor:k,verticalAnchor:"middle"},M):i==="insideRight"?Pt({x:s+u-w,y:c+d/2,textAnchor:S,verticalAnchor:"middle"},M):i==="insideTop"?Pt({x:s+u/2,y:c+m,textAnchor:"middle",verticalAnchor:v},M):i==="insideBottom"?Pt({x:s+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:y},M):i==="insideTopLeft"?Pt({x:s+w,y:c+m,textAnchor:k,verticalAnchor:v},M):i==="insideTopRight"?Pt({x:s+u-w,y:c+m,textAnchor:S,verticalAnchor:v},M):i==="insideBottomLeft"?Pt({x:s+w,y:c+d-m,textAnchor:k,verticalAnchor:y},M):i==="insideBottomRight"?Pt({x:s+u-w,y:c+d-m,textAnchor:S,verticalAnchor:y},M):i&&typeof i=="object"&&(Pe(i.x)||Ws(i.x))&&(Pe(i.y)||Ws(i.y))?Pt({x:s+Cn(i.x,u),y:c+Cn(i.y,d),textAnchor:"end",verticalAnchor:"end"},M):Pt({x:s+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},M)},lle={offset:5};function Ha(e){var t=An(e,lle),{viewBox:n,position:r,value:i,children:a,content:s,className:c="",textBreakAll:u,labelRef:d}=t,p=nle(),m=bL(),y=r==="center"?m:p??m,v=n||y;if(!v||bt(i)&&bt(a)&&!j.isValidElement(s)&&typeof s!="function")return null;var b=Pt(Pt({},t),{},{viewBox:v});if(j.isValidElement(s)){var{labelRef:w}=b,S=Yoe(b,Goe);return j.cloneElement(s,S)}var k;if(typeof s=="function"){if(k=j.createElement(s,b),j.isValidElement(k))return k}else k=rle(t);var E=wL(v),O=jt(t,!0);if(E&&(r==="insideStart"||r==="insideEnd"||r==="end"))return ale(t,r,k,O,v);var _=E?sle(v,t.offset,t.position):ole(t,v);return j.createElement(jg,Hi({ref:d,className:Ye("recharts-label",c)},O,_,{breakAll:u}),k)}Ha.displayName="Label";var cle=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?j.createElement(Ha,Hi({key:"label-implicit"},r)):yi(e)?j.createElement(Ha,Hi({key:"label-implicit",value:e},r)):j.isValidElement(e)?e.type===Ha?j.cloneElement(e,Pt({key:"label-implicit"},r)):j.createElement(Ha,Hi({key:"label-implicit",content:e},r)):xN(e)?j.createElement(Ha,Hi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?j.createElement(Ha,Hi({},e,{key:"label-implicit"},r)):null};function ule(e){var{label:t}=e,n=bL();return cle(t,n)||null}var Yx={},Xx={},JM;function dle(){return JM||(JM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Xx)),Xx}var Qx={},e_;function fle(){return e_||(e_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Qx)),Qx}var t_;function hle(){return t_||(t_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dle(),n=fle(),r=tS();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(Yx)),Yx}var Zx,n_;function ple(){return n_||(n_=1,Zx=hle().last),Zx}var mle=ple();const gle=Jr(mle);var yle=["valueAccessor"],vle=["dataKey","clockWise","id","textBreakAll"];function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pm.apply(null,arguments)}function r_(e,t){if(e==null)return{};var n,r,i=xle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ble=e=>Array.isArray(e.value)?gle(e.value):e.value,SL=j.createContext(void 0),NL=SL.Provider,jL=j.createContext(void 0),wle=jL.Provider;function Sle(){return j.useContext(SL)}function Nle(){return j.useContext(jL)}function Ih(e){var{valueAccessor:t=ble}=e,n=r_(e,yle),{dataKey:r,clockWise:i,id:a,textBreakAll:s}=n,c=r_(n,vle),u=Sle(),d=Nle(),p=u||d;return!p||!p.length?null:j.createElement(vn,{className:"recharts-label-list"},p.map((m,y)=>{var v,b=bt(r)?t(m,y):dt(m&&m.payload,r),w=bt(a)?{}:{id:"".concat(a,"-").concat(y)};return j.createElement(Ha,pm({},jt(m,!0),c,w,{fill:(v=n.fill)!==null&&v!==void 0?v:m.fill,parentViewBox:m.parentViewBox,value:b,textBreakAll:s,viewBox:m.viewBox,key:"label-".concat(y),index:y}))}))}Ih.displayName="LabelList";function bN(e){var{label:t}=e;return t?t===!0?j.createElement(Ih,{key:"labelList-implicit"}):j.isValidElement(t)||xN(t)?j.createElement(Ih,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(Ih,pm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function M1(){return M1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M1.apply(null,arguments)}var kL=e=>{var{cx:t,cy:n,r,className:i}=e,a=Ye("recharts-dot",i);return t===+t&&n===+n&&r===+r?j.createElement("circle",M1({},aa(e),Fw(e),{className:a,cx:t,cy:n,r})):null},EL=e=>e.graphicalItems.polarItems,jle=W([wt,Ad],WS),wN=W([EL,Rt,jle],GS),kle=W([wN],YS),SN=W([kle,LS],XS),Ele=W([SN,Rt,wN],ZS),Cle=W([SN,Rt,wN],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=dt(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:dt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),i_=()=>{},Ole=W([Rt,T6,i_,Cle,i_,We,wt],eN),CL=W([Rt,We,SN,Ele,Td,wt,Ole],tN),Tle=W([CL,Rt,rc],iN);W([Rt,CL,Tle,wt],sN);var Ale={radiusAxis:{},angleAxis:{}},OL=gr({name:"polarAxis",initialState:Ale,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:jpe,removeRadiusAxis:kpe,addAngleAxis:Epe,removeAngleAxis:Cpe}=OL.actions,Mle=OL.reducer;function a_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(n),!0).forEach(function(r){_le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _le(e,t,n){return(t=Dle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dle(e){var t=Ple(e,"string");return typeof t=="symbol"?t:t+""}function Ple(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rle=(e,t)=>t,NN=W([EL,Rle],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),Lle=[],jN=(e,t,n)=>n?.length===0?Lle:n,TL=W([LS,NN,jN],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>s_(s_({},t.presentationProps),a.props))),i!=null)return i}}),Ble=W([TL,NN,jN],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=dt(r,t.nameKey,t.name),c;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=t.fill,{value:Ql(s,t.dataKey),color:c,payload:r,type:t.legendType}})}),Ile=W([TL,NN,jN,Gt],(e,t,n,r)=>{if(!(t==null||e==null))return Rce({offset:r,pieSettings:t,displayedData:e,cells:n})}),Jx={},o_;function zle(){return o_||(o_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Jx)),Jx}var eb,l_;function $le(){return l_||(l_=1,eb=zle().isPlainObject),eb}var Ule=$le();const Hle=Jr(Ule);function c_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(n),!0).forEach(function(r){qle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qle(e,t,n){return(t=Kle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kle(e){var t=Vle(e,"string");return typeof t=="symbol"?t:t+""}function Vle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mm.apply(null,arguments)}var d_=(e,t,n,r,i)=>{var a=n-r,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-a/2,",").concat(t+i),s+="L ".concat(e+n-a/2-r,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},Fle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wle=e=>{var t=An(e,Fle),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:c}=t,{animationEasing:u,animationDuration:d,animationBegin:p,isUpdateAnimationActive:m}=t,y=j.useRef(),[v,b]=j.useState(-1),w=j.useRef(i),S=j.useRef(a),k=j.useRef(s),E=j.useRef(n),O=j.useRef(r),_=jd(e,"trapezoid-");if(j.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var oe=y.current.getTotalLength();oe&&b(oe)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var T=Ye("recharts-trapezoid",c);if(!m)return j.createElement("g",null,j.createElement("path",mm({},jt(t,!0),{className:T,d:d_(n,r,i,a,s)})));var M=w.current,D=S.current,B=k.current,q=E.current,L=O.current,K="0px ".concat(v===-1?1:v,"px"),V="".concat(v,"px 0px"),te=JR(["strokeDasharray"],d,u);return j.createElement(Nd,{animationId:_,key:_,canBegin:v>0,duration:d,easing:u,isActive:m,begin:p},oe=>{var ue=At(M,i,oe),$=At(D,a,oe),J=At(B,s,oe),he=At(q,n,oe),be=At(L,r,oe);y.current&&(w.current=ue,S.current=$,k.current=J,E.current=he,O.current=be);var P=oe>0?{transition:te,strokeDasharray:V}:{strokeDasharray:K};return j.createElement("path",mm({},jt(t,!0),{className:T,d:d_(he,be,ue,$,J),ref:y,style:u_(u_({},P),t.style)}))})},Gle=["option","shapeType","propTransformer","activeClassName","isActive"];function Yle(e,t){if(e==null)return{};var n,r,i=Xle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function f_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(n),!0).forEach(function(r){Qle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qle(e,t,n){return(t=Zle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zle(e){var t=Jle(e,"string");return typeof t=="symbol"?t:t+""}function Jle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ece(e,t){return gm(gm({},t),e)}function tce(e,t){return e==="symbols"}function h_(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return j.createElement(r5,n);case"trapezoid":return j.createElement(Wle,n);case"sector":return j.createElement(s5,n);case"symbols":if(tce(t))return j.createElement(Zw,n);break;default:return null}}function nce(e){return j.isValidElement(e)?e.props:e}function AL(e){var{option:t,shapeType:n,propTransformer:r=ece,activeClassName:i="recharts-active-shape",isActive:a}=e,s=Yle(e,Gle),c;if(j.isValidElement(t))c=j.cloneElement(t,gm(gm({},s),nce(t)));else if(typeof t=="function")c=t(s);else if(Hle(t)&&typeof t!="boolean"){var u=r(t,s);c=j.createElement(h_,{shapeType:n,elementProps:u})}else{var d=s;c=j.createElement(h_,{shapeType:n,elementProps:d})}return a?j.createElement(vn,{className:i},c):c}var kN=(e,t)=>{var n=kt();return(r,i)=>a=>{e?.(r,i,a),n(V6({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},EN=e=>{var t=kt();return(n,r)=>i=>{e?.(n,r,i),t(Iae())}},CN=(e,t)=>{var n=kt();return(r,i)=>a=>{e?.(r,i,a),n(zae({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function ON(e){var{fn:t,args:n}=e,r=kt(),i=yr();return j.useEffect(()=>{if(!i){var a=t(n);return r(Rae(a)),()=>{r(Lae(a))}}},[t,n,r,i]),null}var ML=()=>{};function _L(e){var{legendPayload:t}=e,n=kt(),r=yr();return j.useEffect(()=>r?ML:(n(XR(t)),()=>{n(QR(t))}),[n,r,t]),null}function rce(e){var{legendPayload:t}=e,n=kt(),r=Se(We);return j.useEffect(()=>r!=="centric"&&r!=="radial"?ML:(n(XR(t)),()=>{n(QR(t))}),[n,r,t]),null}var tb,ice=()=>{var[e]=j.useState(()=>Yu("uid-"));return e},ace=(tb=Bz.useId)!==null&&tb!==void 0?tb:ice;function sce(e,t){var n=ace();return t||(e?"".concat(e,"-").concat(n):n)}var oce=j.createContext(void 0),TN=e=>{var{id:t,type:n,children:r}=e,i=sce("recharts-".concat(n),t);return j.createElement(oce.Provider,{value:i},r(i))},lce={cartesianItems:[],polarItems:[]},DL=gr({name:"graphicalItems",initialState:lce,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Yi(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Yi(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Yi(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:cce,replaceCartesianGraphicalItem:uce,removeCartesianGraphicalItem:dce,addPolarGraphicalItem:fce,removePolarGraphicalItem:hce}=DL.actions,pce=DL.reducer;function PL(e){var t=kt(),n=j.useRef(null);return j.useEffect(()=>{n.current===null?t(cce(e)):n.current!==e&&t(uce({prev:n.current,next:e})),n.current=e},[t,e]),j.useEffect(()=>()=>{n.current&&(t(dce(n.current)),n.current=null)},[t]),null}function mce(e){var t=kt();return j.useEffect(()=>(t(fce(e)),()=>{t(hce(e))}),[t,e]),null}var gce=["onMouseEnter","onClick","onMouseLeave"],yce=["id"],vce=["id"];function AN(e,t){if(e==null)return{};var n,r,i=xce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function p_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(n),!0).forEach(function(r){bce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bce(e,t,n){return(t=wce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wce(e){var t=Sce(e,"string");return typeof t=="symbol"?t:t+""}function Sce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ls.apply(null,arguments)}function Nce(e){var t=j.useMemo(()=>Ww(e.children,Ld),[e.children]),n=Se(r=>Ble(r,e.id,t));return n==null?null:j.createElement(rce,{legendPayload:n})}function jce(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:c,hide:u,tooltipType:d}=e;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:Ql(c,t),hide:u,type:d,color:s,unit:""}}}var kce=(e,t)=>e>t?"start":e<t?"end":"middle",Ece=(e,t,n)=>Cn(typeof t=="function"?t(e):t,n,n*.8),Cce=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,c=HR(a,s),u=i+Cn(e.cx,a,a/2),d=r+Cn(e.cy,s,s/2),p=Cn(e.innerRadius,c,0),m=Ece(n,e.outerRadius,c),y=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:u,cy:d,innerRadius:p,outerRadius:m,maxRadius:y}},Oce=(e,t)=>{var n=yn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function Tce(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Ace=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Ye("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return j.createElement(fS,ls({},t,{type:"linear",className:n}))},Mce=(e,t,n)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),j.isValidElement(r)))return r;var i=Ye("recharts-pie-label-text",Tce(e));return j.createElement(jg,ls({},t,{alignmentBaseline:"middle",className:i}),r)};function _ce(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var c=aa(n),u=jt(i,!1),d=jt(a,!1),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,m=t.map((y,v)=>{var b=(y.startAngle+y.endAngle)/2,w=zt(y.cx,y.cy,y.outerRadius+p,b),S=gt(gt(gt(gt({},c),y),{},{stroke:"none"},u),{},{index:v,textAnchor:kce(w.x,y.cx)},w),k=gt(gt(gt(gt({},c),y),{},{fill:"none",stroke:y.fill},d),{},{index:v,points:[zt(y.cx,y.cy,y.outerRadius,b),w],key:"line"});return j.createElement(vn,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},a&&Ace(a,k),Mce(i,S,dt(y,s)))});return j.createElement(vn,{className:"recharts-pie-labels"},m)}function Dce(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?j.createElement(bN,{label:i}):j.createElement(_ce,{sectors:t,props:n,showLabels:r})}function Pce(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i}=e,a=Se(ss),{onMouseEnter:s,onClick:c,onMouseLeave:u}=i,d=AN(i,gce),p=kN(s,i.dataKey),m=EN(u),y=CN(c,i.dataKey);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((v,b)=>{if(v?.startAngle===0&&v?.endAngle===0&&t.length!==1)return null;var w=n&&String(b)===a,S=a?r:null,k=w?n:S,E=gt(gt({},v),{},{stroke:v.stroke,tabIndex:-1,[VR]:b,[FR]:i.dataKey});return j.createElement(vn,ls({tabIndex:-1,className:"recharts-pie-sector"},xd(d,v,b),{onMouseEnter:p(v,b),onMouseLeave:m(v,b),onClick:y(v,b),key:"sector-".concat(v?.startAngle,"-").concat(v?.endAngle,"-").concat(v.midAngle,"-").concat(b)}),j.createElement(AL,ls({option:k,isActive:w,shapeType:"sector"},E)))}))}function Rce(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:c,endAngle:u,dataKey:d,nameKey:p,tooltipType:m}=n,y=Math.abs(n.minAngle),v=Oce(c,u),b=Math.abs(v),w=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(M=>dt(M,d,0)!==0).length,k=(b>=360?S:S-1)*w,E=b-S*y-k,O=r.reduce((M,D)=>{var B=dt(D,d,0);return M+(Pe(B)?B:0)},0),_;if(O>0){var T;_=r.map((M,D)=>{var B=dt(M,d,0),q=dt(M,p,D),L=Cce(n,a,M),K=(Pe(B)?B:0)/O,V,te=gt(gt({},M),i&&i[D]&&i[D].props);D?V=T.endAngle+yn(v)*w*(B!==0?1:0):V=c;var oe=V+yn(v)*((B!==0?y:0)+K*E),ue=(V+oe)/2,$=(L.innerRadius+L.outerRadius)/2,J=[{name:q,value:B,payload:te,dataKey:d,type:m}],he=zt(L.cx,L.cy,$,ue);return T=gt(gt(gt(gt({},n.presentationProps),{},{percent:K,cornerRadius:s,name:q,tooltipPayload:J,midAngle:ue,middleRadius:$,tooltipPosition:he},te),L),{},{value:B,startAngle:V,endAngle:oe,payload:te,paddingAngle:yn(v)*w}),T})}return _}function Lce(e){var{showLabels:t,sectors:n,children:r}=e,i=j.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return j.createElement(wle,{value:t?i:void 0},r)}function Bce(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:p,onAnimationEnd:m}=t,y=jd(t,"recharts-pie-"),v=n.current,[b,w]=j.useState(!1),S=j.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),k=j.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return j.createElement(Lce,{showLabels:!b,sectors:r},j.createElement(Nd,{animationId:y,begin:a,duration:s,isActive:i,easing:c,onAnimationStart:k,onAnimationEnd:S,key:y},E=>{var O=[],_=r&&r[0],T=_?.startAngle;return r?.forEach((M,D)=>{var B=v&&v[D],q=D>0?po(M,"paddingAngle",0):0;if(B){var L=At(B.endAngle-B.startAngle,M.endAngle-M.startAngle,E),K=gt(gt({},M),{},{startAngle:T+q,endAngle:T+L+q});O.push(K),T=K.endAngle}else{var{endAngle:V,startAngle:te}=M,oe=At(0,V-te,E),ue=gt(gt({},M),{},{startAngle:T+q,endAngle:T+oe+q});O.push(ue),T=ue.endAngle}}),n.current=O,j.createElement(vn,null,j.createElement(Pce,{sectors:O,activeShape:u,inactiveShape:d,allOtherPieProps:t}))}),j.createElement(Dce,{showLabels:!b,sectors:r,props:t}),t.children)}var Ice={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!hs.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function zce(e){var{id:t}=e,n=AN(e,yce),{hide:r,className:i,rootTabIndex:a}=e,s=j.useMemo(()=>Ww(e.children,Ld),[e.children]),c=Se(p=>Ile(p,t,s)),u=j.useRef(null),d=Ye("recharts-pie",i);return r||c==null?(u.current=null,j.createElement(vn,{tabIndex:a,className:d})):j.createElement(j.Fragment,null,j.createElement(ON,{fn:jce,args:gt(gt({},e),{},{sectors:c})}),j.createElement(vn,{tabIndex:a,className:d},j.createElement(Bce,{props:gt(gt({},n),{},{sectors:c}),previousSectorsRef:u})))}function RL(e){var t=An(e,Ice),{id:n}=t,r=AN(t,vce),i=aa(r);return j.createElement(TN,{id:n,type:"pie"},a=>j.createElement(j.Fragment,null,j.createElement(mce,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),j.createElement(Nce,ls({},r,{id:a})),j.createElement(zce,ls({},r,{id:a}))))}RL.displayName="Pie";function m_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function g_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(n),!0).forEach(function(r){$ce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ce(e,t,n){return(t=Uce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uce(e){var t=Hce(e,"string");return typeof t=="symbol"?t:t+""}function Hce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qce={xAxis:{},yAxis:{},zAxis:{}},LL=gr({name:"cartesianAxis",initialState:qce,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=g_(g_({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:Kce,removeXAxis:Vce,addYAxis:Fce,removeYAxis:Wce,addZAxis:Ope,removeZAxis:Tpe,updateYAxisWidth:Gce}=LL.actions,Yce=LL.reducer,Xce=W([Gt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Qce=W([Xce,sa,oa],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),MN=()=>Se(Qce),Zce=()=>Se(kse);function y_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function v_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(n),!0).forEach(function(r){Jce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jce(e,t,n){return(t=eue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eue(e){var t=tue(e,"string");return typeof t=="symbol"?t:t+""}function tue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nue=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s=v_(v_({index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},jt(i,!1)),Fw(i)),c;return j.isValidElement(i)?c=j.cloneElement(i,s):typeof i=="function"?c=i(s):c=j.createElement(kL,s),j.createElement(vn,{className:"recharts-active-dot"},c)};function rue(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,a=Se(ss),s=Zce();if(t==null||s==null)return null;var c=t.find(u=>s.includes(u.payload));return bt(c)?null:nue({point:c,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var iue="Invariant failed";function aue(e,t){throw new Error(iue)}var sue=["x","y"];function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_1.apply(null,arguments)}function x_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(n),!0).forEach(function(r){oue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oue(e,t,n){return(t=lue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lue(e){var t=cue(e,"string");return typeof t=="symbol"?t:t+""}function cue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uue(e,t){if(e==null)return{};var n,r,i=due(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function due(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fue(e,t){var{x:n,y:r}=e,i=uue(e,sue),a="".concat(n),s=parseInt(a,10),c="".concat(r),u=parseInt(c,10),d="".concat(t.height||i.height),p=parseInt(d,10),m="".concat(t.width||i.width),y=parseInt(m,10);return yu(yu(yu(yu(yu({},t),i),s?{x:s}:{}),u?{y:u}:{}),{},{height:p,width:y,name:t.name,radius:t.radius})}function _N(e){return j.createElement(AL,_1({shapeType:"rectangle",propTransformer:fue,activeClassName:"recharts-active-bar"},e))}var hue=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Pe(t))return t;var a=Pe(r)||bt(r);return a?t(r,i):(a||aue(),n)}},pue={},BL=gr({name:"errorBars",initialState:pue,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Ape,replaceErrorBar:Mpe,removeErrorBar:_pe}=BL.actions,mue=BL.reducer,gue=["children"];function yue(e,t){if(e==null)return{};var n,r,i=vue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xue={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},bue=j.createContext(xue);function IL(e){var{children:t}=e,n=yue(e,gue);return j.createElement(bue.Provider,{value:n},t)}function DN(e,t){var n,r,i=Se(d=>ca(d,e)),a=Se(d=>ua(d,t)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ar.allowDataOverflow,c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:sr.allowDataOverflow,u=s||c;return{needClip:u,needClipX:s,needClipY:c}}function zL(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=MN(),{needClipX:a,needClipY:s,needClip:c}=DN(t,n);if(!c)return null;var{x:u,y:d,width:p,height:m}=i;return j.createElement("clipPath",{id:"clipPath-".concat(r)},j.createElement("rect",{x:a?u:u-p/2,y:s?d:d-m/2,width:a?p:p*2,height:s?m:m*2}))}var wue=["onMouseEnter","onMouseLeave","onClick"],Sue=["value","background","tooltipPosition"],Nue=["id"],jue=["onMouseEnter","onClick","onMouseLeave"];function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cs.apply(null,arguments)}function b_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(n),!0).forEach(function(r){kue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kue(e,t,n){return(t=Eue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eue(e){var t=Cue(e,"string");return typeof t=="symbol"?t:t+""}function Cue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ym(e,t){if(e==null)return{};var n,r,i=Oue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Tue=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Ql(n,t),payload:e}]};function Aue(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Ql(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:c}}}function Mue(e){var t=Se(ss),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:c,onClick:u}=a,d=ym(a,wue),p=kN(s,r),m=EN(c),y=CN(u,r);if(!i||n==null)return null;var v=jt(i,!1);return j.createElement(j.Fragment,null,n.map((b,w)=>{var{value:S,background:k,tooltipPosition:E}=b,O=ym(b,Sue);if(!k)return null;var _=p(b,w),T=m(b,w),M=y(b,w),D=Dn(Dn(Dn(Dn(Dn({option:i,isActive:String(w)===t},O),{},{fill:"#eee"},k),v),xd(d,b,w)),{},{onMouseEnter:_,onMouseLeave:T,onClick:M,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return j.createElement(_N,cs({key:"background-bar-".concat(D.index)},D))}))}function _ue(e){var{showLabels:t,children:n,rects:r}=e,i=r?.map(a=>{var s={x:a.x,y:a.y,width:a.width,height:a.height};return Dn(Dn({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return j.createElement(NL,{value:t?i:void 0},n)}function Due(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=e,c=Se(ss),u=Se(iL),d=n&&String(a)===c&&(u==null||s===u),p=d?n:t;return j.createElement(_N,cs({},r,i,{isActive:d,option:p,index:a,dataKey:s}))}function Pue(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return j.createElement(_N,cs({},n,r,{isActive:!1,option:t,index:i,dataKey:a}))}function Rue(e){var{data:t,props:n}=e,r=aa(n),{id:i}=r,a=ym(r,Nue),{shape:s,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:p,onMouseLeave:m}=n,y=ym(n,jue),v=kN(d,c),b=EN(m),w=CN(p,c);return t?j.createElement(j.Fragment,null,t.map((S,k)=>j.createElement(vn,cs({className:"recharts-bar-rectangle"},xd(y,S,k),{onMouseEnter:v(S,k),onMouseLeave:b(S,k),onClick:w(S,k),key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(k)}),u?j.createElement(Due,{shape:s,activeBar:u,baseProps:a,entry:S,index:k,dataKey:c}):j.createElement(Pue,{shape:s,baseProps:a,entry:S,index:k,dataKey:c})))):null}function Lue(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:c,animationEasing:u,onAnimationEnd:d,onAnimationStart:p}=t,m=n.current,y=jd(t,"recharts-bar-"),[v,b]=j.useState(!1),w=!v,S=j.useCallback(()=>{typeof d=="function"&&d(),b(!1)},[d]),k=j.useCallback(()=>{typeof p=="function"&&p(),b(!0)},[p]);return j.createElement(_ue,{showLabels:w,rects:r},j.createElement(Nd,{animationId:y,begin:s,duration:c,isActive:a,easing:u,onAnimationEnd:S,onAnimationStart:k,key:y},E=>{var O=E===1?r:r?.map((_,T)=>{var M=m&&m[T];if(M)return Dn(Dn({},_),{},{x:At(M.x,_.x,E),y:At(M.y,_.y,E),width:At(M.width,_.width,E),height:At(M.height,_.height,E)});if(i==="horizontal"){var D=At(0,_.height,E);return Dn(Dn({},_),{},{y:_.y+_.height-D,height:D})}var B=At(0,_.width,E);return Dn(Dn({},_),{},{width:B})});return E>0&&(n.current=O??null),O==null?null:j.createElement(vn,null,j.createElement(Rue,{props:t,data:O}))}),j.createElement(bN,{label:t.label}),t.children)}function Bue(e){var t=j.useRef(null);return j.createElement(Lue,{previousRectanglesRef:t,props:e})}var $L=0,Iue=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:dt(e,t)}};class zue extends j.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:c,background:u,id:d}=this.props;if(t||n==null)return null;var p=Ye("recharts-bar",i),m=d;return j.createElement(vn,{className:p,id:d},c&&j.createElement("defs",null,j.createElement(zL,{clipPathId:m,xAxisId:a,yAxisId:s})),j.createElement(vn,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(m,")"):void 0},j.createElement(Mue,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),j.createElement(Bue,this.props)))}}var $ue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!hs.isSsr,legendType:"rect",minPointSize:$L,xAxisId:0,yAxisId:0};function Uue(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:p}=e,{needClip:m}=DN(t,n),y=sg(),v=yr(),b=Ww(e.children,Ld),w=Se(E=>mde(E,t,n,v,e.id,b));if(y!=="vertical"&&y!=="horizontal")return null;var S,k=w?.[0];return k==null||k.height==null||k.width==null?S=0:S=y==="vertical"?k.height/2:k.width/2,j.createElement(IL,{xAxisId:t,yAxisId:n,data:w,dataPointFormatter:Iue,errorBarOffset:S},j.createElement(zue,cs({},e,{layout:y,needClip:m,data:w,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:p})))}function Hue(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:c,xAxisTicks:u,yAxisTicks:d,stackedData:p,displayedData:m,offset:y,cells:v,parentViewBox:b}=e,w=t==="horizontal"?c:s,S=p?w.scale.domain():null,k=JJ({numericAxis:w});return m.map((E,O)=>{var _,T,M,D,B,q;p?_=WJ(p[O],S):(_=dt(E,n),Array.isArray(_)||(_=[k,_]));var L=hue(r,$L)(_[1],O);if(t==="horizontal"){var K,[V,te]=[c.scale(_[0]),c.scale(_[1])];T=sA({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:E,index:O}),M=(K=te??V)!==null&&K!==void 0?K:void 0,D=i.size;var oe=V-te;if(B=$r(oe)?0:oe,q={x:T,y:y.top,width:D,height:y.height},Math.abs(L)>0&&Math.abs(B)<Math.abs(L)){var ue=yn(B||L)*(Math.abs(L)-Math.abs(B));M-=ue,B+=ue}}else{var[$,J]=[s.scale(_[0]),s.scale(_[1])];if(T=$,M=sA({axis:c,ticks:d,bandSize:a,offset:i.offset,entry:E,index:O}),D=J-$,B=i.size,q={x:y.left,y:M,width:y.width,height:B},Math.abs(L)>0&&Math.abs(D)<Math.abs(L)){var he=yn(D||L)*(Math.abs(L)-Math.abs(D));D+=he}}if(T==null||M==null||D==null||B==null)return null;var be=Dn(Dn({},E),{},{x:T,y:M,width:D,height:B,value:p?_:_[1],payload:E,background:q,tooltipPosition:{x:T+D/2,y:M+B/2},parentViewBox:b},v&&v[O]&&v[O].props);return be}).filter(Boolean)}function que(e){var t=An(e,$ue),n=yr();return j.createElement(TN,{id:t.id,type:"bar"},r=>j.createElement(j.Fragment,null,j.createElement(_L,{legendPayload:Tue(t)}),j.createElement(ON,{fn:Aue,args:t}),j.createElement(PL,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:ZJ(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),j.createElement(Uue,cs({},t,{id:r}))))}var UL=j.memo(que);UL.displayName="Bar";function w_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(n),!0).forEach(function(r){Kue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kue(e,t,n){return(t=Vue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vue(e){var t=Fue(e,"string");return typeof t=="symbol"?t:t+""}function Fue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wue=(e,t)=>t,Gue=(e,t,n)=>n,Yue=(e,t,n,r)=>r,Xue=(e,t,n,r,i)=>i,Bd=W([vg,Xue],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),Que=W([Bd],e=>e?.maxBarSize),Zue=(e,t,n,r,i,a)=>a,S_=(e,t,n)=>{var r=n??e;if(!bt(r))return Cn(r,t,0)},Jue=W([We,vg,Wue,Gue,Yue],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),ede=(e,t,n,r)=>{var i=We(e);return i==="horizontal"?k1(e,"yAxis",n,r):k1(e,"xAxis",t,r)},tde=(e,t,n)=>{var r=We(e);return r==="horizontal"?NM(e,"xAxis",t):NM(e,"yAxis",n)},nde=(e,t,n)=>{var r={},i=e.filter(yg),a=e.filter(d=>d.stackId==null),s=i.reduce((d,p)=>(d[p.stackId]||(d[p.stackId]=[]),d[p.stackId].push(p),d),r),c=Object.entries(s).map(d=>{var[p,m]=d,y=m.map(b=>b.dataKey),v=S_(t,n,m[0].barSize);return{stackId:p,dataKeys:y,barSize:v}}),u=a.map(d=>{var p=[d.dataKey].filter(y=>y!=null),m=S_(t,n,d.barSize);return{stackId:void 0,dataKeys:p,barSize:m}});return[...c,...u]},rde=W([Jue,Pie,tde],nde),ide=(e,t,n,r,i)=>{var a,s,c=Bd(e,t,n,r,i);if(c!=null){var u=We(e),d=n6(e),{maxBarSize:p}=c,m=bt(p)?d:p,y,v;return u==="horizontal"?(y=as(e,"xAxis",t,r),v=is(e,"xAxis",t,r)):(y=as(e,"yAxis",n,r),v=is(e,"yAxis",n,r)),(a=(s=Zu(y,v,!0))!==null&&s!==void 0?s:m)!==null&&a!==void 0?a:0}},HL=(e,t,n,r)=>{var i=We(e),a,s;return i==="horizontal"?(a=as(e,"xAxis",t,r),s=is(e,"xAxis",t,r)):(a=as(e,"yAxis",n,r),s=is(e,"yAxis",n,r)),Zu(a,s)};function ade(e,t,n,r,i){var a=r.length;if(!(a<1)){var s=Cn(e,n,0,!0),c,u=[];if(pr(r[0].barSize)){var d=!1,p=n/a,m=r.reduce((k,E)=>k+(E.barSize||0),0);m+=(a-1)*s,m>=n&&(m-=(a-1)*s,s=0),m>=n&&p>0&&(d=!0,p*=.9,m=a*p);var y=(n-m)/2>>0,v={offset:y-s,size:0};c=r.reduce((k,E)=>{var O,_={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:v.offset+v.size+s,size:d?p:(O=E.barSize)!==null&&O!==void 0?O:0}},T=[...k,_];return v=T[T.length-1].position,T},u)}else{var b=Cn(t,n,0,!0);n-2*b-(a-1)*s<=0&&(s=0);var w=(n-2*b-(a-1)*s)/a;w>1&&(w>>=0);var S=pr(i)?Math.min(w,i):w;c=r.reduce((k,E,O)=>[...k,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:b+(w+s)*O+(w-S)/2,size:S}}],u)}return c}}var sde=(e,t,n,r,i,a,s)=>{var c=bt(s)?t:s,u=ade(n,r,i!==a?i:a,e,c);return i!==a&&u!=null&&(u=u.map(d=>Eh(Eh({},d),{},{position:Eh(Eh({},d.position),{},{offset:d.position.offset-i/2})}))),u},ode=W([rde,n6,Die,r6,ide,HL,Que],sde),lde=(e,t,n,r)=>as(e,"xAxis",t,r),cde=(e,t,n,r)=>as(e,"yAxis",n,r),ude=(e,t,n,r)=>is(e,"xAxis",t,r),dde=(e,t,n,r)=>is(e,"yAxis",n,r),fde=W([ode,Bd],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),hde=(e,t)=>{var n=VS(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},pde=W([ede,Bd],hde),mde=W([Gt,cS,lde,cde,ude,dde,fde,We,hg,HL,pde,Bd,Zue],(e,t,n,r,i,a,s,c,u,d,p,m,y)=>{var{chartData:v,dataStartIndex:b,dataEndIndex:w}=u;if(!(m==null||s==null||t==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||a==null||d==null)){var{data:S}=m,k;if(S!=null&&S.length>0?k=S:k=v?.slice(b,w+1),k!=null)return Hue({layout:c,barSettings:m,pos:s,parentViewBox:t,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:p,displayedData:k,offset:e,cells:y})}}),qL=e=>{var{chartData:t}=e,n=kt(),r=yr();return j.useEffect(()=>r?()=>{}:(n(_M(t)),()=>{n(_M(void 0))}),[t,n,r]),null},N_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},KL=gr({name:"brush",initialState:N_,reducers:{setBrushSettings(e,t){return t.payload==null?N_:t.payload}}}),{setBrushSettings:Dpe}=KL.actions,gde=KL.reducer;function yde(e,t,n){return(t=vde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vde(e){var t=xde(e,"string");return typeof t=="symbol"?t:t+""}function xde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PN{static create(t){return new PN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}yde(PN,"EPS",1e-4);function bde(e){return(e%180+180)%180}var wde=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=bde(i),s=a*Math.PI/180,c=Math.atan(r/n),u=s>c&&s<Math.PI-c?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},Sde={dots:[],areas:[],lines:[]},VL=gr({name:"referenceElements",initialState:Sde,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Yi(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Yi(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Yi(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Ppe,removeDot:Rpe,addArea:Lpe,removeArea:Bpe,addLine:Ipe,removeLine:zpe}=VL.actions,Nde=VL.reducer,jde=j.createContext(void 0),kde=e=>{var{children:t}=e,[n]=j.useState("".concat(Yu("recharts"),"-clip")),r=MN();if(r==null)return null;var{x:i,y:a,width:s,height:c}=r;return j.createElement(jde.Provider,{value:n},j.createElement("defs",null,j.createElement("clipPath",{id:n},j.createElement("rect",{x:i,y:a,height:c,width:s}))),t)};function Hl(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function FL(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function Ede(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return wde(r,n)}function Cde(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:c}=e;return t===1?{start:r?i:a,end:r?i+s:a+c}:{start:r?i+s:a+c,end:r?i:a}}function vm(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Ode(e,t){return FL(e,t+1)}function Tde(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:c}=t,u=0,d=1,p=s,m=function(){var b=r?.[u];if(b===void 0)return{v:FL(r,d)};var w=u,S,k=()=>(S===void 0&&(S=n(b,w)),S),E=b.coordinate,O=u===0||vm(e,E,k,p,c);O||(u=0,p=s,d+=1),O&&(p=E+e*(k()/2+i),u+=d)},y;d<=a.length;)if(y=m(),y)return y.v;return[]}function j_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(n),!0).forEach(function(r){Ade(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ade(e,t,n){return(t=Mde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mde(e){var t=_de(e,"string");return typeof t=="symbol"?t:t+""}function _de(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dde(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:c}=t,{end:u}=t,d=function(y){var v=a[y],b,w=()=>(b===void 0&&(b=n(v,y)),b);if(y===s-1){var S=e*(v.coordinate+e*w()/2-u);a[y]=v=Nn(Nn({},v),{},{tickCoord:S>0?v.coordinate-S*e:v.coordinate})}else a[y]=v=Nn(Nn({},v),{},{tickCoord:v.coordinate});var k=vm(e,v.tickCoord,w,c,u);k&&(u=v.tickCoord-e*(w()/2+i),a[y]=Nn(Nn({},v),{},{isShow:!0}))},p=s-1;p>=0;p--)d(p);return a}function Pde(e,t,n,r,i,a){var s=(r||[]).slice(),c=s.length,{start:u,end:d}=t;if(a){var p=r[c-1],m=n(p,c-1),y=e*(p.coordinate+e*m/2-d);s[c-1]=p=Nn(Nn({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate});var v=vm(e,p.tickCoord,()=>m,u,d);v&&(d=p.tickCoord-e*(m/2+i),s[c-1]=Nn(Nn({},p),{},{isShow:!0}))}for(var b=a?c-1:c,w=function(E){var O=s[E],_,T=()=>(_===void 0&&(_=n(O,E)),_);if(E===0){var M=e*(O.coordinate-e*T()/2-u);s[E]=O=Nn(Nn({},O),{},{tickCoord:M<0?O.coordinate-M*e:O.coordinate})}else s[E]=O=Nn(Nn({},O),{},{tickCoord:O.coordinate});var D=vm(e,O.tickCoord,T,u,d);D&&(u=O.tickCoord+e*(T()/2+i),s[E]=Nn(Nn({},O),{},{isShow:!0}))},S=0;S<b;S++)w(S);return s}function Rde(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:c,interval:u,tickFormatter:d,unit:p,angle:m}=e;if(!i||!i.length||!r)return[];if(Pe(u)||hs.isSsr){var y;return(y=Ode(i,Pe(u)?u:0))!==null&&y!==void 0?y:[]}var v=[],b=c==="top"||c==="bottom"?"width":"height",w=p&&b==="width"?Pu(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(O,_)=>{var T=typeof d=="function"?d(O.value,_):O.value;return b==="width"?Ede(Pu(T,{fontSize:t,letterSpacing:n}),w,m):Pu(T,{fontSize:t,letterSpacing:n})[b]},k=i.length>=2?yn(i[1].coordinate-i[0].coordinate):1,E=Cde(a,k,b);return u==="equidistantPreserveStart"?Tde(k,E,S,i,s):(u==="preserveStart"||u==="preserveStartEnd"?v=Pde(k,E,S,i,s,u==="preserveStartEnd"):v=Dde(k,E,S,i,s),v.filter(O=>O.isShow))}var Lde=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>s&&(s=m.width)}});var c=n?n.getBoundingClientRect().width:0,u=i+a,d=s+u+c+(n?r:0);return Math.round(d)}return 0},Bde=["axisLine","width","height","className","hide","ticks"],Ide=["viewBox"],zde=["viewBox"];function D1(e,t){if(e==null)return{};var n,r,i=$de(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $de(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vo.apply(null,arguments)}function k_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(n),!0).forEach(function(r){Ude(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ude(e,t,n){return(t=Hde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hde(e){var t=qde(e,"string");return typeof t=="symbol"?t:t+""}function qde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kde={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Vde(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:c,otherSvgProps:u}=e;if(!c)return null;var d=Wt(Wt(Wt({},u),jt(c,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var p=+(a==="top"&&!s||a==="bottom"&&s);d=Wt(Wt({},d),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var m=+(a==="left"&&!s||a==="right"&&s);d=Wt(Wt({},d),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return j.createElement("line",vo({},d,{className:Ye("recharts-cartesian-axis-line",po(c,"className"))}))}function Fde(e,t,n,r,i,a,s,c,u){var d,p,m,y,v,b,w=c?-1:1,S=e.tickSize||s,k=Pe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=p=e.coordinate,y=n+ +!c*i,m=y-w*S,b=m-w*u,v=k;break;case"left":m=y=e.coordinate,p=t+ +!c*r,d=p-w*S,v=d-w*u,b=k;break;case"right":m=y=e.coordinate,p=t+ +c*r,d=p+w*S,v=d+w*u,b=k;break;default:d=p=e.coordinate,y=n+ +c*i,m=y+w*S,b=m+w*u,v=k;break}return{line:{x1:d,y1:m,x2:p,y2:y},tick:{x:v,y:b}}}function Wde(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Gde(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Yde(e){var{option:t,tickProps:n,value:r}=e,i,a=Ye(n.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))i=j.cloneElement(t,Wt(Wt({},n),{},{className:a}));else if(typeof t=="function")i=t(Wt(Wt({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Ye(s,t?.className)),i=j.createElement(jg,vo({},n,{className:s}),r)}return i}function Xde(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:s,padding:c,tickTextProps:u,orientation:d,mirror:p,x:m,y,width:v,height:b,tickSize:w,tickMargin:S,fontSize:k,letterSpacing:E,getTicksConfig:O,events:_}=e,T=Rde(Wt(Wt({},O),{},{ticks:t}),k,E),M=Wde(d,p),D=Gde(d,p),B=aa(O),q=jt(n,!1),L=Wt(Wt({},B),{},{fill:"none"},jt(r,!1)),K=T.map((V,te)=>{var{line:oe,tick:ue}=Fde(V,m,y,v,b,d,w,p,S),$=Wt(Wt(Wt(Wt({textAnchor:M,verticalAnchor:D},B),{},{stroke:"none",fill:i},q),ue),{},{index:te,payload:V,visibleTicksCount:T.length,tickFormatter:a,padding:c},u);return j.createElement(vn,vo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},xd(_,V,te)),r&&j.createElement("line",vo({},L,oe,{className:Ye("recharts-cartesian-axis-tick-line",po(r,"className"))})),n&&j.createElement(Yde,{option:n,tickProps:$,value:"".concat(typeof a=="function"?a(V.value,te):V.value).concat(s||"")}))});return K.length>0?j.createElement("g",{className:"recharts-cartesian-axis-ticks"},K):null}var Qde=j.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:c}=e,u=D1(e,Bde),[d,p]=j.useState(""),[m,y]=j.useState(""),v=j.useRef([]);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return Lde({ticks:v.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=j.useCallback(w=>{if(w){var S=w.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=Array.from(S);var k=S[0];if(k){var E=window.getComputedStyle(k),O=E.fontSize,_=E.letterSpacing;(O!==d||_!==m)&&(p(O),y(_))}}},[d,m]);return s||r!=null&&r<=0||i!=null&&i<=0?null:j.createElement(vn,{className:Ye("recharts-cartesian-axis",a),ref:b},j.createElement(Vde,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:aa(e)}),j.createElement(Xde,{ticks:c,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:m,getTicksConfig:e,events:u}),j.createElement(ele,{x:e.x,y:e.y,width:e.width,height:e.height},j.createElement(ule,{label:e.label}),e.children))}),Zde=j.memo(Qde,(e,t)=>{var{viewBox:n}=e,r=D1(e,Ide),{viewBox:i}=t,a=D1(t,zde);return Hl(n,i)&&Hl(r,a)}),RN=j.forwardRef((e,t)=>{var n=An(e,Kde);return j.createElement(Zde,vo({},n,{ref:t}))});RN.displayName="CartesianAxis";var WL=(e,t,n,r)=>as(e,"xAxis",t,r),GL=(e,t,n,r)=>is(e,"xAxis",t,r),YL=(e,t,n,r)=>as(e,"yAxis",n,r),XL=(e,t,n,r)=>is(e,"yAxis",n,r),Jde=W([We,WL,YL,GL,XL],(e,t,n,r,i)=>fs(e,"xAxis")?Zu(t,r,!1):Zu(n,i,!1)),efe=(e,t,n,r,i)=>i;function tfe(e){return e.type==="line"}var nfe=W([vg,efe],(e,t)=>e.filter(tfe).find(n=>n.id===t)),rfe=W([We,WL,YL,GL,XL,nfe,Jde,hg],(e,t,n,r,i,a,s,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:p}=c;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{dataKey:m,data:y}=a,v;if(y!=null&&y.length>0?v=y:v=u?.slice(d,p+1),v!=null)return kfe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:s,displayedData:v})}}),ife=["id"],afe=["type","layout","connectNulls","needClip"],sfe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function E_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(n),!0).forEach(function(r){ofe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ofe(e,t,n){return(t=lfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lfe(e){var t=cfe(e,"string");return typeof t=="symbol"?t:t+""}function cfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LN(e,t){if(e==null)return{};var n,r,i=ufe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ufe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xo.apply(null,arguments)}var dfe=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Ql(n,t),payload:e}]};function ffe(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:c,unit:u}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Ql(s,t),hide:c,type:e.tooltipType,color:e.stroke,unit:u}}}var QL=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function hfe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var pfe=(e,t,n)=>{var r=n.reduce((m,y)=>m+y);if(!r)return QL(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,c=[],u=0,d=0;u<n.length;d+=n[u],++u)if(d+n[u]>a){c=[...n.slice(0,u),a-d];break}var p=c.length%2===0?[0,s]:[s];return[...hfe(n,i),...c,...p].map(m=>"".concat(m,"px")).join(", ")};function mfe(e,t){var n;if(j.isValidElement(e))n=j.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=Ye("recharts-line-dot",typeof e!="boolean"?e.className:"");n=j.createElement(kL,xo({},t,{className:r}))}return n}function gfe(e,t){return e==null?!1:t?!0:e.length===1}function yfe(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r;if(!gfe(n,i))return null;var{id:c}=r,u=LN(r,ife),d=z4(i),p=aa(u),m=jt(i,!0),y=n.map((b,w)=>{var S=lr(lr(lr({key:"dot-".concat(w),r:3},p),m),{},{index:w,cx:b.x,cy:b.y,dataKey:a,value:b.value,payload:b.payload,points:n});return mfe(i,S)}),v={clipPath:s?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return j.createElement(vn,xo({className:"recharts-line-dots",key:"dots"},v),y)}function vfe(e){var{showLabels:t,children:n,points:r}=e,i=j.useMemo(()=>r?.map(a=>{var s={x:a.x,y:a.y,width:0,height:0};return lr(lr({},s),{},{value:a.value,payload:a.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[r]);return j.createElement(NL,{value:t?i:null},n)}function C_(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:c,connectNulls:u,needClip:d}=a,p=LN(a,afe),m=lr(lr({},jt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:c,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return j.createElement(j.Fragment,null,r?.length>1&&j.createElement(fS,xo({},m,{pathRef:n})),j.createElement(yfe,{points:r,clipPathId:t,props:a}))}function xfe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function bfe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:c,isAnimationActive:u,animationBegin:d,animationDuration:p,animationEasing:m,animateNewValues:y,width:v,height:b,onAnimationEnd:w,onAnimationStart:S}=n,k=i.current,E=jd(n,"recharts-line-"),[O,_]=j.useState(!1),T=!O,M=j.useCallback(()=>{typeof w=="function"&&w(),_(!1)},[w]),D=j.useCallback(()=>{typeof S=="function"&&S(),_(!0)},[S]),B=xfe(r.current),q=a.current;return j.createElement(vfe,{points:s,showLabels:T},n.children,j.createElement(Nd,{animationId:E,begin:d,duration:p,isActive:u,easing:m,onAnimationEnd:M,onAnimationStart:D,key:E},L=>{var K=At(q,B+q,L),V=Math.min(K,B),te;if(u)if(c){var oe="".concat(c).split(/[,\s]+/gim).map(J=>parseFloat(J));te=pfe(V,B,oe)}else te=QL(B,V);else te=c==null?void 0:String(c);if(k){var ue=k.length/s.length,$=L===1?s:s.map((J,he)=>{var be=Math.floor(he*ue);if(k[be]){var P=k[be];return lr(lr({},J),{},{x:At(P.x,J.x,L),y:At(P.y,J.y,L)})}return y?lr(lr({},J),{},{x:At(v*2,J.x,L),y:At(b/2,J.y,L)}):lr(lr({},J),{},{x:J.x,y:J.y})});return i.current=$,j.createElement(C_,{props:n,points:$,clipPathId:t,pathRef:r,strokeDasharray:te})}return L>0&&B>0&&(i.current=s,a.current=V),j.createElement(C_,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:te})}),j.createElement(bN,{label:n.label}))}function wfe(e){var{clipPathId:t,props:n}=e,r=j.useRef(null),i=j.useRef(0),a=j.useRef(null);return j.createElement(bfe,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Sfe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:dt(e.payload,t)});class Nfe extends j.Component{render(){var t,{hide:n,dot:r,points:i,className:a,xAxisId:s,yAxisId:c,top:u,left:d,width:p,height:m,id:y,needClip:v}=this.props;if(n)return null;var b=Ye("recharts-line",a),w=y,{r:S=3,strokeWidth:k=2}=(t=jt(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},E=z4(r),O=S*2+k;return j.createElement(j.Fragment,null,j.createElement(vn,{className:b},v&&j.createElement("defs",null,j.createElement(zL,{clipPathId:w,xAxisId:s,yAxisId:c}),!E&&j.createElement("clipPath",{id:"clipPath-dots-".concat(w)},j.createElement("rect",{x:d-O/2,y:u-O/2,width:p+O,height:m+O}))),j.createElement(IL,{xAxisId:s,yAxisId:c,data:i,dataPointFormatter:Sfe,errorBarOffset:0},j.createElement(wfe,{props:this.props,clipPathId:w}))),j.createElement(rue,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var ZL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!hs.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function jfe(e){var t=An(e,ZL),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:c,dot:u,hide:d,isAnimationActive:p,label:m,legendType:y,xAxisId:v,yAxisId:b,id:w}=t,S=LN(t,sfe),{needClip:k}=DN(v,b),E=MN(),O=sg(),_=yr(),T=Se(L=>rfe(L,v,b,_,w));if(O!=="horizontal"&&O!=="vertical"||T==null||E==null)return null;var{height:M,width:D,x:B,y:q}=E;return j.createElement(Nfe,xo({},S,{id:w,connectNulls:c,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:p,hide:d,label:m,legendType:y,xAxisId:v,yAxisId:b,points:T,layout:O,height:M,width:D,left:B,top:q,needClip:k}))}function kfe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:c,displayedData:u}=e;return u.map((d,p)=>{var m=dt(d,s);if(t==="horizontal"){var y=aA({axis:n,ticks:i,bandSize:c,entry:d,index:p}),v=bt(m)?null:r.scale(m);return{x:y,y:v,value:m,payload:d}}var b=bt(m)?null:n.scale(m),w=aA({axis:r,ticks:a,bandSize:c,entry:d,index:p});return b==null||w==null?null:{x:b,y:w,value:m,payload:d}}).filter(Boolean)}function Efe(e){var t=An(e,ZL),n=yr();return j.createElement(TN,{id:t.id,type:"line"},r=>j.createElement(j.Fragment,null,j.createElement(_L,{legendPayload:dfe(t)}),j.createElement(ON,{fn:ffe,args:t}),j.createElement(PL,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),j.createElement(jfe,xo({},t,{id:r}))))}var zh=j.memo(Efe);zh.displayName="Line";var Cfe=["dangerouslySetInnerHTML","ticks"],Ofe=["id"],Tfe=["domain"],Afe=["domain"];function P1(){return P1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P1.apply(null,arguments)}function xm(e,t){if(e==null)return{};var n,r,i=Mfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _fe(e){var t=kt();return j.useEffect(()=>(t(Kce(e)),()=>{t(Vce(e))}),[e,t]),null}var Dfe=e=>{var{xAxisId:t,className:n}=e,r=Se(cS),i=yr(),a="xAxis",s=Se(S=>ic(S,a,t,i)),c=Se(S=>z6(S,a,t,i)),u=Se(S=>R6(S,t)),d=Se(S=>kae(S,t)),p=Se(S=>f6(S,t));if(u==null||d==null||p==null)return null;var{dangerouslySetInnerHTML:m,ticks:y}=e,v=xm(e,Cfe),{id:b}=p,w=xm(p,Ofe);return j.createElement(RN,P1({},v,w,{scale:s,x:d.x,y:d.y,width:u.width,height:u.height,className:Ye("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c}))},Pfe={allowDataOverflow:ar.allowDataOverflow,allowDecimals:ar.allowDecimals,allowDuplicatedCategory:ar.allowDuplicatedCategory,height:ar.height,hide:!1,mirror:ar.mirror,orientation:ar.orientation,padding:ar.padding,reversed:ar.reversed,scale:ar.scale,tickCount:ar.tickCount,type:ar.type,xAxisId:0},Rfe=e=>{var t,n,r,i,a,s=An(e,Pfe);return j.createElement(j.Fragment,null,j.createElement(_fe,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),j.createElement(Dfe,s))},Lfe=(e,t)=>{var{domain:n}=e,r=xm(e,Tfe),{domain:i}=t,a=xm(t,Afe);return Hl(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Hl({domain:n},{domain:i}):!1},R1=j.memo(Rfe,Lfe);R1.displayName="XAxis";var Bfe=["dangerouslySetInnerHTML","ticks"],Ife=["id"],zfe=["domain"],$fe=["domain"];function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L1.apply(null,arguments)}function bm(e,t){if(e==null)return{};var n,r,i=Ufe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ufe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Hfe(e){var t=kt();return j.useEffect(()=>(t(Fce(e)),()=>{t(Wce(e))}),[e,t]),null}var qfe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=j.useRef(null),s=j.useRef(null),c=Se(cS),u=yr(),d=kt(),p="yAxis",m=Se(T=>ic(T,p,t,u)),y=Se(T=>L6(T,t)),v=Se(T=>Cae(T,t)),b=Se(T=>z6(T,p,t,u)),w=Se(T=>h6(T,t));if(j.useLayoutEffect(()=>{if(!(r!=="auto"||!y||xN(i)||j.isValidElement(i)||w==null)){var T=a.current;if(T){var M=T.getCalculatedWidth();Math.round(y.width)!==Math.round(M)&&d(Gce({id:t,width:M}))}}},[b,y,d,i,t,r,w]),y==null||v==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:k}=e,E=bm(e,Bfe),{id:O}=w,_=bm(w,Ife);return j.createElement(RN,L1({},E,_,{ref:a,labelRef:s,scale:m,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:Ye("recharts-".concat(p," ").concat(p),n),viewBox:c,ticks:b}))},Kfe={allowDataOverflow:sr.allowDataOverflow,allowDecimals:sr.allowDecimals,allowDuplicatedCategory:sr.allowDuplicatedCategory,hide:!1,mirror:sr.mirror,orientation:sr.orientation,padding:sr.padding,reversed:sr.reversed,scale:sr.scale,tickCount:sr.tickCount,type:sr.type,width:sr.width,yAxisId:0},Vfe=e=>{var t,n,r,i,a,s=An(e,Kfe);return j.createElement(j.Fragment,null,j.createElement(Hfe,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),j.createElement(qfe,s))},Ffe=(e,t)=>{var{domain:n}=e,r=bm(e,zfe),{domain:i}=t,a=bm(t,$fe);return Hl(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Hl({domain:n},{domain:i}):!1},B1=j.memo(Vfe,Ffe);B1.displayName="YAxis";var nb={exports:{}},rb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function Wfe(){if(O_)return rb;O_=1;var e=ql();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,c=e.useDebugValue;return rb.useSyncExternalStoreWithSelector=function(u,d,p,m,y){var v=i(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=s(function(){function S(T){if(!k){if(k=!0,E=T,T=m(T),y!==void 0&&b.hasValue){var M=b.value;if(y(M,T))return O=M}return O=T}if(M=O,n(E,T))return M;var D=m(T);return y!==void 0&&y(M,D)?(E=T,M):(E=T,O=D)}var k=!1,E,O,_=p===void 0?null:p;return[function(){return S(d())},_===null?void 0:function(){return S(_())}]},[d,p,m,y]);var w=r(u,v[0],v[1]);return a(function(){b.hasValue=!0,b.value=w},[w]),c(w),w},rb}var T_;function Gfe(){return T_||(T_=1,nb.exports=Wfe()),nb.exports}Gfe();function Yfe(e){e()}function Xfe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Yfe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var A_={notify(){},get:()=>[]};function Qfe(e,t){let n,r=A_,i=0,a=!1;function s(w){p();const S=r.subscribe(w);let k=!1;return()=>{k||(k=!0,S(),m())}}function c(){r.notify()}function u(){b.onStateChange&&b.onStateChange()}function d(){return a}function p(){i++,n||(n=e.subscribe(u),r=Xfe())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=A_)}function y(){a||(a=!0,p())}function v(){a&&(a=!1,m())}const b={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:d,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>r};return b}var Zfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jfe=Zfe(),ehe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",the=ehe(),nhe=()=>Jfe||the?j.useLayoutEffect:j.useEffect,rhe=nhe(),ihe=Symbol.for("react-redux-context"),ahe=typeof globalThis<"u"?globalThis:{};function she(){if(!j.createContext)return{};const e=ahe[ihe]??=new Map;let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var ohe=she();function lhe(e){const{children:t,context:n,serverState:r,store:i}=e,a=j.useMemo(()=>{const u=Qfe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=j.useMemo(()=>i.getState(),[i]);rhe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const c=n||ohe;return j.createElement(c.Provider,{value:a},t)}var che=lhe,uhe=(e,t)=>t,BN=W([uhe,We,c6,Xt,eL,da,_se,Gt],Bse),IN=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},JL=Ur("mouseClick"),eB=wd();eB.startListening({actionCreator:JL,effect:(e,t)=>{var n=e.payload,r=BN(t.getState(),IN(n));r?.activeIndex!=null&&t.dispatch($ae({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var I1=Ur("mouseMove"),tB=wd();tB.startListening({actionCreator:I1,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=cN(r,r.tooltip.settings.shared),a=BN(r,IN(n));i==="axis"&&(a?.activeIndex!=null?t.dispatch(W6({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(F6()))}});var M_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},nB=gr({name:"rootProps",initialState:M_,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:M_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),dhe=nB.reducer,{updateOptions:fhe}=nB.actions,rB=gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:hhe}=rB.actions,phe=rB.reducer,iB=Ur("keyDown"),aB=Ur("focus"),zN=wd();zN.startListening({actionCreator:iB,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(uN(i,sc(n))),c=da(n);if(a==="Enter"){var u=hm(n,"axis","hover",String(i.index));t.dispatch(C1({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var d=Mae(n),p=d==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,y=s+m*p;if(!(c==null||y>=c.length||y<0)){var v=hm(n,"axis","hover",String(y));t.dispatch(C1({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});zN.startListening({actionCreator:aB,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=hm(n,"axis","hover",String(a));t.dispatch(C1({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Mr=Ur("externalEvent"),sB=wd();sB.startListening({actionCreator:Mr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:Sse(n),activeDataKey:iL(n),activeIndex:ss(n),activeLabel:rL(n),activeTooltipIndex:ss(n),isTooltipActive:Nse(n)};e.payload.handler(r,e.payload.reactEvent)}}});var mhe=W([ac],e=>e.tooltipItemPayloads),ghe=W([mhe,Pd,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),oB=Ur("touchMove"),lB=wd();lB.startListening({actionCreator:oB,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=cN(r,r.tooltip.settings.shared);if(i==="axis"){var a=BN(r,IN({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(W6({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,c=n.touches[0],u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(VR),p=(s=u.getAttribute(FR))!==null&&s!==void 0?s:void 0,m=ghe(t.getState(),d,p);t.dispatch(V6({activeDataKey:p,activeIndex:d,activeCoordinate:m}))}}});var yhe=xR({brush:gde,cartesianAxis:Yce,chartData:Jse,errorBars:mue,graphicalItems:pce,layout:MJ,legend:See,options:Gse,polarAxis:Mle,polarOptions:phe,referenceElements:Nde,rootProps:dhe,tooltip:Uae}),vhe=function(t){return nJ({reducer:yhe,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([eB.middleware,tB.middleware,zN.middleware,sB.middleware,lB.middleware]),devTools:hs.devToolsEnabled})};function cB(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=yr(),a=j.useRef(null);if(i)return n;a.current==null&&(a.current=vhe(t));var s=rS;return j.createElement(che,{context:s,store:a.current},n)}function uB(e){var{layout:t,width:n,height:r,margin:i}=e,a=kt(),s=yr();return j.useEffect(()=>{s||(a(OJ(t)),a(TJ({width:n,height:r})),a(CJ(i)))},[a,s,t,n,r,i]),null}function dB(e){var t=kt();return j.useEffect(()=>{t(fhe(e))},[t,e]),null}var xhe=["children"];function bhe(e,t){if(e==null)return{};var n,r,i=whe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function whe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wm.apply(null,arguments)}var She={width:"100%",height:"100%"},Nhe=j.forwardRef((e,t)=>{var n=WR(),r=GR(),i=ZR();if(!Bl(n)||!Bl(r))return null;var{children:a,otherAttributes:s,title:c,desc:u}=e,d,p;return typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?p=s.role:p=i?"application":void 0,j.createElement(Gw,wm({},s,{title:c,desc:u,role:p,tabIndex:d,width:n,height:r,style:She,ref:t}),a)}),jhe=e=>{var{children:t}=e,n=Se(ag);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return j.createElement(Gw,{width:r,height:i,x:s,y:a},t)},__=j.forwardRef((e,t)=>{var{children:n}=e,r=bhe(e,xhe),i=yr();return i?j.createElement(jhe,null,n):j.createElement(Nhe,wm({ref:t},r),n)});function khe(){var e=kt(),[t,n]=j.useState(null),r=Se(see);return j.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;pr(a)&&a!==r&&e(AJ(a))}},[t,e,r]),n}function D_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ehe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(n),!0).forEach(function(r){Che(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Che(e,t,n){return(t=Ohe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ohe(e){var t=The(e,"string");return typeof t=="symbol"?t:t+""}function The(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ahe=j.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:c,onMouseDown:u,onMouseEnter:d,onMouseLeave:p,onMouseMove:m,onMouseUp:y,onTouchEnd:v,onTouchMove:b,onTouchStart:w,style:S,width:k}=e,E=kt(),[O,_]=j.useState(null),[T,M]=j.useState(null);loe();var D=khe(),B=j.useCallback(Z=>{D(Z),typeof t=="function"&&t(Z),_(Z),M(Z)},[D,t,_,M]),q=j.useCallback(Z=>{E(JL(Z)),E(Mr({handler:a,reactEvent:Z}))},[E,a]),L=j.useCallback(Z=>{E(I1(Z)),E(Mr({handler:d,reactEvent:Z}))},[E,d]),K=j.useCallback(Z=>{E(F6()),E(Mr({handler:p,reactEvent:Z}))},[E,p]),V=j.useCallback(Z=>{E(I1(Z)),E(Mr({handler:m,reactEvent:Z}))},[E,m]),te=j.useCallback(()=>{E(aB())},[E]),oe=j.useCallback(Z=>{E(iB(Z.key))},[E]),ue=j.useCallback(Z=>{E(Mr({handler:s,reactEvent:Z}))},[E,s]),$=j.useCallback(Z=>{E(Mr({handler:c,reactEvent:Z}))},[E,c]),J=j.useCallback(Z=>{E(Mr({handler:u,reactEvent:Z}))},[E,u]),he=j.useCallback(Z=>{E(Mr({handler:y,reactEvent:Z}))},[E,y]),be=j.useCallback(Z=>{E(Mr({handler:w,reactEvent:Z}))},[E,w]),P=j.useCallback(Z=>{E(oB(Z)),E(Mr({handler:b,reactEvent:Z}))},[E,b]),X=j.useCallback(Z=>{E(Mr({handler:v,reactEvent:Z}))},[E,v]);return j.createElement(uL.Provider,{value:O},j.createElement($4.Provider,{value:T},j.createElement("div",{className:Ye("recharts-wrapper",r),style:Ehe({position:"relative",cursor:"default",width:k,height:i},S),onClick:q,onContextMenu:ue,onDoubleClick:$,onFocus:te,onKeyDown:oe,onMouseDown:J,onMouseEnter:L,onMouseLeave:K,onMouseMove:V,onMouseUp:he,onTouchEnd:X,onTouchMove:P,onTouchStart:be,ref:B},n)))}),Mhe=["children","className","width","height","style","compact","title","desc"];function _he(e,t){if(e==null)return{};var n,r,i=Dhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fB=j.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:s,compact:c,title:u,desc:d}=e,p=_he(e,Mhe),m=aa(p);return c?j.createElement(__,{otherAttributes:m,title:u,desc:d},n):j.createElement(Ahe,{className:r,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(__,{otherAttributes:m,title:u,desc:d,ref:t},j.createElement(kde,null,n)))}),Phe=["width","height"];function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z1.apply(null,arguments)}function Rhe(e,t){if(e==null)return{};var n,r,i=Lhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Bhe={top:5,right:5,bottom:5,left:5},Ihe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Bhe,reverseStackOrder:!1,syncMethod:"index"},hB=j.forwardRef(function(t,n){var r,i=An(t.categoricalChartProps,Ihe),{width:a,height:s}=i,c=Rhe(i,Phe);if(!Bl(a)||!Bl(s))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:p,tooltipPayloadSearcher:m,categoricalChartProps:y}=t,v={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:p,tooltipPayloadSearcher:m,eventEmitter:void 0};return j.createElement(cB,{preloadedState:{options:v},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:u},j.createElement(qL,{chartData:y.data}),j.createElement(uB,{width:a,height:s,layout:i.layout,margin:i.margin}),j.createElement(dB,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),j.createElement(fB,z1({},c,{width:a,height:s,ref:n})))}),zhe=["axis"],$he=j.forwardRef((e,t)=>j.createElement(hB,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zhe,tooltipPayloadSearcher:vN,categoricalChartProps:e,ref:t})),Uhe=["axis","item"],Hhe=j.forwardRef((e,t)=>j.createElement(hB,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Uhe,tooltipPayloadSearcher:vN,categoricalChartProps:e,ref:t}));function qhe(e){var t=kt();return j.useEffect(()=>{t(hhe(e))},[t,e]),null}var Khe=["width","height","layout"];function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$1.apply(null,arguments)}function Vhe(e,t){if(e==null)return{};var n,r,i=Fhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Whe={top:5,right:5,bottom:5,left:5},Ghe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Whe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Yhe=j.forwardRef(function(t,n){var r,i=An(t.categoricalChartProps,Ghe),{width:a,height:s,layout:c}=i,u=Vhe(i,Khe);if(!Bl(a)||!Bl(s))return null;var{chartName:d,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:y}=t,v={chartName:d,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:y,eventEmitter:void 0};return j.createElement(cB,{preloadedState:{options:v},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:d},j.createElement(qL,{chartData:i.data}),j.createElement(uB,{width:a,height:s,layout:c,margin:i.margin}),j.createElement(dB,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),j.createElement(qhe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),j.createElement(fB,$1({width:a,height:s},u,{ref:n})))}),Xhe=["item"],Qhe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Zhe=j.forwardRef((e,t)=>{var n=An(e,Qhe);return j.createElement(Yhe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Xhe,tooltipPayloadSearcher:vN,categoricalChartProps:n,ref:t})});function Jhe(){const[e,t]=j.useState([]),[n,r]=j.useState([]),[i,a]=j.useState([]),[s,c]=j.useState([]),[u,d]=j.useState(!0),p=["#3b82f6","#10b981","#f59e0b"];return j.useEffect(()=>{(async()=>{try{d(!0);const y=await qD();t(y.barData||[]),r(y.lineData||[]),a(y.pieData||[]),c(y.tableData||[])}catch(y){console.error("Error fetching dashboard data:",y)}finally{d(!1)}})()},[]),u?h.jsx("p",{className:"text-center mt-8",children:"Đang tải dữ liệu..."}):h.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Thống kê tin nhắn đa kênh"}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs("select",{className:"border rounded-lg px-3 py-2",children:[h.jsx("option",{children:"Tuần"}),h.jsx("option",{children:"Tháng"}),h.jsx("option",{children:"Quý"})]}),h.jsx("button",{className:"border border-gray-300 rounded-lg px-4 py-2 hover:bg-gray-100",children:"Facebook"}),h.jsx("button",{className:"border border-gray-300 rounded-lg px-4 py-2 hover:bg-gray-100",children:"Zalo"}),h.jsx("button",{className:"border border-gray-300 rounded-lg px-4 py-2 hover:bg-gray-100",children:"Web"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{className:"bg-white shadow-md rounded-2xl p-4",children:[h.jsx("h2",{className:"font-semibold mb-2",children:"Tin nhắn theo kênh"}),h.jsx(Wx,{width:"100%",height:250,children:h.jsxs(Hhe,{data:e,children:[h.jsx(R1,{dataKey:"channel"}),h.jsx(B1,{}),h.jsx($x,{}),h.jsx(jl,{}),h.jsx(UL,{dataKey:"messages",fill:"#3b82f6"})]})})]}),h.jsxs("div",{className:"bg-white shadow-md rounded-2xl p-4",children:[h.jsx("h2",{className:"font-semibold mb-2",children:"Xu hướng tin nhắn"}),h.jsx(Wx,{width:"100%",height:250,children:h.jsxs($he,{data:n,children:[h.jsx(R1,{dataKey:"channel"}),h.jsx(B1,{}),h.jsx($x,{}),h.jsx(jl,{}),h.jsx(zh,{type:"monotone",dataKey:"facebook",stroke:"#3b82f6"}),h.jsx(zh,{type:"monotone",dataKey:"zalo",stroke:"#10b981"}),h.jsx(zh,{type:"monotone",dataKey:"web",stroke:"#f59e0b"})]})})]})]}),h.jsxs("div",{className:"bg-white shadow-md rounded-2xl p-4 mb-6",children:[h.jsx("h2",{className:"font-semibold mb-2",children:"Tỉ lệ tin nhắn theo kênh"}),h.jsx(Wx,{width:"100%",height:250,children:h.jsxs(Zhe,{children:[h.jsx(RL,{data:i,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:i.map((m,y)=>h.jsx(Ld,{fill:p[y%p.length]},`cell-${y}`))}),h.jsx($x,{}),h.jsx(jl,{})]})})]}),h.jsxs("div",{className:"bg-white shadow-md rounded-2xl p-4",children:[h.jsx("h2",{className:"font-semibold mb-2",children:"Chi tiết khách hàng"}),h.jsxs("table",{className:"w-full text-left border-collapse",children:[h.jsx("thead",{className:"bg-gray-100",children:h.jsxs("tr",{children:[h.jsx("th",{className:"p-2",children:"Kênh"}),h.jsx("th",{className:"p-2",children:"Khách hàng"}),h.jsx("th",{className:"p-2",children:"Tin nhắn"}),h.jsx("th",{className:"p-2",children:"% thay đổi"}),h.jsx("th",{className:"p-2",children:"Xu hướng"})]})}),h.jsx("tbody",{children:s.map(m=>h.jsxs("tr",{className:"border-b",children:[h.jsx("td",{className:"p-2",children:m.channel}),h.jsx("td",{className:"p-2",children:m.customers}),h.jsx("td",{className:"p-2",children:m.messages}),h.jsxs("td",{className:`p-2 ${m.change>=0?"text-green-600":"text-red-600"}`,children:[m.change,"%"]}),h.jsx("td",{className:"p-2",children:m.change>=0?h.jsx(iU,{className:"text-green-600"}):h.jsx(eU,{className:"text-red-600"})})]},m.channel))})]})]})]})}const epe=()=>{const e=[{step:1,icon:h.jsx(hd,{className:"w-5 h-5"}),title:"Cài đặt cơ bản",text:"Điền thông tin công ty và kết nối dịch vụ cần thiết",description:"Thiết lập thông tin doanh nghiệp và các tài khoản dịch vụ",tasks:["Nhập tên công ty, logo và thông tin liên hệ","Kết nối tài khoản Google (để lưu dữ liệu vào Google Sheets)","Nhập API key ChatGPT hoặc Claude (để chatbot hoạt động)","Cài đặt email nhận thông báo khi có khách hàng mới","Chọn múi giờ và ngôn ngữ hiển thị"]},{step:2,icon:h.jsx(Br,{className:"w-5 h-5"}),title:"Thiết kế chatbot",text:"Tạo tính cách, lời chào và cách trả lời của chatbot",description:"Tùy chỉnh hành vi và phong cách giao tiếp phù hợp với thương hiệu",tasks:["Viết lời chào đầu tiên của chatbot","Mô tả vai trò của chatbot (tư vấn viên, hỗ trợ khách hàng...)","Tạo danh sách câu hỏi thường gặp và câu trả lời","Thiết lập tin nhắn khi không hiểu khách hàng","Thêm thông tin về sản phẩm/dịch vụ để chatbot tư vấn"]},{step:3,icon:h.jsx(N9,{className:"w-5 h-5"}),title:"Form thu thập thông tin",text:"Thiết kế form để chatbot hỏi và lưu thông tin khách hàng",description:"Quyết định thông tin nào cần thu thập từ khách hàng tiềm năng",tasks:["Chọn thông tin cần thu thập (tên, số điện thoại, email, nhu cầu...)","Viết câu hỏi để chatbot hỏi thông tin một cách tự nhiên","Thiết lập thứ tự hỏi thông tin (tên trước, sau đó số điện thoại...)","Tạo tin nhắn cảm ơn sau khi thu thập xong thông tin","Quy định thông tin nào bắt buộc, thông tin nào tùy chọn"]},{step:4,icon:h.jsx(DU,{className:"w-5 h-5"}),title:"Quản lý khách hàng tiềm năng",text:"Cài đặt cách phân loại và theo dõi khách hàng",description:"Thiết lập hệ thống quản lý và đánh giá chất lượng khách hàng",tasks:["Tạo các nhãn phân loại khách hàng (nóng, ấm, lạnh)","Thiết lập điều kiện tự động gắn nhãn dựa vào câu trả lời","Cài đặt thông báo khi có khách hàng tiềm năng chất lượng cao","Kết nối với Google Sheets để xuất danh sách khách hàng","Thiết lập tự động gửi email báo cáo hàng tuần"]},{step:5,icon:h.jsx(Wh,{className:"w-5 h-5"}),title:"Thêm nhân viên",text:"Mời đồng nghiệp và phân quyền truy cập hệ thống",description:"Tạo tài khoản cho team và thiết lập quyền hạn phù hợp",tasks:["Mời nhân viên sales/marketing tham gia hệ thống","Phân quyền xem/chỉnh sửa dữ liệu khách hàng","Thiết lập ai nhận thông báo khi có lead mới","Tạo workspace riêng cho từng bộ phận","Hướng dẫn nhân viên sử dụng dashboard"]}];return e.filter(t=>t.completed).length,h.jsx(h.Fragment,{children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[h.jsx("div",{className:"bg-white border-b border-gray-100 p-6",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Hướng dẫn sử dụng"}),h.jsx("p",{className:"text-gray-600",children:"5 bước đơn giản để chatbot hoạt động"})]})]})}),h.jsxs("div",{className:"p-4",children:[h.jsx("p",{className:"text-gray-600 mb-4",children:"Chỉ cần 5 bước đơn giản để chatbot của bạn sẵn sàng thu thập và chăm sóc khách hàng:"}),h.jsx("div",{className:"space-y-3",children:e.map((t,n)=>h.jsxs("div",{className:`transition-colors cursor-pointer ${t.completed?"bg-green-50 border border-green-200 hover:bg-green-100":"bg-gray-50 border border-gray-200 hover:bg-gray-100"} rounded-lg overflow-hidden`,children:[h.jsxs("div",{className:"flex items-start space-x-4 p-4",children:[h.jsx("div",{className:`flex-shrink-0 w-7 h-7 rounded-full flex items-center justify-center text-sm font-medium ${t.completed?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:t.completed?"✓":t.step}),h.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[h.jsx("div",{className:`p-2 rounded-lg ${t.completed?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:t.icon}),h.jsx("div",{className:"flex-1",children:h.jsx("h3",{className:`text-base font-medium ${t.completed?"text-green-800":"text-gray-700"}`,children:t.title})})]})]}),h.jsx("div",{className:"px-4 pb-4",children:h.jsxs("div",{className:"ml-11 pl-4 border-l border-gray-200",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:"Nhiệm vụ cần thực hiện:"}),h.jsx("ul",{className:"space-y-1",children:t.tasks.map((r,i)=>h.jsxs("li",{className:"text-sm text-gray-600 flex items-start space-x-2",children:[h.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full flex-shrink-0 mt-2"}),h.jsx("span",{children:r})]},i))})]})})]},n))})]})]})})},tpe=()=>{const e=na(),t=[{title:"Gửi tin nhắn",description:"Gửi tin nhắn hàng loạt cho khách hàng",icon:qa,color:"bg-blue-500",path:"/viewer/send-messages",stats:"Quản lý tin nhắn"},{title:"Dữ liệu khách hàng",description:"Xem và xuất dữ liệu khách hàng",icon:Wh,color:"bg-green-500",path:"/viewer/export-data",stats:"Quản lý dữ liệu"},{title:"Quản lý Tag",description:"Xem và quản lý các tag khách hàng",icon:Vh,color:"bg-purple-500",path:"/viewer/tags",stats:"Phân loại khách hàng"}];return h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard Viewer"}),h.jsx("p",{className:"text-gray-600",children:"Chào mừng bạn đến với hệ thống quản lý khách hàng. Bạn có quyền truy cập các tính năng sau:"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((n,r)=>{const i=n.icon;return h.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer",onClick:()=>e(n.path),children:h.jsxs("div",{className:"p-6",children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsx("div",{className:`p-3 rounded-lg ${n.color}`,children:h.jsx(i,{className:"h-6 w-6 text-white"})})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:n.title}),h.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-gray-500",children:n.stats}),h.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-medium text-sm",children:"Truy cập →"})]})]})},r)})}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quyền truy cập của bạn"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[h.jsx(qa,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Gửi tin nhắn"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Gửi tin nhắn hàng loạt"})]}),h.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[h.jsx(Wh,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Xem dữ liệu"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Truy cập thông tin khách hàng"})]}),h.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[h.jsx(Vh,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Quản lý Tag"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Phân loại và gắn thẻ"})]})]})]})]})},npe=()=>h.jsx(i8,{children:h.jsxs(R$,{children:[h.jsx(Ft,{path:"/login",element:h.jsx(W7,{})}),h.jsx(Ft,{path:"/unauthorized",element:h.jsx(PX,{})}),h.jsx(Ft,{path:"/",element:h.jsx(vX,{})}),h.jsx(Ft,{path:"/chat",element:h.jsx(F9,{})}),h.jsxs(Ft,{element:h.jsx(AX,{}),children:[h.jsx(Ft,{path:"/dashboard",element:h.jsx($9,{})}),h.jsx(Ft,{path:"/dashboard/cau-hinh-he-thong",element:h.jsx(EX,{})}),h.jsx(Ft,{path:"/admin/admin-analytics",element:h.jsx(Jhe,{})}),h.jsx(Ft,{path:"/admin/chat",element:h.jsx(cC,{})}),h.jsx(Ft,{path:"/admin/users",element:h.jsx(NH,{})}),h.jsx(Ft,{path:"/dashboard/cau-hinh-kien-thuc",element:h.jsx(PY,{})}),h.jsx(Ft,{path:"/admin/facebook_page",element:h.jsx(yX,{})}),h.jsx(Ft,{path:"/profile",element:h.jsx($O,{})}),h.jsx(Ft,{path:"/admin/dashboard-guide",element:h.jsx(epe,{})})]}),h.jsxs(Ft,{element:h.jsx(DX,{}),children:[h.jsx(Ft,{path:"/viewer",element:h.jsx(tpe,{})}),h.jsx(Ft,{path:"/viewer/chat",element:h.jsx(cC,{})}),h.jsx(Ft,{path:"/viewer/profile",element:h.jsx($O,{})})]})]})});qz.createRoot(document.getElementById("root")).render(h.jsx(F7,{children:h.jsx(npe,{})}));
